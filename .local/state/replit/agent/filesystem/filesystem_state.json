{"file_contents":{"client/src/pages/CategoryPage.tsx":{"content":"import { useRoute } from \"wouter\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { HeroSection } from \"@/components/HeroSection\";\nimport { TemplateCard } from \"@/components/TemplateCard\";\nimport homepageHero from \"@assets/generated_images/Homepage_cinematic_wedding_hero_efb94fa0.png\";\nimport engagementHero from \"@assets/generated_images/Engagement_category_hero_image_e98e3800.png\";\nimport luxuryHero from \"@assets/generated_images/Premium_luxury_category_hero_5c811c21.png\";\nimport indianPunjabiHero from \"@assets/generated_images/Indian_Punjabi_wedding_culture_b8245c44.png\";\n\nconst categoryData: Record<string, any> = {\n  \"wedding-video-invitations\": {\n    name: \"Wedding Video Invitations\",\n    description: \"Create stunning cinematic wedding video invitations that capture the magic of your special day. Share your love story with beautiful animations, romantic music, and professional quality.\",\n    seoDescription: \"Browse premium wedding video invitation templates. Create cinematic 4K wedding invites with AI customization. Perfect for Indian, Arabic, Western, and cultural weddings.\",\n    heroImage: homepageHero,\n    templateCount: 150,\n  },\n  \"premium-luxury\": {\n    name: \"Premium Luxury Invitations\",\n    description: \"Sophisticated and elegant templates for high-end celebrations. Perfect for couples seeking refined, luxurious video invitations with exceptional production quality.\",\n    seoDescription: \"Luxury wedding video invitation templates featuring elegant designs, premium animations, and sophisticated styling for upscale weddings and events.\",\n    heroImage: luxuryHero,\n    templateCount: 45,\n  },\n  \"engagement-invites\": {\n    name: \"Engagement Video Invitations\",\n    description: \"Announce your engagement with romantic and joyful video invitations. Beautiful templates designed to celebrate your love and upcoming wedding journey.\",\n    seoDescription: \"Engagement video invitation templates for couples. Create romantic engagement announcements with personalized photos, music, and AI voiceover.\",\n    heroImage: engagementHero,\n    templateCount: 80,\n  },\n  \"save-the-date\": {\n    name: \"Save the Date Videos\",\n    description: \"Get your guests excited with creative save the date video announcements. Perfect for giving your loved ones advance notice of your special day.\",\n    seoDescription: \"Save the date video templates for weddings and events. Create memorable announcements with custom dates, locations, and personal touches.\",\n    heroImage: homepageHero,\n    templateCount: 55,\n  },\n  \"baby-announcements\": {\n    name: \"Baby Announcement Videos\",\n    description: \"Share your joy with adorable baby announcement video templates. Perfect for pregnancy reveals, gender announcements, and welcoming your bundle of joy.\",\n    seoDescription: \"Baby announcement video templates featuring cute designs, soft colors, and heartwarming animations for pregnancy and birth announcements.\",\n    heroImage: engagementHero,\n    templateCount: 60,\n  },\n  \"birthday-anniversary\": {\n    name: \"Birthday & Anniversary Videos\",\n    description: \"Celebrate life's milestones with personalized video invitations for birthdays, anniversaries, and special celebrations.\",\n    seoDescription: \"Birthday and anniversary video invitation templates. Create personalized celebration invites for milestone birthdays and wedding anniversaries.\",\n    heroImage: luxuryHero,\n    templateCount: 70,\n  },\n  \"corporate-invites\": {\n    name: \"Corporate Event Invitations\",\n    description: \"Professional video invitations for business events, conferences, networking sessions, and corporate celebrations.\",\n    seoDescription: \"Professional corporate event video invitation templates. Perfect for business conferences, networking events, product launches, and company celebrations.\",\n    heroImage: indianPunjabiHero,\n    templateCount: 40,\n  },\n};\n\nexport default function CategoryPage() {\n  const [, params] = useRoute(\"/categories/:slug\");\n  const slug = params?.slug || \"wedding-video-invitations\";\n  const category = categoryData[slug] || categoryData[\"wedding-video-invitations\"];\n\n  const templates = [\n    { id: \"1\", title: \"Cinematic Love Story\", slug: \"cinematic-love-story\", category: \"wedding\", duration: 45, thumbnailUrl: homepageHero, isPremium: true, templateType: \"video\" as const, pageCount: 1, price: 149900 },\n    { id: \"2\", title: \"Golden Elegance\", slug: \"golden-elegance\", category: \"engagement\", duration: 30, thumbnailUrl: luxuryHero, isPremium: false, templateType: \"card\" as const, pageCount: 5, price: 99900 },\n    { id: \"3\", title: \"Traditional Celebration\", slug: \"traditional-celebration\", category: \"wedding\", duration: 60, thumbnailUrl: indianPunjabiHero, isPremium: true, templateType: \"video\" as const, pageCount: 1, price: 199900 },\n    { id: \"4\", title: \"Modern Romance\", slug: \"modern-romance\", category: \"engagement\", duration: 40, thumbnailUrl: engagementHero, isPremium: false, templateType: \"video\" as const, pageCount: 1, price: 129900 },\n    { id: \"5\", title: \"Royal Wedding\", slug: \"royal-wedding\", category: \"wedding\", duration: 55, thumbnailUrl: luxuryHero, isPremium: true, templateType: \"video\" as const, pageCount: 1, price: 249900 },\n    { id: \"6\", title: \"Simple Elegance\", slug: \"simple-elegance\", category: \"wedding\", duration: 35, thumbnailUrl: homepageHero, isPremium: false, templateType: \"card\" as const, pageCount: 3, price: 79900 },\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title={category.name}\n        description={category.seoDescription}\n        keywords={`${slug}, video invitation, ${category.name.toLowerCase()}, wedding video, digital invitation`}\n        schema={{\n          \"@context\": \"https://schema.org\",\n          \"@type\": \"CollectionPage\",\n          \"name\": category.name,\n          \"description\": category.seoDescription,\n        }}\n      />\n\n      <HeroSection\n        title={category.name}\n        description={category.description}\n        backgroundImage={category.heroImage}\n        height=\"large\"\n        primaryCTA={{\n          text: \"Browse Templates\",\n          href: \"#templates\",\n        }}\n      />\n\n      <section className=\"py-12 lg:py-16 bg-background\" id=\"templates\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-3xl mx-auto mb-12\">\n            <h2 className=\"font-playfair text-3xl lg:text-4xl font-bold text-foreground mb-6\">\n              About {category.name}\n            </h2>\n            <div className=\"prose prose-lg max-w-none text-muted-foreground\">\n              <p className=\"mb-4\">\n                {category.description}\n              </p>\n              <p className=\"mb-4\">\n                Our {category.name.toLowerCase()} are designed with attention to every detail, featuring 4K quality, smooth transitions, and culturally authentic elements. Each template is fully customizable with AI-powered tools that let you add your personal touch effortlessly.\n              </p>\n              <p>\n                With over {category.templateCount} templates to choose from, you'll find the perfect style to match your vision and share it instantly with your loved ones on WhatsApp, Instagram, or any platform.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"mb-8\">\n            <h3 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-2\">\n              Featured Templates\n            </h3>\n            <p className=\"text-muted-foreground\">{category.templateCount} templates available</p>\n          </div>\n\n          <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n            {templates.map((template) => (\n              <TemplateCard key={template.id} {...template} />\n            ))}\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":7829,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { storage } from \"./storage\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  limit: '15mb', // Allow up to 10MB files (base64 encoded adds ~33%)\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false, limit: '15mb' }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n    \n    // Start scheduled cleanup job for old unpaid templates\n    // Runs every 24 hours to delete unpaid projects older than 30 days\n    const CLEANUP_INTERVAL_MS = 24 * 60 * 60 * 1000; // 24 hours\n    const DAYS_TO_KEEP = 30;\n    \n    const runCleanup = async () => {\n      try {\n        const deletedCount = await storage.deleteOldUnpaidProjects(DAYS_TO_KEEP);\n        if (deletedCount > 0) {\n          log(`[Cleanup] Deleted ${deletedCount} unpaid projects older than ${DAYS_TO_KEEP} days`);\n        }\n      } catch (error) {\n        console.error(\"[Cleanup] Error during scheduled cleanup:\", error);\n      }\n    };\n    \n    // Run cleanup once on startup (after a short delay)\n    setTimeout(runCleanup, 5000);\n    \n    // Then run every 24 hours\n    setInterval(runCleanup, CLEANUP_INTERVAL_MS);\n    \n    log(`[Cleanup] Scheduled job: delete unpaid projects older than ${DAYS_TO_KEEP} days (runs daily)`);\n  });\n})();\n","path":null,"size_bytes":3247,"size_tokens":null},"client/src/components/PricingCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Check } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\ninterface PricingCardProps {\n  name: string;\n  price: number;\n  period?: string;\n  description: string;\n  features: string[];\n  isPopular?: boolean;\n  ctaText: string;\n  ctaUrl: string;\n}\n\nexport function PricingCard({\n  name,\n  price,\n  period,\n  description,\n  features,\n  isPopular,\n  ctaText,\n  ctaUrl,\n}: PricingCardProps) {\n  return (\n    <Card className={`relative p-6 lg:p-8 hover-elevate transition-all duration-300 ${isPopular ? \"border-2 border-primary shadow-lg\" : \"\"}`} data-testid={`card-pricing-${name.toLowerCase().replace(/\\s+/g, \"-\")}`}>\n      {isPopular && (\n        <Badge className=\"absolute -top-3 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground font-semibold px-4 py-1\">\n          Most Popular\n        </Badge>\n      )}\n      <div className=\"mb-6\">\n        <h3 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-2\">\n          {name}\n        </h3>\n        <p className=\"text-muted-foreground mb-4\">{description}</p>\n        <div className=\"flex items-baseline gap-2\">\n          <span className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground\">\n            {price === 0 ? \"Free\" : `$${price}`}\n          </span>\n          {period && price > 0 && (\n            <span className=\"text-muted-foreground\">/ {period}</span>\n          )}\n        </div>\n      </div>\n      <ul className=\"space-y-3 mb-8\">\n        {features.map((feature, index) => (\n          <li key={index} className=\"flex items-start gap-3\">\n            <Check className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n            <span className=\"text-foreground text-sm lg:text-base\">{feature}</span>\n          </li>\n        ))}\n      </ul>\n      <Button\n        variant={isPopular ? \"default\" : \"outline\"}\n        size=\"lg\"\n        className=\"w-full font-semibold\"\n        asChild\n        data-testid={`button-pricing-${name.toLowerCase().replace(/\\s+/g, \"-\")}`}\n      >\n        <Link href={ctaUrl}>\n          <a>{ctaText}</a>\n        </Link>\n      </Button>\n    </Card>\n  );\n}\n","path":null,"size_bytes":2224,"size_tokens":null},"client/src/pages/CulturePage.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { HeroSection } from \"@/components/HeroSection\";\nimport { TemplateCard } from \"@/components/TemplateCard\";\nimport { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Loader2, SlidersHorizontal, X, Sparkles } from \"lucide-react\";\nimport type { Template } from \"@shared/schema\";\nimport indianPunjabiHero from \"@assets/generated_images/Indian_Punjabi_wedding_culture_b8245c44.png\";\nimport tamilHero from \"@assets/generated_images/Tamil_wedding_culture_page_3a868c20.png\";\nimport arabicHero from \"@assets/generated_images/Arabic_UAE_wedding_culture_5fdde5ea.png\";\nimport nigerianHero from \"@assets/generated_images/Nigerian_traditional_wedding_culture_733beed6.png\";\nimport quinceaneraHero from \"@assets/generated_images/Quinceañera_culture_page_hero_f3e1cb71.png\";\nimport koreanHero from \"@assets/generated_images/korean_hanbok_wedding_ceremony.png\";\nimport chineseHero from \"@assets/generated_images/chinese_tea_ceremony_wedding.png\";\n\ninterface CultureInfo {\n  name: string;\n  localName: string;\n  description: string;\n  traditions: string[];\n  symbols: string[];\n  heroImage: string;\n  templateCount: number;\n  region?: string;  // Maps to database region for fetching templates\n  regions?: string[]; // Multiple regions for Arabic (uae, saudi)\n  seoTitle?: string;\n  seoDescription?: string;\n  keywords?: string;\n}\n\nconst cultureData: Record<string, CultureInfo> = {\n  \"indian-wedding-video-invitation\": {\n    name: \"Indian Wedding Video Invitations\",\n    localName: \"भारतीय विवाह निमंत्रण\",\n    description: \"Create authentic Indian wedding video invitations celebrating rich traditions, vibrant colors, and cultural heritage with cinematic quality.\",\n    traditions: [\"Mehendi Ceremony\", \"Sangeet Night\", \"Baraat Procession\", \"Pheras & Rituals\", \"Reception Celebration\"],\n    symbols: [\"Kalash & Coconut\", \"Marigold Flowers\", \"Sacred Fire\", \"Rangoli Designs\", \"Traditional Attire\"],\n    heroImage: indianPunjabiHero,\n    templateCount: 120,\n    region: \"india\",\n    seoTitle: \"Indian Wedding Video Invitation | WhatsApp Shaadi Invites\",\n    seoDescription: \"Create beautiful Indian wedding video invitations for WhatsApp. 100+ templates for Hindu, Punjabi, South Indian, Bengali weddings. Mehendi, Sangeet, Haldi ceremony invites.\",\n    keywords: \"indian wedding invitation video, shaadi video invitation, hindu wedding video, whatsapp wedding invitation india, mehendi invitation, sangeet video\",\n  },\n  \"punjabi\": {\n    name: \"Punjabi Wedding Videos\",\n    localName: \"ਪੰਜਾਬੀ ਵਿਆਹ\",\n    description: \"Vibrant Punjabi wedding video invitations featuring Bhangra, colorful turbans, and joyful celebrations of love and family.\",\n    traditions: [\"Roka Ceremony\", \"Chunni Ceremony\", \"Jaggo & Sangeet\", \"Anand Karaj\", \"Doli & Vidai\"],\n    symbols: [\"Red & Gold Colors\", \"Phulkari Patterns\", \"Dhol Drums\", \"Sehra for Groom\", \"Chooda for Bride\"],\n    heroImage: indianPunjabiHero,\n    templateCount: 45,\n    region: \"india\",\n    seoTitle: \"Punjabi Wedding Video Invitation | Bhangra Style Invites\",\n    seoDescription: \"Create vibrant Punjabi wedding video invitations with Bhangra beats and colorful traditions. Perfect for Anand Karaj and Sikh weddings.\",\n    keywords: \"punjabi wedding invitation, sikh wedding video, anand karaj invitation, bhangra wedding video, punjabi shaadi invite\",\n  },\n  \"tamil\": {\n    name: \"Tamil Wedding Videos\",\n    localName: \"தமிழ் திருமண வீடியோ\",\n    description: \"Traditional Tamil wedding video invitations honoring Dravidian heritage with temple aesthetics and sacred rituals.\",\n    traditions: [\"Sumangali Prarthanai\", \"Kashi Yatra\", \"Oonjal Ceremony\", \"Saptapadi\", \"Grihapravesh\"],\n    symbols: [\"Silk Sarees\", \"Jasmine Garlands\", \"Temple Architecture\", \"Thali Mangalsutra\", \"Banana Leaves\"],\n    heroImage: tamilHero,\n    templateCount: 38,\n    region: \"india\",\n    seoTitle: \"Tamil Wedding Video Invitation | South Indian Invites\",\n    seoDescription: \"Create traditional Tamil wedding video invitations with temple aesthetics and authentic South Indian customs. Perfect for Brahmin and Hindu weddings.\",\n    keywords: \"tamil wedding invitation, south indian wedding video, brahmin wedding invite, chennai wedding video, tamil kalyanam invitation\",\n  },\n  \"telugu\": {\n    name: \"Telugu Wedding Videos\",\n    localName: \"తెలుగు పెళ్ళి వీడియో\",\n    description: \"Elegant Telugu wedding video invitations showcasing Andhra Pradesh and Telangana wedding customs.\",\n    traditions: [\"Pellikuthuru\", \"Snatakam\", \"Kashi Yatra\", \"Madhuparkam\", \"Jeelakarra Bellam\"],\n    symbols: [\"Gold Jewelry\", \"Kanchipuram Silk\", \"Turmeric Paste\", \"Mango Leaves\", \"Traditional Kolam\"],\n    heroImage: tamilHero,\n    templateCount: 32,\n    region: \"india\",\n    seoTitle: \"Telugu Wedding Video Invitation | Andhra & Telangana Invites\",\n    seoDescription: \"Create elegant Telugu wedding video invitations for Andhra Pradesh and Telangana weddings. Traditional Pellikuthuru and ceremony invites.\",\n    keywords: \"telugu wedding invitation, andhra wedding video, telangana wedding invite, hyderabad wedding video, telugu pelli invitation\",\n  },\n  \"gujarati\": {\n    name: \"Gujarati Wedding Videos\",\n    localName: \"ગુજરાતી લગ્ન વીડિયો\",\n    description: \"Colorful Gujarati wedding video invitations featuring Garba, traditional rituals, and joyful celebrations.\",\n    traditions: [\"Griha Shanti\", \"Mandap Mahurat\", \"Jaan\", \"Varmala\", \"Saptapadi\"],\n    symbols: [\"Bandhani Prints\", \"Mirror Work\", \"Dandiya Sticks\", \"Swastik Symbol\", \"Coconut & Dates\"],\n    heroImage: indianPunjabiHero,\n    templateCount: 28,\n    region: \"india\",\n    seoTitle: \"Gujarati Wedding Video Invitation | Garba Night Invites\",\n    seoDescription: \"Create colorful Gujarati wedding video invitations with Garba and Dandiya themes. Perfect for traditional Gujarat weddings.\",\n    keywords: \"gujarati wedding invitation, garba wedding video, dandiya night invite, ahmedabad wedding video, gujarati lagna invitation\",\n  },\n  \"bengali\": {\n    name: \"Bengali Wedding Videos\",\n    localName: \"বাংলা বিয়ে ভিডিও\",\n    description: \"Artistic Bengali wedding video invitations honoring Tagore's land with poetry, music, and rituals.\",\n    traditions: [\"Aashirbad\", \"Dodhi Mangal\", \"Bor Jatri\", \"Subho Drishti\", \"Saptapadi\"],\n    symbols: [\"Red & White Saree\", \"Shankha Pola Bangles\", \"Alpana Designs\", \"Topor Crown\", \"Betel Leaves\"],\n    heroImage: tamilHero,\n    templateCount: 26,\n    region: \"india\",\n    seoTitle: \"Bengali Wedding Video Invitation | Biye Invites\",\n    seoDescription: \"Create artistic Bengali wedding video invitations with traditional Alpana designs and authentic customs. Perfect for Kolkata weddings.\",\n    keywords: \"bengali wedding invitation, kolkata wedding video, biye invitation, bengali shaadi video, subho drishti invitation\",\n  },\n  \"muslim-nikah\": {\n    name: \"Muslim Nikah Videos\",\n    localName: \"نکاح کی ویڈیو\",\n    description: \"Elegant Muslim nikah video invitations respecting Islamic traditions with modest and beautiful designs.\",\n    traditions: [\"Mangni\", \"Mehendi\", \"Nikah Ceremony\", \"Rukhsati\", \"Walima Reception\"],\n    symbols: [\"Crescent & Star\", \"Arabic Calligraphy\", \"Henna Designs\", \"Green & Gold\", \"Floral Patterns\"],\n    heroImage: arabicHero,\n    templateCount: 42,\n    region: \"india\",\n    seoTitle: \"Muslim Nikah Video Invitation | Islamic Wedding Invites\",\n    seoDescription: \"Create elegant Muslim Nikah video invitations with Islamic patterns and traditional designs. Perfect for Walima and Mehendi ceremonies.\",\n    keywords: \"nikah invitation video, muslim wedding video, islamic wedding invitation, walima invitation, mehendi ceremony video\",\n  },\n  \"christian\": {\n    name: \"Christian Wedding Videos\",\n    localName: \"క్రైస్తవ వివాహ వీడియో\",\n    description: \"Sacred Christian wedding video invitations for church ceremonies and holy matrimony celebrations.\",\n    traditions: [\"Church Ceremony\", \"Exchange of Vows\", \"Ring Exchange\", \"Unity Candle\", \"First Dance\"],\n    symbols: [\"Cross & Bible\", \"White Dove\", \"Wedding Bells\", \"Church Architecture\", \"White & Ivory\"],\n    heroImage: indianPunjabiHero,\n    templateCount: 35,\n    region: \"india\",\n    seoTitle: \"Christian Wedding Video Invitation | Church Wedding Invites\",\n    seoDescription: \"Create sacred Christian wedding video invitations for church ceremonies. Beautiful designs for holy matrimony celebrations.\",\n    keywords: \"christian wedding invitation, church wedding video, holy matrimony invitation, christian marriage video\",\n  },\n  \"arabic-wedding-video-uae-saudi\": {\n    name: \"Arabic Wedding Videos - UAE & Saudi\",\n    localName: \"فيديو الزفاف العربي\",\n    description: \"Luxurious Arabic wedding video invitations for UAE and Saudi celebrations with opulent designs and traditional elegance.\",\n    traditions: [\"Henna Night\", \"Zaffa Procession\", \"Katb Al-Kitab\", \"Wedding Party\", \"Honeymoon Send-off\"],\n    symbols: [\"Gold Decor\", \"Arabic Calligraphy\", \"Oud Perfume\", \"Luxurious Fabrics\", \"Intricate Patterns\"],\n    heroImage: arabicHero,\n    templateCount: 55,\n    regions: [\"uae\", \"saudi\"],\n    seoTitle: \"Arabic Wedding Video Invitation | UAE & Saudi Wedding Invites\",\n    seoDescription: \"Create luxury Arabic wedding videos for UAE and Saudi Arabia. Dubai, Abu Dhabi, Riyadh templates with traditional Islamic designs.\",\n    keywords: \"arabic wedding invitation video, uae wedding video, saudi wedding invitation, dubai wedding video, دعوة زفاف عربية\",\n  },\n  \"nigerian-traditional-wedding-video\": {\n    name: \"Nigerian Traditional Wedding Videos\",\n    localName: \"Ìgbéyàwó Nàìjíríà\",\n    description: \"Vibrant Nigerian wedding video invitations celebrating African heritage with colorful traditional attire and customs.\",\n    traditions: [\"Introduction Ceremony\", \"Wine Carrying\", \"Bride Price\", \"Traditional Dance\", \"Cultural Blessings\"],\n    symbols: [\"Ankara Fabric\", \"Gele Headwrap\", \"Coral Beads\", \"Aso Ebi\", \"Traditional Drums\"],\n    heroImage: nigerianHero,\n    templateCount: 48,\n    seoTitle: \"Nigerian Traditional Wedding Video Invitation | African Wedding Invites\",\n    seoDescription: \"Create vibrant Nigerian traditional wedding video invitations with authentic African heritage designs. Aso Ebi and cultural customs.\",\n    keywords: \"nigerian wedding invitation, african wedding video, traditional nigerian wedding, aso ebi invitation, yoruba wedding video\",\n  },\n  \"quinceanera-video-invitation\": {\n    name: \"Quinceañera Video Invitations\",\n    localName: \"Invitación de Quinceañera\",\n    description: \"Beautiful quinceañera video invitations celebrating a young woman's 15th birthday with Latin American traditions.\",\n    traditions: [\"Mass Ceremony\", \"Changing of Shoes\", \"Last Doll\", \"Father-Daughter Dance\", \"Waltz\"],\n    symbols: [\"Tiara & Crown\", \"Pink & Gold\", \"Roses\", \"Butterfly Theme\", \"Ball Gown\"],\n    heroImage: quinceaneraHero,\n    templateCount: 40,\n    seoTitle: \"Quinceañera Video Invitation | 15th Birthday Invites\",\n    seoDescription: \"Create beautiful quinceañera video invitations for 15th birthday celebrations. Traditional Latin American designs with tiara and rose themes.\",\n    keywords: \"quinceanera invitation video, 15 birthday invitation, quince años video, mis quince invitation, latin birthday video\",\n  },\n  \"chinese-tea-ceremony-video\": {\n    name: \"Chinese Tea Ceremony Videos\",\n    localName: \"中国茶道婚礼视频\",\n    description: \"Traditional Chinese wedding video invitations honoring tea ceremony customs and ancient Chinese traditions.\",\n    traditions: [\"Tea Ceremony\", \"Hair Combing Ritual\", \"Wedding Banquet\", \"Door Games\", \"Red Packet Exchange\"],\n    symbols: [\"Red & Gold Colors\", \"Dragon & Phoenix\", \"Double Happiness\", \"Peonies\", \"Lanterns\"],\n    heroImage: chineseHero,\n    templateCount: 36,\n    seoTitle: \"Chinese Wedding Video Invitation | Tea Ceremony Invites\",\n    seoDescription: \"Create traditional Chinese wedding video invitations with tea ceremony and Double Happiness themes. Red and gold designs.\",\n    keywords: \"chinese wedding invitation, tea ceremony video, double happiness invitation, chinese wedding video, 中国婚礼邀请\",\n  },\n  \"korean-pyebaek-video\": {\n    name: \"Korean Pyebaek Ceremony Videos\",\n    localName: \"한국 폐백 비디오\",\n    description: \"Elegant Korean wedding video invitations featuring traditional Hanbok attire and Pyebaek ceremony.\",\n    traditions: [\"Pyebaek Ceremony\", \"Modern Ceremony\", \"Paebaek Bows\", \"Date & Nut Toss\", \"Reception\"],\n    symbols: [\"Hanbok Attire\", \"Red & Blue Colors\", \"Korean Knots\", \"Ducks Symbolism\", \"Traditional Table\"],\n    heroImage: koreanHero,\n    templateCount: 30,\n    seoTitle: \"Korean Wedding Video Invitation | Pyebaek Ceremony Invites\",\n    seoDescription: \"Create elegant Korean wedding video invitations with Hanbok and Pyebaek ceremony traditions. Traditional Korean designs.\",\n    keywords: \"korean wedding invitation, pyebaek video, hanbok wedding invitation, korean ceremony video, 한국 결혼식 초대장\",\n  },\n  \"filipino-debut-video\": {\n    name: \"Filipino Debut Videos\",\n    localName: \"Debut ng Pilipino\",\n    description: \"Festive Filipino debut video invitations for 18th birthday celebrations with traditional customs.\",\n    traditions: [\"Grand Entrance\", \"18 Roses Dance\", \"18 Candles\", \"Father-Daughter Dance\", \"Debut Waltz\"],\n    symbols: [\"Gown & Tiara\", \"Roses\", \"Pearls\", \"Butterfly Theme\", \"Gold Accents\"],\n    heroImage: quinceaneraHero,\n    templateCount: 32,\n    seoTitle: \"Filipino Debut Video Invitation | 18th Birthday Invites\",\n    seoDescription: \"Create festive Filipino debut video invitations for 18th birthday celebrations. 18 Roses and 18 Candles traditions.\",\n    keywords: \"filipino debut invitation, 18th birthday video, debut party invitation, filipino birthday video, debutante invitation\",\n  },\n  \"jewish-bar-bat-mitzvah-video-invitation\": {\n    name: \"Jewish Bar/Bat Mitzvah Videos\",\n    localName: \"בר/בת מצווה\",\n    description: \"Meaningful Jewish Bar and Bat Mitzvah video invitations celebrating coming of age with sacred traditions.\",\n    traditions: [\"Torah Reading\", \"Aliyah Ceremony\", \"Candle Lighting\", \"Hora Dance\", \"Reception Celebration\"],\n    symbols: [\"Star of David\", \"Torah Scroll\", \"Tallit & Kippah\", \"Blue & Silver\", \"Hamsa Hand\"],\n    heroImage: arabicHero,\n    templateCount: 34,\n    seoTitle: \"Bar/Bat Mitzvah Video Invitation | Jewish Celebration Invites\",\n    seoDescription: \"Create meaningful Bar and Bat Mitzvah video invitations with Star of David and Torah themes. Jewish coming of age celebrations.\",\n    keywords: \"bar mitzvah invitation video, bat mitzvah video, jewish celebration invitation, torah reading invitation, בר מצווה הזמנה\",\n  },\n};\n\ninterface TemplateResponse {\n  templates: Template[];\n  pagination: { total: number; offset: number; limit: number; hasMore: boolean };\n}\n\nconst TEMPLATE_TYPES = [\n  { value: \"video\", label: \"Video\" },\n  { value: \"card\", label: \"Card\" },\n];\n\nconst SORT_OPTIONS = [\n  { value: \"popular\", label: \"Popular\" },\n  { value: \"newest\", label: \"Newest\" },\n  { value: \"price_low\", label: \"Low to High\" },\n  { value: \"price_high\", label: \"High to Low\" },\n];\n\nfunction FilterChip({ label, isSelected, onClick }: { label: string; isSelected: boolean; onClick: () => void }) {\n  return (\n    <button\n      onClick={onClick}\n      className={`px-3 py-1.5 text-sm rounded-full border transition-colors ${\n        isSelected\n          ? \"bg-primary text-primary-foreground border-primary\"\n          : \"bg-background text-muted-foreground border-border hover:border-primary/50 hover:text-foreground\"\n      }`}\n    >\n      {label}\n    </button>\n  );\n}\n\nfunction FilterOption({ label, isSelected, onClick }: { label: string; isSelected: boolean; onClick: () => void }) {\n  return (\n    <button\n      onClick={onClick}\n      className={`px-2.5 py-1 text-xs rounded-full border transition-colors ${\n        isSelected\n          ? \"bg-primary/10 text-primary border-primary/30\"\n          : \"bg-muted/50 text-muted-foreground border-transparent hover:bg-muted\"\n      }`}\n    >\n      {label}\n    </button>\n  );\n}\n\nexport default function CulturePage() {\n  const [location] = useLocation();\n  const [typeFilter, setTypeFilter] = useState<string | null>(null);\n  const [sortFilter, setSortFilter] = useState<string | null>(null);\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  \n  // Parse the culture slug from the URL path\n  const pathParts = location.replace(\"/culture/\", \"\").split(\"/\").filter(Boolean);\n  \n  const slug = pathParts.length > 1 ? pathParts[pathParts.length - 1] : pathParts[0] || \"indian-wedding-video-invitation\";\n  const culture = cultureData[slug] || cultureData[\"indian-wedding-video-invitation\"];\n\n  // Build region query for API\n  const regionQuery = culture.regions \n    ? culture.regions.join(',') \n    : culture.region || '';\n\n  // Build query params for API\n  const buildQueryParams = () => {\n    const params = new URLSearchParams();\n    if (regionQuery) params.set(\"region\", regionQuery);\n    if (typeFilter) params.set(\"type\", typeFilter);\n    if (sortFilter) params.set(\"sort\", sortFilter);\n    params.set(\"limit\", \"25\");\n    return params.toString();\n  };\n\n  // Fetch real templates from database based on culture's region\n  const { data, isLoading } = useQuery<TemplateResponse>({\n    queryKey: [\"/api/templates\", { region: regionQuery, type: typeFilter, sort: sortFilter }],\n    queryFn: async () => {\n      const queryString = buildQueryParams();\n      const response = await fetch(`/api/templates?${queryString}`);\n      if (!response.ok) throw new Error(\"Failed to fetch templates\");\n      return response.json();\n    },\n  });\n  \n  const templates = data?.templates || [];\n  const totalCount = data?.pagination?.total || templates.length;\n  const hasActiveFilters = typeFilter || sortFilter;\n\n  const clearAllFilters = () => {\n    setTypeFilter(null);\n    setSortFilter(null);\n  };\n\n  // SEO Schema markup\n  const collectionSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"CollectionPage\",\n    name: culture.seoTitle || culture.name,\n    description: culture.seoDescription || culture.description,\n    url: `https://weddinginvite.ai/culture/${slug}`,\n    about: {\n      \"@type\": \"Thing\",\n      name: culture.name,\n      description: culture.description\n    },\n    numberOfItems: templates.length || culture.templateCount\n  };\n\n  const breadcrumbSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"BreadcrumbList\",\n    itemListElement: [\n      {\n        \"@type\": \"ListItem\",\n        position: 1,\n        name: \"Home\",\n        item: \"https://weddinginvite.ai\"\n      },\n      {\n        \"@type\": \"ListItem\",\n        position: 2,\n        name: \"Cultures\",\n        item: \"https://weddinginvite.ai/culture\"\n      },\n      {\n        \"@type\": \"ListItem\",\n        position: 3,\n        name: culture.name,\n        item: `https://weddinginvite.ai/culture/${slug}`\n      }\n    ]\n  };\n\n  const faqSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"FAQPage\",\n    mainEntity: [\n      {\n        \"@type\": \"Question\",\n        name: `How do I create a ${culture.name.toLowerCase()}?`,\n        acceptedAnswer: {\n          \"@type\": \"Answer\",\n          text: `Choose from our ${culture.templateCount}+ ${culture.name.toLowerCase()} templates, customize with your details, and share instantly via WhatsApp or download in HD quality.`\n        }\n      },\n      {\n        \"@type\": \"Question\",\n        name: `What ceremonies are included in ${culture.name.toLowerCase()}?`,\n        acceptedAnswer: {\n          \"@type\": \"Answer\",\n          text: `Our ${culture.name.toLowerCase()} include templates for: ${culture.traditions.join(', ')}.`\n        }\n      }\n    ]\n  };\n\n  return (\n    <>\n      <SEOHead\n        title={culture.seoTitle || culture.name}\n        description={culture.seoDescription || `${culture.description} Browse ${culture.templateCount}+ authentic video invitation templates.`}\n        keywords={culture.keywords || `${culture.name}, ${slug}, cultural wedding video, ${culture.localName}, traditional invitation`}\n        schema={[collectionSchema, breadcrumbSchema, faqSchema]}\n      />\n\n      <HeroSection\n        title={culture.name}\n        subtitle={culture.localName}\n        description={culture.description}\n        backgroundImage={culture.heroImage}\n        height=\"large\"\n        primaryCTA={{\n          text: \"Browse Templates\",\n          href: \"#templates\",\n        }}\n      />\n\n      <section className=\"py-12 lg:py-16 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 mb-16\">\n            <Card className=\"p-8\">\n              <h2 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-6\">\n                Traditional Ceremonies\n              </h2>\n              <ul className=\"space-y-3\">\n                {culture.traditions.map((tradition: string, index: number) => (\n                  <li key={index} className=\"flex items-start gap-3\">\n                    <span className=\"w-2 h-2 rounded-full bg-primary mt-2 flex-shrink-0\" />\n                    <span className=\"text-muted-foreground\">{tradition}</span>\n                  </li>\n                ))}\n              </ul>\n            </Card>\n\n            <Card className=\"p-8\">\n              <h2 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-6\">\n                Cultural Symbols\n              </h2>\n              <ul className=\"space-y-3\">\n                {culture.symbols.map((symbol: string, index: number) => (\n                  <li key={index} className=\"flex items-start gap-3\">\n                    <span className=\"w-2 h-2 rounded-full bg-accent mt-2 flex-shrink-0\" />\n                    <span className=\"text-muted-foreground\">{symbol}</span>\n                  </li>\n                ))}\n              </ul>\n            </Card>\n          </div>\n\n          <div className=\"mb-6\" id=\"templates\">\n            <h3 className=\"font-playfair text-3xl lg:text-4xl font-bold text-foreground mb-2 text-center\">\n              {culture.name} Templates\n            </h3>\n            <p className=\"text-muted-foreground text-center text-lg mb-6\">\n              Culturally authentic templates for your special occasion\n            </p>\n          </div>\n\n          <div className=\"flex flex-wrap items-center gap-3 mb-4 pb-4 border-b\">\n            <div className=\"relative\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"gap-2 rounded-full\"\n                onClick={() => setIsFilterOpen(!isFilterOpen)}\n                data-testid=\"button-filters\"\n              >\n                <SlidersHorizontal className=\"w-4 h-4\" />\n                Filters\n                {hasActiveFilters && (\n                  <span className=\"w-2 h-2 rounded-full bg-primary\" />\n                )}\n              </Button>\n\n              {isFilterOpen && (\n                <>\n                  <div \n                    className=\"fixed inset-0 z-40\" \n                    onClick={() => setIsFilterOpen(false)}\n                  />\n                  <div className=\"absolute left-0 top-full mt-2 w-72 p-4 rounded-xl border bg-card shadow-lg z-50\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div className=\"flex items-center gap-2 text-sm font-semibold\">\n                        <SlidersHorizontal className=\"w-4 h-4\" />\n                        Filters\n                      </div>\n                      <button \n                        onClick={() => setIsFilterOpen(false)}\n                        className=\"text-muted-foreground hover:text-foreground\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n\n                    <div className=\"space-y-4\">\n                      <div>\n                        <label className=\"text-sm font-medium text-foreground mb-2 block\">Type</label>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {TEMPLATE_TYPES.map((option) => (\n                            <FilterOption\n                              key={option.value}\n                              label={option.label}\n                              isSelected={typeFilter === option.value}\n                              onClick={() => setTypeFilter(typeFilter === option.value ? null : option.value)}\n                            />\n                          ))}\n                        </div>\n                      </div>\n\n                      <div>\n                        <label className=\"text-sm font-medium text-foreground mb-2 block\">Sort by</label>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {SORT_OPTIONS.map((option) => (\n                            <FilterOption\n                              key={option.value}\n                              label={option.label}\n                              isSelected={sortFilter === option.value}\n                              onClick={() => setSortFilter(sortFilter === option.value ? null : option.value)}\n                            />\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex gap-2 mt-5 pt-4 border-t\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"flex-1 rounded-full\"\n                        onClick={clearAllFilters}\n                      >\n                        Clear All\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        className=\"flex-1 rounded-full\"\n                        onClick={() => setIsFilterOpen(false)}\n                      >\n                        Apply\n                      </Button>\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n\n            <div className=\"flex flex-wrap gap-2 flex-1\">\n              {TEMPLATE_TYPES.map((type) => (\n                <FilterChip\n                  key={type.value}\n                  label={type.label}\n                  isSelected={typeFilter === type.value}\n                  onClick={() => setTypeFilter(typeFilter === type.value ? null : type.value)}\n                />\n              ))}\n              <div className=\"w-px h-6 bg-border mx-1 self-center\" />\n              {SORT_OPTIONS.slice(0, 2).map((sort) => (\n                <FilterChip\n                  key={sort.value}\n                  label={sort.label}\n                  isSelected={sortFilter === sort.value}\n                  onClick={() => setSortFilter(sortFilter === sort.value ? null : sort.value)}\n                />\n              ))}\n            </div>\n\n            <div className=\"flex items-center gap-2 text-muted-foreground flex-shrink-0\">\n              <Sparkles className=\"w-4 h-4 text-primary\" />\n              <span className=\"text-sm font-medium\">\n                {isLoading ? \"Loading...\" : `${totalCount} designs`}\n              </span>\n            </div>\n          </div>\n\n          {hasActiveFilters && (\n            <div className=\"flex items-center gap-2 mb-4 flex-wrap\">\n              <span className=\"text-xs text-muted-foreground\">Active:</span>\n              {typeFilter && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {TEMPLATE_TYPES.find(t => t.value === typeFilter)?.label}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => setTypeFilter(null)}\n                  />\n                </Badge>\n              )}\n              {sortFilter && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {SORT_OPTIONS.find(s => s.value === sortFilter)?.label}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => setSortFilter(null)}\n                  />\n                </Badge>\n              )}\n              <button\n                onClick={clearAllFilters}\n                className=\"text-xs text-primary hover:text-primary/80 font-medium hover:underline\"\n              >\n                Clear all\n              </button>\n            </div>\n          )}\n\n          {isLoading ? (\n            <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n              {[...Array(10)].map((_, i) => (\n                <div key={`skeleton-${i}`} className=\"space-y-2\">\n                  <Skeleton className=\"aspect-[3/4] w-full rounded-lg\" />\n                  <Skeleton className=\"h-4 w-3/4\" />\n                  <Skeleton className=\"h-3 w-1/2\" />\n                </div>\n              ))}\n            </div>\n          ) : templates.length === 0 ? (\n            <Card className=\"p-10 text-center\">\n              <div className=\"max-w-md mx-auto\">\n                <h3 className=\"font-playfair text-xl font-bold text-foreground mb-2\">\n                  No Templates Found\n                </h3>\n                <p className=\"text-muted-foreground text-sm mb-5\">\n                  {hasActiveFilters \n                    ? \"Try adjusting your filters to see more results\"\n                    : `Templates for ${culture.name} are coming soon!`\n                  }\n                </p>\n                {hasActiveFilters && (\n                  <Button onClick={clearAllFilters} variant=\"outline\">\n                    Clear Filters\n                  </Button>\n                )}\n              </div>\n            </Card>\n          ) : (\n            <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n              {templates.map((template) => (\n                <TemplateCard\n                  key={template.id}\n                  id={template.id}\n                  title={template.templateName}\n                  slug={template.slug}\n                  category={template.category}\n                  duration={template.durationSec}\n                  thumbnailUrl={template.thumbnailUrl}\n                  demoVideoUrl={template.previewVideoUrl}\n                  templateType={template.templateType as \"video\" | \"card\"}\n                  isPremium={Number(template.price) > 150000}\n                  pageCount={(template.templateJson as any)?.pages?.length || 1}\n                  price={Number(template.price)}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":31223,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/ProcessStep.tsx":{"content":"interface ProcessStepProps {\n  number: number;\n  title: string;\n  description: string;\n  icon: React.ReactNode;\n}\n\nexport function ProcessStep({ number, title, description, icon }: ProcessStepProps) {\n  return (\n    <div className=\"relative flex flex-col items-center text-center\" data-testid={`step-${number}`}>\n      <div className=\"w-20 h-20 lg:w-24 lg:h-24 rounded-full bg-primary/10 border-2 border-primary flex items-center justify-center mb-6 relative z-10\">\n        <div className=\"text-primary\">\n          {icon}\n        </div>\n        <div className=\"absolute -top-2 -right-2 w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-playfair font-bold text-lg shadow-lg\">\n          {number}\n        </div>\n      </div>\n      <h3 className=\"font-playfair text-xl lg:text-2xl font-bold text-foreground mb-3\">\n        {title}\n      </h3>\n      <p className=\"text-muted-foreground text-sm lg:text-base max-w-xs\">\n        {description}\n      </p>\n    </div>\n  );\n}\n","path":null,"size_bytes":1009,"size_tokens":null},"client/src/components/HeroSection.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { Link } from \"wouter\";\nimport { ArrowRight } from \"lucide-react\";\n\ninterface HeroSectionProps {\n  title: string;\n  subtitle?: string;\n  description: string;\n  backgroundImage: string;\n  primaryCTA?: {\n    text: string;\n    href: string;\n  };\n  secondaryCTA?: {\n    text: string;\n    href: string;\n  };\n  height?: \"full\" | \"large\" | \"medium\";\n}\n\nexport function HeroSection({\n  title,\n  subtitle,\n  description,\n  backgroundImage,\n  primaryCTA,\n  secondaryCTA,\n  height = \"medium\",\n}: HeroSectionProps) {\n  const heightClass = {\n    full: \"min-h-screen\",\n    large: \"min-h-[80vh]\",\n    medium: \"min-h-[60vh]\",\n  }[height];\n\n  return (\n    <div className={`relative ${heightClass} flex items-center justify-center overflow-hidden`} data-testid=\"hero-section\">\n      <div className=\"absolute inset-0 z-0\">\n        <img\n          src={backgroundImage}\n          alt={title}\n          className=\"w-full h-full object-cover\"\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/70\" />\n      </div>\n\n      <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32 text-center\">\n        {subtitle && (\n          <p className=\"text-white/90 text-base lg:text-lg font-medium mb-4 tracking-wide uppercase\" data-testid=\"text-hero-subtitle\">\n            {subtitle}\n          </p>\n        )}\n        <h1 className=\"font-playfair text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6 leading-tight\" data-testid=\"text-hero-title\">\n          {title}\n        </h1>\n        <p className=\"text-white/90 text-lg lg:text-xl max-w-3xl mx-auto mb-8 lg:mb-12 leading-relaxed\" data-testid=\"text-hero-description\">\n          {description}\n        </p>\n\n        {(primaryCTA || secondaryCTA) && (\n          <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\n            {primaryCTA && (\n              <Button\n                variant=\"default\"\n                size=\"lg\"\n                className=\"min-w-[200px] text-base font-semibold shadow-xl hover:shadow-2xl transition-all\"\n                asChild\n                data-testid=\"button-hero-primary\"\n              >\n                <Link href={primaryCTA.href} className=\"flex items-center gap-2\">\n                  {primaryCTA.text}\n                  <ArrowRight className=\"w-5 h-5\" />\n                </Link>\n              </Button>\n            )}\n            {secondaryCTA && (\n              <Button\n                variant=\"outline\"\n                size=\"lg\"\n                className=\"min-w-[200px] text-base font-semibold bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20\"\n                asChild\n                data-testid=\"button-hero-secondary\"\n              >\n                <Link href={secondaryCTA.href}>\n                  {secondaryCTA.text}\n                </Link>\n              </Button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":3005,"size_tokens":null},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":2263,"size_tokens":null},"client/src/components/Navigation.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Menu, Sparkles, User, LogOut, Heart, Cake, LayoutGrid, ChevronRight } from \"lucide-react\";\nimport { AuthModal } from \"@/components/AuthModal\";\n\nexport function Navigation() {\n  const [location] = useLocation();\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [authModalOpen, setAuthModalOpen] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState<{ name: string; email: string } | null>(null);\n\n  useEffect(() => {\n    const checkAuthState = () => {\n      const token = localStorage.getItem(\"auth_token\");\n      const userStr = localStorage.getItem(\"user\");\n      \n      if (token && userStr) {\n        try {\n          const userData = JSON.parse(userStr);\n          setUser(userData);\n          setIsLoggedIn(true);\n        } catch (e) {\n          localStorage.removeItem(\"auth_token\");\n          localStorage.removeItem(\"user\");\n          setIsLoggedIn(false);\n          setUser(null);\n        }\n      } else {\n        setIsLoggedIn(false);\n        setUser(null);\n      }\n    };\n    \n    checkAuthState();\n    \n    const handleAuthChange = () => {\n      checkAuthState();\n    };\n    window.addEventListener('authStateChanged', handleAuthChange);\n    \n    const interval = setInterval(checkAuthState, 1000);\n    \n    return () => {\n      window.removeEventListener('authStateChanged', handleAuthChange);\n      clearInterval(interval);\n    };\n  }, []);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 20);\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"auth_token\");\n    localStorage.removeItem(\"user\");\n    setIsLoggedIn(false);\n    setUser(null);\n    window.dispatchEvent(new Event('authStateChanged'));\n    window.location.href = \"/\";\n  };\n\n  const getUserInitials = () => {\n    if (!user) return \"U\";\n    return user.name\n      .split(\" \")\n      .map(n => n[0])\n      .join(\"\")\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  const centerNavLinks = [\n    { label: \"Wedding\", href: \"/templates/wedding\", icon: Heart },\n    { label: \"Birthday\", href: \"/templates/birthday\", icon: Cake },\n    { label: \"How It Works\", href: \"/#how-it-works\" },\n    { label: \"Contact\", href: \"/contact\" },\n  ];\n\n  return (\n    <header\n      className={`sticky top-0 z-50 w-full transition-all duration-300 ${\n        isScrolled\n          ? \"bg-background/95 backdrop-blur-md border-b border-border shadow-sm\"\n          : \"bg-transparent\"\n      }`}\n      data-testid=\"header-navigation\"\n    >\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16 md:h-20 gap-4\">\n          {/* Left: Logo + Company Name */}\n          <Link \n            href=\"/\" \n            className=\"flex items-center gap-2.5 hover-elevate active-elevate-2 rounded-lg px-3 py-2 -ml-3 transition-all flex-shrink-0 group\"\n            data-testid=\"link-home\"\n          >\n            <div className=\"relative\">\n              <Sparkles className=\"w-6 h-6 md:w-7 md:h-7 text-primary transition-transform group-hover:scale-110\" />\n              <div className=\"absolute inset-0 bg-primary/20 blur-lg rounded-full opacity-0 group-hover:opacity-100 transition-opacity\" />\n            </div>\n            <span className=\"font-playfair text-xl md:text-2xl font-bold text-foreground tracking-tight\">\n              WeddingInvite<span className=\"text-primary\">.ai</span>\n            </span>\n          </Link>\n\n          {/* Middle: Navigation Links (Desktop) */}\n          <nav className=\"hidden lg:flex items-center gap-1\" data-testid=\"nav-desktop\">\n            {centerNavLinks.map((link) => {\n              const isActive = location === link.href || location.startsWith(link.href.split('?')[0]);\n              return (\n                <Link \n                  key={link.href} \n                  href={link.href}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium transition-all hover-elevate active-elevate-2 flex items-center gap-2 ${\n                    isActive\n                      ? \"bg-primary/10 text-primary\"\n                      : \"text-foreground/70 hover:text-foreground\"\n                  }`}\n                  data-testid={`link-nav-${link.label.toLowerCase().replace(/\\s+/g, \"-\")}`}\n                >\n                  {link.icon && (\n                    <link.icon className={`w-4 h-4 ${isActive ? 'text-primary' : ''}`} />\n                  )}\n                  {link.label}\n                </Link>\n              );\n            })}\n          </nav>\n\n          {/* Right: My Templates + Login/Avatar (Desktop) */}\n          <div className=\"hidden md:flex items-center gap-3 flex-shrink-0\">\n            {/* My Templates - Primary styled button */}\n            {isLoggedIn ? (\n              <Button\n                asChild\n                className=\"gap-2 font-medium shadow-sm\"\n                data-testid=\"button-my-templates\"\n              >\n                <Link href=\"/my-templates\">\n                  <LayoutGrid className=\"w-4 h-4\" />\n                  My Templates\n                </Link>\n              </Button>\n            ) : (\n              <Button\n                className=\"gap-2 font-medium shadow-sm\"\n                onClick={() => setAuthModalOpen(true)}\n                data-testid=\"button-my-templates\"\n              >\n                <LayoutGrid className=\"w-4 h-4\" />\n                My Templates\n              </Button>\n            )}\n            \n            {/* Login/Avatar */}\n            {isLoggedIn && user ? (\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button \n                    variant=\"ghost\" \n                    size=\"icon\" \n                    className=\"rounded-full p-0 w-10 h-10 ring-2 ring-border hover:ring-primary/50 transition-all\"\n                    data-testid=\"button-user-menu\"\n                  >\n                    <Avatar className=\"w-9 h-9\">\n                      <AvatarFallback className=\"text-sm font-semibold bg-gradient-to-br from-primary/20 to-accent/20 text-foreground\">\n                        {getUserInitials()}\n                      </AvatarFallback>\n                    </Avatar>\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\" className=\"w-60 p-2\">\n                  <DropdownMenuLabel className=\"p-3 bg-muted/50 rounded-lg mb-2\">\n                    <div className=\"flex items-center gap-3\">\n                      <Avatar className=\"w-10 h-10\">\n                        <AvatarFallback className=\"text-sm font-semibold bg-gradient-to-br from-primary/30 to-accent/30\">\n                          {getUserInitials()}\n                        </AvatarFallback>\n                      </Avatar>\n                      <div className=\"flex flex-col\">\n                        <p className=\"text-sm font-semibold leading-none\">{user.name}</p>\n                        <p className=\"text-xs leading-none text-muted-foreground mt-1\">\n                          {user.email}\n                        </p>\n                      </div>\n                    </div>\n                  </DropdownMenuLabel>\n                  <DropdownMenuSeparator className=\"my-1\" />\n                  <DropdownMenuItem \n                    onClick={handleLogout}\n                    className=\"cursor-pointer rounded-md text-destructive focus:text-destructive focus:bg-destructive/10\"\n                    data-testid=\"menu-item-logout\"\n                  >\n                    <LogOut className=\"w-4 h-4 mr-2\" />\n                    Sign Out\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            ) : (\n              <Button\n                variant=\"outline\"\n                size=\"default\"\n                onClick={() => setAuthModalOpen(true)}\n                className=\"font-medium\"\n                data-testid=\"button-login\"\n              >\n                <User className=\"w-4 h-4 mr-2\" />\n                Sign In\n              </Button>\n            )}\n          </div>\n\n          {/* Mobile Menu */}\n          <Sheet open={mobileMenuOpen} onOpenChange={setMobileMenuOpen}>\n            <SheetTrigger asChild className=\"md:hidden\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"rounded-lg\"\n                data-testid=\"button-mobile-menu\"\n              >\n                <Menu className=\"w-6 h-6\" />\n              </Button>\n            </SheetTrigger>\n            <SheetContent side=\"right\" className=\"w-80 p-0\">\n              <div className=\"flex flex-col h-full\">\n                {/* Mobile Header */}\n                <div className=\"p-6 border-b border-border\">\n                  <Link \n                    href=\"/\" \n                    className=\"flex items-center gap-2\"\n                    onClick={() => setMobileMenuOpen(false)}\n                  >\n                    <Sparkles className=\"w-6 h-6 text-primary\" />\n                    <span className=\"font-playfair text-xl font-bold\">\n                      WeddingInvite<span className=\"text-primary\">.ai</span>\n                    </span>\n                  </Link>\n                </div>\n\n                {/* Navigation Links */}\n                <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\" data-testid=\"nav-mobile\">\n                  {centerNavLinks.map((link) => {\n                    const isActive = location === link.href || location.startsWith(link.href.split('?')[0]);\n                    return (\n                      <Link \n                        key={link.href} \n                        href={link.href}\n                        onClick={() => setMobileMenuOpen(false)}\n                        className={`flex items-center justify-between px-4 py-3.5 rounded-xl text-base font-medium transition-all ${\n                          isActive\n                            ? \"bg-primary/10 text-primary\"\n                            : \"text-foreground/80 hover:bg-muted\"\n                        }`}\n                        data-testid={`link-mobile-${link.label.toLowerCase().replace(/\\s+/g, \"-\")}`}\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          {link.icon && <link.icon className=\"w-5 h-5\" />}\n                          {link.label}\n                        </div>\n                        <ChevronRight className=\"w-4 h-4 text-muted-foreground\" />\n                      </Link>\n                    );\n                  })}\n                </nav>\n\n                {/* Bottom Section */}\n                <div className=\"p-4 border-t border-border space-y-3 bg-muted/30\">\n                  {isLoggedIn && user ? (\n                    <>\n                      {/* User Info Card */}\n                      <div className=\"flex items-center gap-3 p-3 bg-background rounded-xl\">\n                        <Avatar className=\"w-11 h-11\">\n                          <AvatarFallback className=\"text-sm font-semibold bg-gradient-to-br from-primary/20 to-accent/20\">\n                            {getUserInitials()}\n                          </AvatarFallback>\n                        </Avatar>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm font-semibold truncate\">{user.name}</p>\n                          <p className=\"text-xs text-muted-foreground truncate\">{user.email}</p>\n                        </div>\n                      </div>\n\n                      {/* My Templates Button */}\n                      <Button\n                        asChild\n                        className=\"w-full gap-2 font-medium\"\n                        data-testid=\"button-my-templates-mobile\"\n                      >\n                        <Link \n                          href=\"/my-templates\" \n                          onClick={() => setMobileMenuOpen(false)}\n                        >\n                          <LayoutGrid className=\"w-4 h-4\" />\n                          My Templates\n                        </Link>\n                      </Button>\n\n                      {/* Logout Button */}\n                      <Button\n                        variant=\"ghost\"\n                        size=\"default\"\n                        className=\"w-full justify-center text-muted-foreground hover:text-destructive hover:bg-destructive/10\"\n                        onClick={() => {\n                          setMobileMenuOpen(false);\n                          handleLogout();\n                        }}\n                        data-testid=\"button-logout-mobile\"\n                      >\n                        <LogOut className=\"w-4 h-4 mr-2\" />\n                        Sign Out\n                      </Button>\n                    </>\n                  ) : (\n                    <>\n                      {/* My Templates Button (triggers auth) */}\n                      <Button\n                        className=\"w-full gap-2 font-medium\"\n                        onClick={() => {\n                          setMobileMenuOpen(false);\n                          setAuthModalOpen(true);\n                        }}\n                        data-testid=\"button-my-templates-mobile\"\n                      >\n                        <LayoutGrid className=\"w-4 h-4\" />\n                        My Templates\n                      </Button>\n\n                      {/* Sign In Button */}\n                      <Button\n                        variant=\"outline\"\n                        size=\"default\"\n                        className=\"w-full justify-center\"\n                        onClick={() => {\n                          setMobileMenuOpen(false);\n                          setAuthModalOpen(true);\n                        }}\n                        data-testid=\"button-login-mobile\"\n                      >\n                        <User className=\"w-4 h-4 mr-2\" />\n                        Sign In\n                      </Button>\n                    </>\n                  )}\n                </div>\n              </div>\n            </SheetContent>\n          </Sheet>\n        </div>\n      </div>\n\n      <AuthModal\n        isOpen={authModalOpen}\n        onClose={() => setAuthModalOpen(false)}\n        onSuccess={() => {}}\n      />\n    </header>\n  );\n}\n","path":null,"size_bytes":14910,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/pages/CountryPage.tsx":{"content":"import { useRoute } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { HeroSection } from \"@/components/HeroSection\";\nimport { TemplateCard } from \"@/components/TemplateCard\";\nimport { Card } from \"@/components/ui/card\";\nimport { Loader2 } from \"lucide-react\";\nimport type { Template } from \"@shared/schema\";\nimport indianPunjabiHero from \"@assets/generated_images/Indian_Punjabi_wedding_culture_b8245c44.png\";\nimport arabicHero from \"@assets/generated_images/Arabic_UAE_wedding_culture_5fdde5ea.png\";\nimport saudiHero from \"@assets/stock_images/saudi_arabian_weddin_519f891c.jpg\";\n\nconst countryData: Record<string, any> = {\n  india: {\n    name: \"India\",\n    slug: \"india\",\n    description: \"Diverse wedding traditions across India featuring Punjabi, Tamil, Telugu, Bengali, Gujarati, and more regional styles with vibrant colors and rich cultural heritage.\",\n    popularStyles: [\"Traditional Indian\", \"Punjabi Bhangra\", \"South Indian Temple\", \"Rajasthani Royal\", \"Bollywood Glam\"],\n    heroImage: indianPunjabiHero,\n    seoTitle: \"Indian Wedding Invitation Video | WhatsApp Wedding Invites India\",\n    seoDescription: \"Create stunning Indian wedding video invitations for WhatsApp. 100+ templates for Punjabi, South Indian, Hindi, Marathi weddings. Mehendi, Sangeet, Haldi invites. ₹1,200-₹2,900.\",\n    keywords: \"indian wedding invitation video, whatsapp wedding video india, hindi wedding invitation, punjabi wedding video, south indian wedding invitation, marathi wedding video, mehendi invitation video, sangeet video invitation, haldi ceremony video, bengali wedding invitation, gujarati wedding video, indian wedding video maker\",\n    locale: \"en_IN\",\n    ceremonies: [\"Mehendi\", \"Sangeet\", \"Haldi\", \"Wedding\", \"Reception\"],\n  },\n  uae: {\n    name: \"United Arab Emirates\",\n    slug: \"uae\",\n    description: \"Luxurious Emirati and Arabic wedding celebrations featuring opulent venues, gold decor, and traditional Middle Eastern elegance.\",\n    popularStyles: [\"Luxury Arabic\", \"Modern Emirati\", \"Traditional Khaleeji\", \"Gold & Crystal\", \"Desert Romance\"],\n    heroImage: arabicHero,\n    seoTitle: \"UAE Arabic Wedding Invitation Video | دعوة زفاف فيديو الإمارات\",\n    seoDescription: \"Create luxury Arabic wedding videos for UAE. Dubai, Abu Dhabi, Sharjah weddings. 4K Emirati & Islamic invitation templates. دعوة زفاف عربية فاخرة\",\n    keywords: \"arabic wedding invitation video, uae wedding video, dubai wedding invitation, abu dhabi wedding video, emirati wedding invitation, islamic wedding video, khaleeji wedding, دعوة زفاف عربية, فيديو دعوة زفاف إماراتي, luxury arabic wedding, zaffa video invitation\",\n    locale: \"ar_AE\",\n    ceremonies: [\"Kateb Katb\", \"Henna Night\", \"Wedding Ceremony\", \"Walima Reception\"],\n    arabicTitle: \"دعوة زفاف فيديو الإمارات\",\n    arabicDescription: \"إنشاء دعوات زفاف فيديو عربية فاخرة. قوالب إماراتية وإسلامية راقية لحفلات الزفاف في دبي وأبو ظبي\",\n  },\n  \"saudi-arabia\": {\n    name: \"Saudi Arabia\",\n    slug: \"saudi-arabia\",\n    description: \"Opulent Saudi Arabian wedding celebrations with royal gold details, traditional Islamic patterns, and majestic cultural heritage.\",\n    popularStyles: [\"Saudi Royal\", \"Traditional Islamic\", \"Luxury Gold\", \"Cultural Heritage\", \"Modern Saudi\"],\n    heroImage: saudiHero,\n    seoTitle: \"Saudi Wedding Invitation Video Riyadh Jeddah | كروت زفاف السعودية\",\n    seoDescription: \"Create Saudi Arabian wedding video invitations. Riyadh, Jeddah, Mecca templates. Islamic & royal designs. كروت زفاف سعودية فاخرة\",\n    keywords: \"saudi wedding invitation video, riyadh wedding video, jeddah wedding invitation, mecca wedding video, saudi arabian wedding, islamic wedding invitation video, كروت زفاف الرياض, دعوات زفاف جدة, فيديو زفاف سعودي, saudi royal wedding\",\n    locale: \"ar_SA\",\n    ceremonies: [\"Nikah\", \"Walima\", \"Reception\"],\n    arabicTitle: \"كروت زفاف فيديو السعودية\",\n    arabicDescription: \"إنشاء دعوات زفاف فيديو سعودية ملكية. قوالب إسلامية فاخرة للأفراح في الرياض وجدة ومكة\",\n  },\n};\n\ninterface TemplateResponse {\n  templates: Template[];\n  pagination: { total: number; offset: number; limit: number; hasMore: boolean };\n}\n\nexport default function CountryPage() {\n  const [, params] = useRoute(\"/countries/:slug\");\n  const slug = params?.slug || \"india\";\n  const country = countryData[slug] || countryData.india;\n\n  // Fetch templates from the database by country\n  const { data, isLoading } = useQuery<TemplateResponse>({\n    queryKey: [\"/api/templates\", { region: country.slug }],\n    queryFn: async () => {\n      const response = await fetch(`/api/templates?region=${country.slug}`);\n      if (!response.ok) throw new Error(\"Failed to fetch templates\");\n      return response.json();\n    },\n  });\n  \n  const templates = data?.templates || [];\n\n  const collectionSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"CollectionPage\",\n    name: `${country.name} Wedding Video Invitations`,\n    description: country.seoDescription,\n    url: `https://weddinginvite.ai/countries/${country.slug}`,\n    about: {\n      \"@type\": \"Thing\",\n      name: `${country.name} Weddings`,\n      description: country.description\n    }\n  };\n\n  const breadcrumbSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"BreadcrumbList\",\n    itemListElement: [\n      {\n        \"@type\": \"ListItem\",\n        position: 1,\n        name: \"Home\",\n        item: \"https://weddinginvite.ai\"\n      },\n      {\n        \"@type\": \"ListItem\",\n        position: 2,\n        name: `${country.name} Weddings`,\n        item: `https://weddinginvite.ai/countries/${country.slug}`\n      }\n    ]\n  };\n\n  const alternateLang = country.slug === \"uae\" || country.slug === \"saudi-arabia\" \n    ? [\n        { lang: \"en\", url: `https://weddinginvite.ai/countries/${country.slug}` },\n        { lang: \"ar\", url: `https://weddinginvite.ai/ar/countries/${country.slug}` }\n      ]\n    : undefined;\n\n  return (\n    <>\n      <SEOHead\n        title={country.seoTitle}\n        description={country.seoDescription}\n        keywords={country.keywords}\n        schema={[collectionSchema, breadcrumbSchema]}\n        locale={country.locale}\n        ogImage={country.heroImage}\n        alternateLang={alternateLang}\n      />\n\n      <HeroSection\n        title={`${country.name} Wedding Videos`}\n        description={country.description}\n        backgroundImage={country.heroImage}\n        height=\"large\"\n        primaryCTA={{\n          text: \"Browse Templates\",\n          href: \"#templates\",\n        }}\n      />\n\n      <section className=\"py-12 lg:py-16 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <Card className=\"p-8 lg:p-12 mb-16\">\n            <h2 className=\"font-playfair text-3xl lg:text-4xl font-bold text-foreground mb-8 text-center\">\n              Popular {country.name} Wedding Styles\n            </h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {country.popularStyles.map((style: string, index: number) => (\n                <div\n                  key={index}\n                  className=\"flex items-center gap-3 p-4 rounded-md bg-accent/5 hover-elevate transition-all\"\n                  data-testid={`style-${index}`}\n                >\n                  <span className=\"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-semibold flex-shrink-0\">\n                    {index + 1}\n                  </span>\n                  <span className=\"text-foreground font-medium\">{style}</span>\n                </div>\n              ))}\n            </div>\n          </Card>\n\n          <div className=\"mb-8\" id=\"templates\">\n            <h3 className=\"font-playfair text-3xl lg:text-4xl font-bold text-foreground mb-2 text-center\">\n              {country.name} Templates\n            </h3>\n            <p className=\"text-muted-foreground text-center text-lg\">\n              {isLoading ? \"Loading...\" : `${templates.length} template${templates.length !== 1 ? 's' : ''} available`}\n            </p>\n          </div>\n\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-16\">\n              <Loader2 className=\"w-12 h-12 text-primary animate-spin\" />\n            </div>\n          ) : templates.length === 0 ? (\n            <Card className=\"p-12 text-center\">\n              <p className=\"text-muted-foreground text-lg\">\n                No templates available for {country.name} yet. Check back soon!\n              </p>\n            </Card>\n          ) : (\n            <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n              {templates.map((template) => (\n                <TemplateCard\n                  key={template.id}\n                  id={template.id}\n                  title={template.templateName}\n                  slug={template.slug}\n                  category={template.category}\n                  duration={template.durationSec}\n                  thumbnailUrl={template.thumbnailUrl}\n                  demoVideoUrl={template.previewVideoUrl}\n                  templateType={template.templateType as \"video\" | \"card\"}\n                  isPremium={Number(template.price) > 150000}\n                  pageCount={(template.templateJson as any)?.pages?.length || 1}\n                  price={Number(template.price)}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":9797,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"replit.md":{"content":"# WeddingInvite.ai\n\n## Overview\nWeddingInvite.ai is a video invitation platform inspired by 247invites.com, designed for the Indian and Arabic/Middle Eastern wedding markets. It enables users to customize multi-page video invitation templates, preview watermarked versions, make payments, and receive full-quality videos via WhatsApp. The business model is pay-per-template, offering a cinematic, premium experience for culturally specific wedding invitations with features like a multi-page editor and WhatsApp integration.\n\n## User Preferences\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend\nThe frontend is built with React and TypeScript, using Vite, Wouter for routing, and TanStack Query for server state management. The UI features Shadcn/ui (New York style) based on Radix UI and Tailwind CSS, focusing on a cinematic, premium aesthetic with specific typography, HSL-based theming, and a mobile-first responsive design. Key features include an interactive video preview on template cards and an editor with page-by-page editing, zoom controls, and pan functionality.\n\n### Backend\nThe backend is an Express.js server with TypeScript, providing RESTful APIs for template management, contact forms, and article content. It uses Drizzle ORM with PostgreSQL for data storage and Zod for validation. Media files are stored and served via Replit Object Storage.\n\n### Database\nThe project uses Drizzle ORM with PostgreSQL, featuring schemas for `templates`, `contacts`, `articles`, `template_pages`, `customizations`, `orders`, `payments`, `downloads`, `analytics_events`, and `sessions`. Drizzle Kit handles schema migrations.\n\n### Authentication\nA dual authentication system supports traditional email/password (JWT-based with bcrypt) and Google Sign-In using Firebase Auth with a redirect flow. Firebase Admin SDK verifies Google tokens server-side. The system ensures consistent user payload structures across all authentication methods and handles auth-gated previews with auto-save functionality.\n\n### Template Filtering System\nThe Templates page (`/templates`, `/templates/wedding`, `/templates/birthday`) features a comprehensive filtering system inspired by 247invites.com:\n\n**Quick Filter Chips:**\n- All Templates page (`/templates`): \n  - Categories: Wedding, Birthday, Anniversary, Engagement, Baby Shower, Housewarming, Corporate Events\n  - Regions: India, UAE, Saudi Arabia, Gulf Region, South Asia (separated by visual divider)\n- Wedding page: Save the Date, Engagement Ceremony, Hindu Wedding, South Indian, Marathi, Rajasthani, Jain, Punjabi, Muslim, Christian, Bengali, Arabic, Gulf Wedding\n- Birthday page: Birthday Invites, Kids Birthday, Adult Milestones, First Birthday, Sweet 16\n\n**Filter Sheet Panel (dropdown):**\n- Type: Video, Card\n- Sort by: Popular, Newest, Low to High, High to Low\n- Photo: With Photo, Without Photo\n- Card Orientation: Portrait, Landscape\n- Region: India, UAE, Saudi Arabia, Gulf Region, South Asia\n\n**Features:**\n- URL state sync for shareable filtered views\n- Active filters display with individual remove buttons\n- Clear all functionality\n- Server-side filtering via API query params\n- Infinite scroll pagination with 25 templates per batch\n\n**Database Columns:**\n- `subcategory`: Primary subcategory for quick chip filtering\n- `region`: Target region for templates (india, uae, saudi, gulf, south_asia)\n- `popularityScore`: Numeric score for Popular sort\n\n### My Templates Page\nThe My Templates page (`/my-templates`) displays user's projects in two sections:\n- **Paid Templates**: Sorted by `paidAt` (newest first), shows View/Download/Share buttons\n- **Generated Templates**: Sorted by `updatedAt` (newest first), shows Edit/View/Download buttons\n\nFeatures:\n- **VideoPreviewModal**: Responsive video preview adapting to portrait/landscape orientation\n- **Actual File Download**: Uses `finalUrl` or `previewUrl` for paid template downloads\n- **Cross-Platform Share**: Web Share API with clipboard fallback for all devices\n\n### Music System (December 2025)\nVideo templates now include complete background music support:\n\n**Database Schema:**\n- `music` table: Stock music library with id, name, url, duration, category (wedding/birthday)\n- `templates.defaultMusicId`: Links video templates to default background music\n- `projects.customMusicUrl`: User-uploaded custom music stored per-project\n\n**Stock Music Library (6 tracks in object storage):**\n- Wedding: Epic Love Romantic, Hopeful Acoustic, Enchanted Music\n- Birthday: Magical Orchestral, Orchestral Joy, Uplifting Corporate\n\n**API Endpoints:**\n- GET `/api/music` - Returns full music library\n- GET `/api/music/:id` - Returns single music track details\n- GET `/api/templates/:id` now includes `defaultMusic` object for video templates\n\n**Editor UI (Complete):**\n- Music button in header (visible only for video templates)\n- Background Music modal with:\n  - Stock music library browsable by category\n  - Custom music upload via file input\n  - Audio player with play/pause, progress bar, seek, mute controls\n  - Duration display and track selection\n- Proper memory cleanup for object URLs (using ref tracking)\n- Playback error handling with state synchronization\n\n### Design System & SEO\nThe design emphasizes a premium, cinematic aesthetic with generous whitespace, elegant animations, and video-centric layouts optimized for mobile. Culturally authentic elements are incorporated. SEO targets India, UAE, and Saudi Arabia with an enhanced `SEOHead` component, WhatsApp-optimized Open Graph tags, mobile-first meta tags, `hreflang`, and comprehensive schema markup.\n\n### Culture Pages System (December 2025)\nComprehensive culture-specific landing pages for SEO and user experience:\n\n**Culture Routes:**\n- `/culture` - All cultures listing page with grid of culture cards\n- `/culture/:slug` - Individual culture pages (e.g., /culture/punjabi)\n- `/culture/:parent/:slug` - Nested culture routes (e.g., /culture/indian-wedding-video-invitation/punjabi)\n\n**Supported Cultures:**\n- Indian: indian-wedding-video-invitation, punjabi, tamil, telugu, gujarati, bengali\n- Religious: muslim-nikah, christian\n- Arabic: arabic-wedding-video-uae-saudi\n- African: nigerian-traditional-wedding-video\n- Latin American: quinceanera-video-invitation\n- Asian: chinese-tea-ceremony-video, korean-pyebaek-video, filipino-debut-video\n- Jewish: jewish-bar-bat-mitzvah-video-invitation\n\n**Region-Based Template Filtering:**\n- Indian cultures → filter by region \"india\"\n- Arabic cultures → filter by regions \"uae,saudi\"\n- Other cultures → show all templates\n\n**SEO Schema Markup:**\n- CollectionPage schema with numberOfItems\n- BreadcrumbList schema for navigation\n- FAQPage schema with culture-specific Q&A\n\n**Technical Implementation:**\n- CulturePage uses useLocation to parse full URL path\n- Extracts last segment for nested routes\n- Falls back to indian-wedding-video-invitation if slug not found\n\n### SEO Landing Pages (November 2025)\nComprehensive SEO landing page system targeting regional and category-specific search traffic:\n\n**Regional Pages:**\n- `/india` - India market with Hindi localization, market stats (10M+ weddings/year), popular styles (South Indian, Marathi, Punjabi, etc.), ceremonies\n- `/uae` - UAE market with Arabic localization, market stats (50K+ weddings/year), Gulf-specific content\n- `/saudi-arabia` - Saudi Arabia market with Arabic localization, premium positioning\n\n**Category Pages:**\n- `/wedding-invitation-video` - Wedding video invitations with feature highlights\n- `/birthday-invitation-video` - Birthday video invitations\n- `/wedding-invitation-card` - Digital wedding invitation cards\n- `/birthday-invitation-card` - Digital birthday cards\n\n**Combined Pages:**\nAll 12 combinations of region + category (e.g., `/india/wedding-invitation-video`, `/uae/birthday-invitation-card`)\n\n**Features:**\n- Dynamic content localization per region (market stats, currency symbols, ceremonies)\n- Schema markup: CollectionPage, BreadcrumbList, FAQPage, Organization\n- hreflang tags for language alternates (en-IN, ar-AE, ar-SA)\n- Popular Searches internal linking for SEO juice distribution\n- FAQ sections with structured data\n- Template showcase with filtered results by region/category\n- Market stats section with weddings/year and digital adoption metrics\n\n## External Dependencies\n\n### Authentication\n- **Firebase**: Client SDK for Google Sign-In.\n- **Firebase Admin SDK**: Server-side token verification.\n- **openid-client**: OpenID Connect client.\n\n### UI/UX\n- **Radix UI**: Headless UI primitives.\n- **Shadcn/ui**: Pre-built component library.\n- **Lucide React**: Icon library.\n- **Tailwind CSS**: Utility-first CSS framework.\n- **Class Variance Authority (CVA)**: Type-safe variant system.\n- **clsx & tailwind-merge**: Class utility functions.\n- **embla-carousel-react**: Carousel functionality.\n- **cmdk**: Command palette component.\n\n### Data & State Management\n- **TanStack Query (React Query)**: Server state management.\n- **React Hook Form**: Form state management with Zod resolver.\n- **Zod**: Runtime type validation.\n\n### Database & ORM\n- **Drizzle ORM**: Type-safe PostgreSQL ORM.\n- **@neondatabase/serverless**: PostgreSQL driver.\n- **Drizzle Zod**: Zod schema generation from Drizzle.\n\n### Development & Utilities\n- **Vite**: Build tool and dev server.\n- **TypeScript**: Type safety.\n- **ESBuild**: Production build bundler.\n- **TSX**: TypeScript execution for development.\n- **wouter**: Lightweight routing library.\n- **date-fns**: Date manipulation.\n- **memoizee**: Memoization utility.\n\n### Session & Storage\n- **connect-pg-simple**: PostgreSQL session store for Express.\n- **@replit/object-storage**: Replit Object Storage client.\n- **@google-cloud/storage**: Google Cloud Storage client.\n- **@uppy/**: File upload components.\n\n### Critical Integrations\n- **Razorpay**: Payment gateway.\n- **After Effects API**: External video rendering service.\n- **WhatsApp Business API**: For video delivery.","path":null,"size_bytes":9974,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/pages/TemplateDetail.tsx":{"content":"import { useRoute, useLocation } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card } from \"@/components/ui/card\";\nimport { \n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\nimport { \n  Loader2, \n  X, \n  Check,\n  Heart,\n  Sparkles,\n  Download,\n  Globe,\n  Palette,\n  Phone,\n  ChevronLeft,\n  ChevronRight,\n  Layers\n} from \"lucide-react\";\nimport type { Template } from \"@shared/schema\";\n\n// Helper function to extract YouTube video ID from various URL formats\nfunction getYouTubeVideoId(url: string): string | null {\n  if (!url) return null;\n  \n  // Handle different YouTube URL formats:\n  // - https://www.youtube.com/watch?v=VIDEO_ID\n  // - https://youtu.be/VIDEO_ID\n  // - https://www.youtube.com/embed/VIDEO_ID\n  // - https://youtube.com/shorts/VIDEO_ID\n  \n  const patterns = [\n    /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/|youtube\\.com\\/embed\\/|youtube\\.com\\/shorts\\/)([a-zA-Z0-9_-]{11})/,\n    /^([a-zA-Z0-9_-]{11})$/ // Direct video ID\n  ];\n  \n  for (const pattern of patterns) {\n    const match = url.match(pattern);\n    if (match) return match[1];\n  }\n  \n  return null;\n}\n\nexport default function TemplateDetail() {\n  const [, params] = useRoute(\"/template/:slug\");\n  const [, navigate] = useLocation();\n  const slug = params?.slug;\n  const [showFullDescription, setShowFullDescription] = useState(false);\n  const [selectedPageIndex, setSelectedPageIndex] = useState(0);\n\n  const { data: template, isLoading, error } = useQuery<any>({\n    queryKey: [\"/api/templates\", slug],\n    queryFn: async () => {\n      const response = await fetch(`/api/templates/${slug}`);\n      if (!response.ok) throw new Error(\"Failed to fetch template\");\n      return response.json();\n    },\n    enabled: !!slug,\n  });\n\n  const { data: relatedTemplates } = useQuery<any[]>({\n    queryKey: [\"/api/templates\", \"related\", template?.category, slug],\n    queryFn: async () => {\n      const category = template?.category || \"wedding\";\n      const response = await fetch(`/api/templates?category=${category}`);\n      if (!response.ok) throw new Error(\"Failed to fetch related templates\");\n      const all = await response.json();\n      return all.filter((t: any) => t.slug !== slug).slice(0, 4);\n    },\n    enabled: !!template,\n  });\n\n  const pages = template?.pages || [];\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\" data-testid=\"loading-template\">\n        <div className=\"text-center\">\n          <Loader2 className=\"w-12 h-12 text-primary animate-spin mx-auto mb-4\" />\n          <p className=\"text-muted-foreground text-lg\">Loading template...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !template) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen p-4\" data-testid=\"error-template\">\n        <Card className=\"p-12 text-center max-w-md\">\n          <div className=\"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto mb-4\">\n            <X className=\"w-8 h-8 text-destructive\" />\n          </div>\n          <h3 className=\"font-playfair text-2xl font-bold text-foreground mb-2\">\n            Template Not Found\n          </h3>\n          <p className=\"text-muted-foreground mb-6\">\n            The template you're looking for doesn't exist or has been removed.\n          </p>\n          <Button onClick={() => navigate(\"/templates\")} data-testid=\"button-back-to-templates\">\n            Browse All Templates\n          </Button>\n        </Card>\n      </div>\n    );\n  }\n\n  const formatPrice = (paise: number) => {\n    const rupees = Math.floor(paise / 100);\n    return `₹${rupees.toLocaleString('en-IN')}`;\n  };\n\n  const templateType = template.templateType || template.category || \"wedding\";\n  \n  // Extract YouTube video ID from previewVideoUrl if it's a YouTube link\n  const youtubeVideoId = getYouTubeVideoId(template.previewVideoUrl || \"\");\n  const priceInRupees = parseFloat(template.price || \"0\");\n  const displayPrice = formatPrice(Math.round(priceInRupees * 100));\n  const expertPrice = \"₹1,999\";\n\n  const description = template.description || `This ${template.templateName} video will best fit & visible on every screen. Easy to share, Try this new, elegant, and unique style of invitation.`;\n\n  const videoSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"VideoObject\",\n    name: template.templateName,\n    description: `${template.templateName} - ${templateType} video invitation`,\n    thumbnailUrl: template.thumbnailUrl,\n    uploadDate: \"2024-11-19\",\n    duration: `PT${template.durationSec}S`,\n    contentUrl: template.previewVideoUrl,\n    embedUrl: `https://weddinginvite.ai/template/${template.slug}`,\n  };\n\n  const productSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"Product\",\n    name: template.templateName,\n    description: `${template.templateName} - ${templateType} video invitation`,\n    image: template.thumbnailUrl,\n    offers: {\n      \"@type\": \"Offer\",\n      priceCurrency: \"INR\",\n      price: priceInRupees.toFixed(2),\n      availability: \"https://schema.org/InStock\",\n    },\n  };\n\n  const tags = [\"wedding\", \"hindu\", \"celebration\", \"elegant\", \"traditional\", \"video\", \"invitation\"];\n\n  const faqs = [\n    {\n      question: \"How do I create my Video Invitation?\",\n      answer: \"Once you customize the Video and enter all your details we will instantly generate a preview video (with a watermark) for you to check and verify the details before you make a final payment for it. Once you made a payment, the Video will be available to download. Also, you can download it from \\\"My Templates\\\" at any preferred time.\"\n    },\n    {\n      question: \"Can I get a Preview Video?\",\n      answer: \"Yes! After customizing your invitation, you'll get an instant preview video with a watermark. This allows you to verify all details before making the final payment.\"\n    },\n    {\n      question: \"Can I customize the video further?\",\n      answer: \"Absolutely! You can customize text, photos, music, colors, and more. Our editor allows you to personalize every aspect of your invitation to match your event perfectly.\"\n    },\n    {\n      question: \"How to download my video invitation?\",\n      answer: \"After making the payment, your video will be instantly available for download. You can also access it anytime from the \\\"My Templates\\\" section in your account.\"\n    },\n    {\n      question: \"Can I get a copy of the Video File?\",\n      answer: \"Yes, once you complete the payment, you'll receive a high-quality MP4 video file that you can download and share via WhatsApp, email, or any other platform.\"\n    },\n    {\n      question: \"Is WeddingInvite.ai secure?\",\n      answer: \"Yes, we use industry-standard encryption and secure payment gateways (Razorpay) to protect your data. Your personal information and payment details are always safe with us.\"\n    }\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title={`${template.templateName} | ${template.templateType === \"video\" ? \"Video\" : \"Digital Card\"} Invitation`}\n        description={`${template.templateName} - Beautiful ${template.templateType === \"video\" ? \"video\" : \"digital card\"} invitation template. Perfect for WhatsApp sharing. ${template.templateType === \"video\" ? \"Download in HD\" : `${pages.length} beautifully designed pages`}. ${displayPrice}.`}\n        keywords={tags.join(\", \")}\n        schema={[videoSchema, productSchema]}\n        ogImage={template.thumbnailUrl}\n      />\n\n      <section className=\"py-4 lg:py-6 bg-background border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8\">\n            {/* Preview Section - Takes 2/3 of the width on desktop */}\n            <div \n              className=\"lg:col-span-2\"\n              data-testid=\"template-preview\"\n            >\n              {template.templateType === \"video\" ? (\n                <div className=\"aspect-[16/9] rounded-xl overflow-hidden shadow-xl bg-black border border-border/50\">\n                  <iframe\n                    className=\"w-full h-full\"\n                    src={youtubeVideoId \n                      ? `https://www.youtube.com/embed/${youtubeVideoId}?rel=0`\n                      : \"https://www.youtube.com/embed/WvfNvhFcjK8?rel=0\"\n                    }\n                    title={template.templateName}\n                    frameBorder=\"0\"\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n                    allowFullScreen\n                    data-testid=\"youtube-video\"\n                  />\n                </div>\n              ) : (\n                <div className=\"flex flex-col lg:flex-row items-center lg:items-start gap-6\">\n                  {/* Main Card Preview */}\n                  <div className=\"relative w-full max-w-[320px] lg:max-w-[360px]\">\n                    <div className=\"aspect-[3/4] rounded-xl overflow-hidden shadow-2xl bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 p-4\">\n                      <div className=\"relative w-full h-full\">\n                        {pages.length > 1 && (\n                          <>\n                            <div className=\"absolute inset-0 rounded-lg shadow-lg transform rotate-2 translate-x-2 -translate-y-1 opacity-40 bg-card border border-border\" />\n                            <div className=\"absolute inset-0 rounded-lg shadow-lg transform -rotate-1 -translate-x-1 translate-y-1 opacity-60 bg-card border border-border\" />\n                          </>\n                        )}\n                        <div className=\"relative w-full h-full rounded-lg overflow-hidden shadow-xl border border-border/50 bg-white dark:bg-card\">\n                          <img\n                            src={pages[selectedPageIndex]?.thumbnailUrl || template.thumbnailUrl}\n                            alt={`${template.templateName} - Page ${selectedPageIndex + 1}`}\n                            className=\"w-full h-full object-cover\"\n                            data-testid=\"card-preview-image\"\n                          />\n                          <div className=\"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent\" />\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {pages.length > 1 && (\n                      <div className=\"absolute top-4 left-4 flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-black/70 text-white backdrop-blur-sm\">\n                        <Layers className=\"w-3.5 h-3.5\" />\n                        <span className=\"text-xs font-medium\">{pages.length} pages</span>\n                      </div>\n                    )}\n                  </div>\n                  \n                  {/* Page Thumbnails - Vertical on desktop */}\n                  {pages.length > 1 && (\n                    <div className=\"flex flex-col items-center gap-3\">\n                      <div className=\"flex lg:flex-col gap-2\">\n                        {pages.map((page: any, index: number) => (\n                          <button\n                            key={index}\n                            onClick={() => setSelectedPageIndex(index)}\n                            className={`flex-shrink-0 w-12 h-16 lg:w-14 lg:h-20 rounded-lg overflow-hidden border-2 transition-all duration-200 shadow-sm ${\n                              selectedPageIndex === index \n                                ? 'border-primary ring-2 ring-primary/20 scale-105' \n                                : 'border-border hover:border-primary/50'\n                            }`}\n                            data-testid={`thumbnail-page-${index}`}\n                          >\n                            <img\n                              src={page.thumbnailUrl || template.thumbnailUrl}\n                              alt={`Page ${index + 1}`}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </button>\n                        ))}\n                      </div>\n                      \n                      <div className=\"flex items-center gap-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"icon\"\n                          className=\"h-8 w-8 rounded-full\"\n                          onClick={() => setSelectedPageIndex(prev => prev > 0 ? prev - 1 : pages.length - 1)}\n                          data-testid=\"button-prev-page\"\n                        >\n                          <ChevronLeft className=\"h-4 w-4\" />\n                        </Button>\n                        <span className=\"text-xs text-muted-foreground min-w-[40px] text-center\">\n                          {selectedPageIndex + 1} / {pages.length}\n                        </span>\n                        <Button\n                          variant=\"outline\"\n                          size=\"icon\"\n                          className=\"h-8 w-8 rounded-full\"\n                          onClick={() => setSelectedPageIndex(prev => prev < pages.length - 1 ? prev + 1 : 0)}\n                          data-testid=\"button-next-page\"\n                        >\n                          <ChevronRight className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n              \n              <div className=\"mt-4\">\n                <p className=\"text-sm text-muted-foreground\">\n                  {template.templateType === \"video\" \n                    ? `This ${template.templateName} video will best fit & visible on every screen. Easy to share, Try this new, elegant, and unique style of invitation.`\n                    : `This beautiful ${template.templateName} card invitation features ${pages.length} elegantly designed pages. Perfect for sharing via WhatsApp or print.`\n                  }\n                </p>\n                <button \n                  onClick={() => setShowFullDescription(!showFullDescription)}\n                  className=\"text-primary text-sm font-medium mt-2 hover:underline\"\n                  data-testid=\"button-show-more\"\n                >\n                  {showFullDescription ? 'Show Less' : 'Show More'}\n                </button>\n                {showFullDescription && (\n                  <p className=\"text-sm text-muted-foreground mt-2\">{description}</p>\n                )}\n              </div>\n            </div>\n\n            {/* Info Section - Takes 1/3 of the width on desktop */}\n            <div className=\"lg:col-span-1\">\n              <h1 className=\"text-xl lg:text-2xl font-bold text-foreground mb-2\" data-testid=\"text-template-title\">\n                {template.templateName}\n              </h1>\n              \n              <div className=\"flex items-center gap-4 mb-4\">\n                <span className=\"text-sm text-muted-foreground capitalize\">{templateType}</span>\n                <span className=\"text-xl font-bold text-primary\" data-testid=\"text-template-price\">\n                  {displayPrice}\n                </span>\n              </div>\n\n              <Button\n                size=\"lg\"\n                className=\"w-full mb-5 h-11 text-sm font-semibold rounded-full\"\n                onClick={() => navigate(`/editor/${template.slug}?from=template`)}\n                data-testid=\"button-customize-template\"\n              >\n                <Heart className=\"w-4 h-4 mr-2 fill-current\" />\n                Start Free Customization\n              </Button>\n\n              <div className=\"space-y-3 mb-5\">\n                <div className=\"flex items-start gap-3\">\n                  <Globe className=\"w-4 h-4 text-primary flex-shrink-0 mt-0.5\" />\n                  <span className=\"text-sm text-foreground\">\n                    Create In : <span className=\"text-muted-foreground\">English , हिन्दी , मराठी , ગુજરાતી , தமிழ் , తెలుగు</span>\n                  </span>\n                </div>\n                <div className=\"flex items-start gap-3\">\n                  <Palette className=\"w-4 h-4 text-primary flex-shrink-0 mt-0.5\" />\n                  <span className=\"text-sm text-foreground\">Change your card's text, style, envelope, backdrop and more</span>\n                </div>\n                <div className=\"flex items-start gap-3\">\n                  <Download className=\"w-4 h-4 text-primary flex-shrink-0 mt-0.5\" />\n                  <span className=\"text-sm text-foreground\">\n                    {template.templateType === \"video\" \n                      ? \"Download high quality video.\"\n                      : \"Download high quality digital cards.\"}\n                  </span>\n                </div>\n              </div>\n\n              <Card className=\"p-4 border rounded-lg\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-foreground text-sm italic\">Prefer to let the experts handle it?</span>\n                  <span className=\"text-primary font-bold\">{expertPrice}</span>\n                </div>\n                <p className=\"text-xs text-muted-foreground mb-4\">\n                  Our expert graphic design team is ready to help! Contact us, and we'll craft it perfectly for you.\n                </p>\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full rounded-full border-primary text-primary hover:bg-primary hover:text-primary-foreground\"\n                  data-testid=\"button-expert-create\"\n                >\n                  <Phone className=\"w-4 h-4 mr-2\" />\n                  Expert Create\n                </Button>\n              </Card>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-6 lg:py-8 bg-background\">\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <h2 className=\"text-lg font-semibold text-foreground mb-4\">What to do next ?</h2>\n          <div className=\"space-y-3\">\n            {template.templateType === \"video\" ? (\n              <>\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <Check className=\"w-3 h-3 text-white\" />\n                  </div>\n                  <p className=\"text-sm text-foreground\">Click on \"Start Free Customization\" to edit video yourself.</p>\n                </div>\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <Check className=\"w-3 h-3 text-white\" />\n                  </div>\n                  <p className=\"text-sm text-foreground\">Upload your event details, photos and music and click on \"Generate Preview\" to create video.</p>\n                </div>\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <Check className=\"w-3 h-3 text-white\" />\n                  </div>\n                  <p className=\"text-sm text-foreground\">System will create the video in minutes and provide an instant preview.</p>\n                </div>\n              </>\n            ) : (\n              <>\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <Check className=\"w-3 h-3 text-white\" />\n                  </div>\n                  <p className=\"text-sm text-foreground\">Click on \"Start Free Customization\" to personalize your card invitation.</p>\n                </div>\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <Check className=\"w-3 h-3 text-white\" />\n                  </div>\n                  <p className=\"text-sm text-foreground\">Edit each page with your event details, names, dates, and photos.</p>\n                </div>\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <Check className=\"w-3 h-3 text-white\" />\n                  </div>\n                  <p className=\"text-sm text-foreground\">Preview your complete {pages.length}-page card and download high-quality images.</p>\n                </div>\n              </>\n            )}\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                <Check className=\"w-3 h-3 text-white\" />\n              </div>\n              <p className=\"text-sm text-foreground\">Click on \"Expert create\" to request our team to create it for you with additional customization.</p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {relatedTemplates && relatedTemplates.length > 0 && (\n        <section className=\"py-8 lg:py-12 bg-background border-t\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <h2 className=\"text-xl font-bold text-foreground text-center mb-8 uppercase tracking-wide\">\n              You Might Also Like\n            </h2>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 lg:gap-6\">\n              {relatedTemplates.map((t: any) => {\n                const relatedPrice = formatPrice(t.priceInr || 0);\n                const title = t.title || t.templateName || \"Template\";\n                return (\n                  <div \n                    key={t.id} \n                    className=\"group cursor-pointer\"\n                    onClick={() => navigate(`/template/${t.slug}`)}\n                    data-testid={`related-template-${t.id}`}\n                  >\n                    <div className=\"relative aspect-[9/16] rounded-xl overflow-hidden bg-muted mb-3\">\n                      <img\n                        src={t.thumbnailUrl}\n                        alt={title}\n                        className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\"\n                      />\n                    </div>\n                    <div className=\"flex items-center justify-between mb-1\">\n                      <div className=\"flex items-center gap-1\">\n                        <Sparkles className=\"w-3 h-3 text-primary\" />\n                        <span className=\"text-xs text-primary font-medium\">Premium invite</span>\n                      </div>\n                      <span className=\"text-sm font-semibold text-foreground\">{relatedPrice}</span>\n                    </div>\n                    <p className=\"text-sm text-foreground line-clamp-2\">{title}</p>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </section>\n      )}\n\n      <section className=\"py-8 lg:py-12 bg-background border-t\">\n        <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <h2 className=\"text-xl font-bold text-foreground text-center mb-2 uppercase tracking-wide\">\n            Frequently Asked Questions\n          </h2>\n          <p className=\"text-muted-foreground text-center text-sm mb-8\">\n            Everything you need to know about creating digital invitations\n          </p>\n          \n          <Accordion type=\"single\" collapsible className=\"w-full\">\n            {faqs.map((faq, index) => (\n              <AccordionItem key={index} value={`item-${index}`} data-testid={`faq-item-${index}`}>\n                <AccordionTrigger className=\"text-left text-foreground hover:no-underline\">\n                  {faq.question}\n                </AccordionTrigger>\n                <AccordionContent className=\"text-muted-foreground\">\n                  {faq.answer}\n                </AccordionContent>\n              </AccordionItem>\n            ))}\n          </Accordion>\n\n          <div className=\"text-center mt-8\">\n            <p className=\"text-muted-foreground mb-3\">Didn't find your answer?</p>\n            <Button \n              variant=\"outline\" \n              onClick={() => navigate('/contact')}\n              data-testid=\"button-contact-us\"\n            >\n              Contact Us\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-6 lg:py-8 bg-background border-t\">\n        <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <h3 className=\"text-sm font-medium text-foreground mb-3\">Tags</h3>\n          <div className=\"flex flex-wrap gap-2\" data-testid=\"seo-tags\">\n            {tags.map((tag) => (\n              <span \n                key={tag} \n                className=\"text-sm text-muted-foreground px-3 py-1 bg-muted rounded-full\"\n              >\n                {tag}\n              </span>\n            ))}\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":25446,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport * as bcrypt from \"bcryptjs\";\nimport jwt from \"jsonwebtoken\";\nimport { Client } from \"@replit/object-storage\";\nimport { adminAuth } from \"./firebase-admin\";\nimport { renderProject, renderPagePreview } from \"./render-service\";\n\nconst JWT_SECRET = process.env.SESSION_SECRET || \"your-secret-key-change-in-production\";\n\n// Templates cache - templates rarely change so cache for 5 minutes\nlet templatesCache: { data: any[] | null; timestamp: number } = { data: null, timestamp: 0 };\nconst TEMPLATES_CACHE_TTL = 5 * 60 * 1000; // 5 minutes\n\nasync function getCachedTemplates() {\n  const now = Date.now();\n  if (templatesCache.data && (now - templatesCache.timestamp) < TEMPLATES_CACHE_TTL) {\n    return templatesCache.data;\n  }\n  const templates = await storage.getTemplates();\n  templatesCache = { data: templates, timestamp: now };\n  return templates;\n}\n\nconst authMiddleware = (req: any, res: any, next: any) => {\n  const token = req.headers.authorization?.replace('Bearer ', '');\n  \n  if (!token) {\n    return res.status(401).json({ error: \"No token provided\" });\n  }\n  \n  try {\n    const decoded = jwt.verify(token, JWT_SECRET) as { userId: string; email: string };\n    req.user = decoded;\n    next();\n  } catch (error) {\n    return res.status(401).json({ error: \"Invalid token\" });\n  }\n};\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // ==================== AUTH ROUTES ====================\n  \n  app.post(\"/api/auth/signup\", async (req, res) => {\n    try {\n      const { name, email, phone, password } = req.body;\n      \n      if (!name || !email || !password) {\n        return res.status(400).json({ error: \"Name, email, and password are required\" });\n      }\n      \n      const existingUser = await storage.getUserByEmail(email);\n      if (existingUser) {\n        return res.status(400).json({ error: \"User with this email already exists\" });\n      }\n      \n      if (phone) {\n        const existingPhoneUser = await storage.getUserByPhone(phone);\n        if (existingPhoneUser) {\n          return res.status(400).json({ error: \"User with this phone number already exists\" });\n        }\n      }\n      \n      const passwordHash = await bcrypt.hash(password, 10);\n      \n      const user = await storage.createUser({\n        name,\n        email,\n        phone: phone || null,\n        passwordHash,\n        authProvider: \"password\",\n      });\n      \n      // Generate JWT token for the new user\n      const token = jwt.sign(\n        { userId: user.id, email: user.email },\n        JWT_SECRET,\n        { expiresIn: \"7d\" }\n      );\n      \n      res.status(201).json({\n        token,\n        user: {\n          id: user.id,\n          user_id: user.id,\n          name: user.name,\n          email: user.email,\n        },\n      });\n    } catch (error) {\n      console.error(\"Signup error:\", error);\n      res.status(500).json({ error: \"Failed to create user\" });\n    }\n  });\n  \n  app.post(\"/api/auth/login\", async (req, res) => {\n    try {\n      const { email, password } = req.body;\n      \n      if (!email || !password) {\n        return res.status(400).json({ error: \"Email and password are required\" });\n      }\n      \n      const user = await storage.getUserByEmail(email);\n      if (!user) {\n        return res.status(401).json({ error: \"Invalid email or password\" });\n      }\n      \n      // Check if user has a password (Google auth users don't have passwords)\n      if (!user.passwordHash) {\n        return res.status(401).json({ error: \"This account uses Google Sign-In. Please sign in with Google.\" });\n      }\n      \n      const isValidPassword = await bcrypt.compare(password, user.passwordHash);\n      if (!isValidPassword) {\n        return res.status(401).json({ error: \"Invalid email or password\" });\n      }\n      \n      const token = jwt.sign(\n        { userId: user.id, email: user.email },\n        JWT_SECRET,\n        { expiresIn: \"7d\" }\n      );\n      \n      res.json({\n        token,\n        user: {\n          id: user.id,\n          user_id: user.id,\n          name: user.name,\n          email: user.email,\n        },\n      });\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      res.status(500).json({ error: \"Failed to login\" });\n    }\n  });\n\n  // Google Authentication Route\n  app.post(\"/api/auth/google\", async (req, res) => {\n    try {\n      const { idToken } = req.body;\n      \n      if (!idToken) {\n        return res.status(400).json({ error: \"ID token is required\" });\n      }\n      \n      // Verify the Firebase ID token\n      const decodedToken = await adminAuth.verifyIdToken(idToken);\n      const { uid: googleId, email, name, picture } = decodedToken;\n      \n      if (!email) {\n        return res.status(400).json({ error: \"Email not provided by Google\" });\n      }\n      \n      // First, check if user exists by Google ID\n      let user = await storage.getUserByGoogleId(googleId);\n      \n      if (!user) {\n        // Check if user exists by email (account linking)\n        const existingUser = await storage.getUserByEmail(email);\n        \n        if (existingUser) {\n          // Existing user signing in with Google for the first time\n          // Link their Google account by updating their record\n          const updatedUser = await storage.updateUser(existingUser.id, {\n            googleId,\n            authProvider: \"google\",\n          });\n          user = updatedUser!;\n        } else {\n          // New user - create account with Google auth\n          user = await storage.createUser({\n            name: name || email.split('@')[0],\n            email,\n            phone: null,\n            passwordHash: null,\n            googleId,\n            authProvider: \"google\",\n          });\n        }\n      }\n      \n      // Generate JWT token\n      const token = jwt.sign(\n        { userId: user.id, email: user.email },\n        JWT_SECRET,\n        { expiresIn: \"7d\" }\n      );\n      \n      res.json({\n        token,\n        user: {\n          id: user.id,\n          user_id: user.id,\n          name: user.name,\n          email: user.email,\n        },\n      });\n    } catch (error: any) {\n      console.error(\"Google auth error:\", error);\n      \n      // Handle specific Firebase errors\n      if (error.code === 'auth/id-token-expired') {\n        return res.status(401).json({ error: \"Google token expired. Please sign in again.\" });\n      }\n      if (error.code === 'auth/argument-error') {\n        return res.status(400).json({ error: \"Invalid Google token\" });\n      }\n      \n      res.status(500).json({ error: \"Failed to authenticate with Google\" });\n    }\n  });\n\n  app.get(\"/api/auth/me\", authMiddleware, async (req: any, res) => {\n    try {\n      const user = await storage.getUserById(req.user.userId);\n      \n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      res.json({\n        user_id: user.id,\n        name: user.name,\n        email: user.email,\n      });\n    } catch (error) {\n      console.error(\"Get user error:\", error);\n      res.status(500).json({ error: \"Failed to get user\" });\n    }\n  });\n\n  // Alias for /api/auth/me to support frontend calling /api/auth/user\n  app.get(\"/api/auth/user\", authMiddleware, async (req: any, res) => {\n    try {\n      const user = await storage.getUserById(req.user.userId);\n      \n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      \n      res.json({\n        user_id: user.id,\n        name: user.name,\n        email: user.email,\n      });\n    } catch (error) {\n      console.error(\"Get user error:\", error);\n      res.status(500).json({ error: \"Failed to get user\" });\n    }\n  });\n\n  // ==================== PROJECT ROUTES ====================\n  \n  app.get(\"/api/projects/mine\", authMiddleware, async (req: any, res) => {\n    try {\n      const userId = req.user.userId;\n      const projects = await storage.getUserProjects(userId);\n      \n      // Batch fetch all music IDs in a single query (fixes N+1 problem)\n      const musicIds = projects\n        .map((p: any) => p.selectedMusicId)\n        .filter((id: string | null): id is string => id !== null);\n      \n      const musicTracks = musicIds.length > 0 \n        ? await storage.getMusicByIds(musicIds) \n        : [];\n      \n      // Create a lookup map for O(1) access\n      const musicMap = new Map(musicTracks.map(m => [m.id, m]));\n      \n      // Enrich projects with music information using the map\n      const enrichedProjects = projects.map((project: any) => {\n        const selectedMusic = project.selectedMusicId \n          ? musicMap.get(project.selectedMusicId) \n          : null;\n        \n        return {\n          ...project,\n          selectedMusic: selectedMusic ? {\n            id: selectedMusic.id,\n            name: selectedMusic.name,\n            url: selectedMusic.url,\n            duration: selectedMusic.duration,\n            category: selectedMusic.category,\n          } : null,\n        };\n      });\n      \n      res.json(enrichedProjects);\n    } catch (error) {\n      console.error(\"Get user projects error:\", error);\n      res.status(500).json({ error: \"Failed to fetch projects\" });\n    }\n  });\n\n  app.post(\"/api/projects\", authMiddleware, async (req: any, res) => {\n    try {\n      const userId = req.user.userId;\n      const { templateId, customization, selectedMusicId, customMusicUrl, status } = req.body;\n      \n      if (!templateId || !customization) {\n        return res.status(400).json({ error: \"Template ID and customization are required\" });\n      }\n      \n      // Get template to check for default music and type\n      const template = await storage.getTemplateById(templateId);\n      \n      // Determine music to use:\n      // 1. If customMusicUrl provided, use it (user uploaded custom music)\n      // 2. If selectedMusicId provided, use it (user selected stock music)\n      // 3. Otherwise, use template's default music\n      let finalSelectedMusicId = selectedMusicId || null;\n      let finalCustomMusicUrl = customMusicUrl || null;\n      \n      // If no music specified by user and template has default, use template default\n      if (!selectedMusicId && !customMusicUrl && template?.defaultMusicId) {\n        finalSelectedMusicId = template.defaultMusicId;\n      }\n      \n      // Create the initial project\n      let project = await storage.createProject({\n        userId,\n        templateId,\n        customization,\n        status: status || \"draft\",\n        selectedMusicId: finalSelectedMusicId,\n        customMusicUrl: finalCustomMusicUrl,\n      });\n      \n      // If status is preview_requested, run the dummy render service\n      if (status === \"preview_requested\" && template) {\n        const renderResult = await renderProject(project.id, template.templateType);\n        project = await storage.updateProject(project.id, {\n          previewUrl: renderResult.previewUrl,\n          finalUrl: renderResult.finalUrl,\n          status: \"completed\",\n        }) || project;\n      }\n      \n      // Increment template generation count for popularity tracking\n      await storage.incrementTemplateGeneration(templateId);\n      \n      res.status(201).json(project);\n    } catch (error) {\n      console.error(\"Create project error:\", error);\n      res.status(500).json({ error: \"Failed to create project\" });\n    }\n  });\n\n  app.put(\"/api/projects/:id\", authMiddleware, async (req: any, res) => {\n    try {\n      const userId = req.user.userId;\n      const { id } = req.params;\n      const updates = req.body;\n      \n      const existingProject = await storage.getProjectById(id);\n      if (!existingProject) {\n        return res.status(404).json({ error: \"Project not found\" });\n      }\n      \n      if (existingProject.userId !== userId) {\n        return res.status(403).json({ error: \"Not authorized to update this project\" });\n      }\n      \n      // First apply the updates\n      let updatedProject = await storage.updateProject(id, updates);\n      \n      // If status changed to preview_requested, run the dummy render service\n      if (updates.status === \"preview_requested\" && updatedProject) {\n        const template = await storage.getTemplateById(existingProject.templateId);\n        if (template) {\n          const renderResult = await renderProject(id, template.templateType);\n          updatedProject = await storage.updateProject(id, {\n            previewUrl: renderResult.previewUrl,\n            finalUrl: renderResult.finalUrl,\n            status: \"completed\",\n          }) || updatedProject;\n        }\n      }\n      \n      res.json(updatedProject);\n    } catch (error) {\n      console.error(\"Update project error:\", error);\n      res.status(500).json({ error: \"Failed to update project\" });\n    }\n  });\n\n  app.get(\"/api/projects/:id\", authMiddleware, async (req: any, res) => {\n    try {\n      const userId = req.user.userId;\n      const { id } = req.params;\n      \n      const project = await storage.getProjectById(id);\n      if (!project) {\n        return res.status(404).json({ error: \"Project not found\" });\n      }\n      \n      if (project.userId !== userId) {\n        return res.status(403).json({ error: \"Not authorized to view this project\" });\n      }\n      \n      // Fetch music information if project has selectedMusicId\n      let selectedMusic = null;\n      if ((project as any).selectedMusicId) {\n        selectedMusic = await storage.getMusicById((project as any).selectedMusicId);\n      }\n      \n      res.json({\n        ...project,\n        selectedMusic: selectedMusic ? {\n          id: selectedMusic.id,\n          name: selectedMusic.name,\n          url: selectedMusic.url,\n          duration: selectedMusic.duration,\n          category: selectedMusic.category,\n        } : null,\n      });\n    } catch (error) {\n      console.error(\"Get project error:\", error);\n      res.status(500).json({ error: \"Failed to fetch project\" });\n    }\n  });\n\n  // Delete a project (only allowed for unpaid/generated templates)\n  app.delete(\"/api/projects/:id\", authMiddleware, async (req: any, res) => {\n    try {\n      const userId = req.user.userId;\n      const { id } = req.params;\n      \n      const project = await storage.getProjectById(id);\n      if (!project) {\n        return res.status(404).json({ error: \"Project not found\" });\n      }\n      \n      if (project.userId !== userId) {\n        return res.status(403).json({ error: \"Not authorized to delete this project\" });\n      }\n      \n      // Only allow deleting unpaid projects\n      if (project.paidAt) {\n        return res.status(400).json({ error: \"Cannot delete paid templates\" });\n      }\n      \n      await storage.deleteProject(id);\n      \n      res.json({ success: true, message: \"Project deleted successfully\" });\n    } catch (error) {\n      console.error(\"Delete project error:\", error);\n      res.status(500).json({ error: \"Failed to delete project\" });\n    }\n  });\n\n  // Render a single page preview with customizations\n  // No auth required - preview is available to all users (shows watermarked dummy images)\n  // Data is NOT saved to database - only returned for client-side display\n  // Preview URLs are saved to project only when Generate is clicked (via saveProjectMutation)\n  app.post(\"/api/preview/page\", async (req: any, res) => {\n    try {\n      const { projectId, templateId, pageId, previewIndex, customization } = req.body;\n      \n      if (!pageId) {\n        return res.status(400).json({ error: \"pageId is required\" });\n      }\n      \n      // Render the page preview (cycles through dummy images for now)\n      const currentIndex = previewIndex || 0;\n      const result = await renderPagePreview(projectId || templateId, pageId, currentIndex);\n      \n      // Return preview URL - client will store in state and save to project only on Generate\n      res.json({\n        success: true,\n        previewUrl: result.previewUrl,\n        nextIndex: result.nextIndex,\n        pageId,\n      });\n    } catch (error) {\n      console.error(\"Page preview error:\", error);\n      res.status(500).json({ error: \"Failed to generate page preview\" });\n    }\n  });\n\n  // Backfill endpoint to populate NULL previewUrl/finalUrl for existing projects\n  app.post(\"/api/admin/backfill-project-urls\", async (req, res) => {\n    try {\n      const allProjects = await storage.getAllProjects();\n      let updatedCount = 0;\n      \n      for (const project of allProjects) {\n        // Only update projects that have NULL URLs\n        if (!project.previewUrl || !project.finalUrl) {\n          const template = await storage.getTemplateById(project.templateId);\n          if (template) {\n            const renderResult = await renderProject(project.id, template.templateType);\n            await storage.updateProject(project.id, {\n              previewUrl: renderResult.previewUrl,\n              finalUrl: renderResult.finalUrl,\n            });\n            updatedCount++;\n          }\n        }\n      }\n      \n      res.json({ \n        success: true, \n        message: `Backfilled ${updatedCount} projects with preview/final URLs`,\n        totalProjects: allProjects.length,\n        updatedCount\n      });\n    } catch (error) {\n      console.error(\"Backfill error:\", error);\n      res.status(500).json({ error: \"Failed to backfill project URLs\" });\n    }\n  });\n\n  // ==================== TEMPLATE ROUTES ====================\n  \n  app.get(\"/api/templates\", async (req, res) => {\n    try {\n      const { \n        category, \n        subcategory, \n        region,\n        type, \n        orientation, \n        photo,\n        sort,\n        offset,\n        limit\n      } = req.query;\n      \n      const allTemplates = await getCachedTemplates();\n      \n      // Apply filters\n      let filteredTemplates = allTemplates;\n      \n      // Filter by category (wedding/birthday/anniversary etc.)\n      if (category) {\n        filteredTemplates = filteredTemplates.filter(t => t.category === category);\n      }\n      \n      // Filter by subcategory\n      if (subcategory) {\n        filteredTemplates = filteredTemplates.filter(t => t.subcategory === subcategory);\n      }\n      \n      // Filter by region (india/uae/saudi/gulf/south_asia)\n      if (region) {\n        filteredTemplates = filteredTemplates.filter(t => t.region === region);\n      }\n      \n      // Filter by type (video/card)\n      if (type) {\n        filteredTemplates = filteredTemplates.filter(t => t.templateType === type);\n      }\n      \n      // Filter by orientation (portrait/landscape)\n      if (orientation) {\n        filteredTemplates = filteredTemplates.filter(t => t.orientation === orientation);\n      }\n      \n      // Filter by photo option (with_photo/without_photo)\n      if (photo) {\n        filteredTemplates = filteredTemplates.filter(t => t.photoOption === photo);\n      }\n      \n      // Apply sorting - default to newest if no sort specified\n      if (sort === 'popular') {\n        filteredTemplates.sort((a, b) => (b.popularityScore || 0) - (a.popularityScore || 0));\n      } else if (sort === 'price_low') {\n        filteredTemplates.sort((a, b) => parseFloat(a.price) - parseFloat(b.price));\n      } else if (sort === 'price_high') {\n        filteredTemplates.sort((a, b) => parseFloat(b.price) - parseFloat(a.price));\n      } else {\n        // Default: newest first (by createdAt descending)\n        filteredTemplates.sort((a, b) => {\n          const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n          const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n          return dateB - dateA;\n        });\n      }\n      \n      // Get total count before pagination\n      const total = filteredTemplates.length;\n      \n      // Apply pagination\n      const offsetNum = offset ? parseInt(offset as string, 10) : 0;\n      const limitNum = limit ? parseInt(limit as string, 10) : 25;\n      const paginatedTemplates = filteredTemplates.slice(offsetNum, offsetNum + limitNum);\n      \n      const templateList = paginatedTemplates.map(t => {\n        const templateJson = typeof t.templateJson === 'string' \n          ? JSON.parse(t.templateJson) \n          : t.templateJson;\n        const pageCount = templateJson?.pages?.length || 1;\n        \n        return {\n          id: t.id,\n          title: t.templateName,\n          templateName: t.templateName,\n          slug: t.slug,\n          templateType: t.templateType,\n          category: t.category,\n          subcategory: t.subcategory,\n          duration: t.durationSec,\n          durationSec: t.durationSec,\n          thumbnailUrl: t.thumbnailUrl,\n          previewVideoUrl: t.previewVideoUrl,\n          demoVideoUrl: t.previewVideoUrl,\n          price: Math.floor(parseFloat(t.price) * 100),\n          priceInr: Math.floor(parseFloat(t.price) * 100),\n          tags: t.templateTags,\n          orientation: t.orientation,\n          photoOption: t.photoOption,\n          isPremium: parseFloat(t.price) >= 2000,\n          popularityScore: t.popularityScore || 0,\n          pageCount: pageCount,\n          templateJson: templateJson,\n        };\n      });\n      \n      // Return paginated response with metadata\n      res.json({\n        templates: templateList,\n        pagination: {\n          total,\n          offset: offsetNum,\n          limit: limitNum,\n          hasMore: offsetNum + limitNum < total,\n        }\n      });\n    } catch (error) {\n      console.error(\"Error fetching templates:\", error);\n      res.status(500).json({ error: \"Failed to fetch templates\" });\n    }\n  });\n\n  app.get(\"/api/templates/:slugOrId\", async (req, res) => {\n    try {\n      const { slugOrId } = req.params;\n      \n      // Try to find by slug first, then by ID\n      let template = await storage.getTemplateBySlug(slugOrId);\n      if (!template) {\n        template = await storage.getTemplateById(slugOrId);\n      }\n      \n      if (!template) {\n        return res.status(404).json({ error: \"Template not found\" });\n      }\n      \n      // Parse template_json to get pages\n      const templateJson = typeof template.templateJson === 'string' \n        ? JSON.parse(template.templateJson) \n        : template.templateJson;\n      \n      const pages = (templateJson?.pages || []).map((page: any) => ({\n        id: page.page_id,\n        pageNumber: page.page_number,\n        pageName: page.page_name || `Page ${page.page_number}`,\n        thumbnailUrl: page.media?.find((m: any) => m.position === 'background')?.url || template.thumbnailUrl,\n        editableFields: (page.fields || []).map((field: any) => ({\n          id: field.field_id,\n          type: field.type,\n          label: field.label,\n          defaultValue: field.value,\n          maxLength: field.type === 'text' ? 100 : 500,\n          ae_layer: field.ae_layer\n        })),\n        media: page.media || []\n      }));\n      \n      const priceInr = parseFloat(template.price);\n      \n      // Fetch default music if template is a video\n      let defaultMusic = null;\n      if (template.templateType === 'video' && (template as any).defaultMusicId) {\n        defaultMusic = await storage.getMusicById((template as any).defaultMusicId);\n      }\n      \n      res.json({\n        id: template.id,\n        templateName: template.templateName,\n        name: template.templateName, // Add name alias for compatibility\n        slug: template.slug,\n        templateType: template.templateType,\n        category: template.category, // wedding or birthday\n        orientation: template.orientation,\n        photoOption: template.photoOption,\n        templateTags: template.templateTags,\n        tags: template.templateTags, // Alias\n        thumbnailUrl: template.thumbnailUrl,\n        previewVideoUrl: template.previewVideoUrl,\n        demoVideoUrl: template.previewVideoUrl, // Use previewVideoUrl\n        durationSec: template.durationSec,\n        duration: template.durationSec, // Alias\n        currency: template.currency,\n        price: template.price,\n        priceInr: Math.floor(parseFloat(template.price) * 100), // Price in paise for compatibility\n        isPremium: priceInr >= 2000,\n        description: `Create beautiful ${template.templateName} with customizable pages and send via WhatsApp`,\n        country: \"india\", // Default country\n        culture: \"hindu\", // Default culture from tags\n        style: \"traditional\", // Default style\n        pageCount: pages.length,\n        templateJson: template.templateJson,\n        pages: pages, // Add pages array for editor\n        defaultMusicId: (template as any).defaultMusicId,\n        defaultMusic: defaultMusic ? {\n          id: defaultMusic.id,\n          name: defaultMusic.name,\n          url: defaultMusic.url,\n          duration: defaultMusic.duration,\n          category: defaultMusic.category,\n        } : null,\n      });\n    } catch (error) {\n      console.error(\"Error fetching template:\", error);\n      res.status(500).json({ error: \"Failed to fetch template\" });\n    }\n  });\n\n  // ==================== MUSIC ROUTES ====================\n  \n  app.get(\"/api/music\", async (req, res) => {\n    try {\n      const { category } = req.query;\n      const musicList = await storage.getMusicLibrary(category as string | undefined);\n      \n      res.json({\n        music: musicList.map(m => ({\n          id: m.id,\n          name: m.name,\n          url: m.url,\n          duration: m.duration,\n          category: m.category,\n        }))\n      });\n    } catch (error) {\n      console.error(\"Error fetching music:\", error);\n      res.status(500).json({ error: \"Failed to fetch music library\" });\n    }\n  });\n\n  app.get(\"/api/music/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const track = await storage.getMusicById(id);\n      \n      if (!track) {\n        return res.status(404).json({ error: \"Music track not found\" });\n      }\n      \n      res.json({\n        id: track.id,\n        name: track.name,\n        url: track.url,\n        duration: track.duration,\n        category: track.category,\n      });\n    } catch (error) {\n      console.error(\"Error fetching music track:\", error);\n      res.status(500).json({ error: \"Failed to fetch music track\" });\n    }\n  });\n\n  // Upload custom music for a project\n  app.post(\"/api/projects/:projectId/music/upload\", authMiddleware, async (req: any, res) => {\n    try {\n      const userId = req.user.userId;\n      const { projectId } = req.params;\n      \n      // Verify project belongs to user\n      const project = await storage.getProjectById(projectId);\n      if (!project) {\n        return res.status(404).json({ error: \"Project not found\" });\n      }\n      if (project.userId !== userId) {\n        return res.status(403).json({ error: \"Not authorized\" });\n      }\n      \n      // Expect base64 encoded audio data and filename\n      const { audioData, filename, mimeType } = req.body;\n      \n      if (!audioData) {\n        return res.status(400).json({ error: \"Audio data is required\" });\n      }\n      \n      // Validate mime type\n      const allowedTypes = ['audio/mpeg', 'audio/mp3', 'audio/wav', 'audio/ogg'];\n      if (mimeType && !allowedTypes.includes(mimeType)) {\n        return res.status(400).json({ error: \"Invalid audio format. Allowed: MP3, WAV, OGG\" });\n      }\n      \n      // Decode base64 data\n      const audioBuffer = Buffer.from(audioData, 'base64');\n      \n      // Validate file size (max 10MB)\n      if (audioBuffer.length > 10 * 1024 * 1024) {\n        return res.status(400).json({ error: \"File too large. Max 10MB allowed.\" });\n      }\n      \n      // Create object storage client\n      const objectStorage = new Client();\n      \n      // Generate unique filename with timestamp\n      const timestamp = Date.now();\n      const safeFilename = filename?.replace(/[^a-zA-Z0-9.-]/g, '_') || 'custom_music.mp3';\n      const storagePath = `user_music/${userId}/${projectId}_${timestamp}_${safeFilename}`;\n      \n      // Upload to object storage\n      await objectStorage.uploadFromBytes(storagePath, audioBuffer);\n      \n      // Get the public URL\n      const musicUrl = `/api/media/user_music/${userId}/${projectId}_${timestamp}_${safeFilename}`;\n      \n      // Update project with custom music URL\n      await storage.updateProject(projectId, {\n        customMusicUrl: musicUrl,\n        selectedMusicId: null, // Clear stock music selection when custom is uploaded\n      });\n      \n      res.json({\n        success: true,\n        musicUrl,\n        filename: safeFilename,\n      });\n    } catch (error) {\n      console.error(\"Error uploading custom music:\", error);\n      res.status(500).json({ error: \"Failed to upload music\" });\n    }\n  });\n\n  // ==================== INSTANCE ROUTES (Deprecated) ====================\n  \n  app.post(\"/api/instances\", async (_req, res) => {\n    return res.status(410).json({ \n      error: \"This endpoint is deprecated. Please use /api/projects instead.\"\n    });\n  });\n  \n  app.put(\"/api/instances/:id\", async (_req, res) => {\n    return res.status(410).json({ \n      error: \"This endpoint is deprecated. Please use /api/projects/:id instead.\"\n    });\n  });\n\n  // ==================== PAYMENT ROUTES ====================\n  \n  app.post(\"/api/payment/create-order\", authMiddleware, async (req: any, res) => {\n    try {\n      const { projectId } = req.body;\n      const userId = req.user.userId;\n      \n      if (!projectId) {\n        return res.status(400).json({ error: \"Project ID is required\" });\n      }\n      \n      // Get project details\n      const project = await storage.getProjectById(projectId);\n      if (!project) {\n        return res.status(404).json({ error: \"Project not found\" });\n      }\n      \n      // Verify project belongs to user\n      if (project.userId !== userId) {\n        return res.status(403).json({ error: \"Not authorized to access this project\" });\n      }\n      \n      // Check if project is already paid\n      if (project.paidAt) {\n        return res.status(400).json({ error: \"Project already paid for\" });\n      }\n      \n      // Get template details for pricing\n      const template = await storage.getTemplateById(project.templateId);\n      if (!template) {\n        return res.status(404).json({ error: \"Template not found\" });\n      }\n      \n      // Create order in database\n      const orderNumber = `ORD-${Date.now()}-${Math.random().toString(36).substring(7).toUpperCase()}`;\n      const order = await storage.createOrder({\n        orderNumber,\n        userId,\n        projectId,\n        templateId: template.id,\n        amount: template.price,\n        currency: template.currency,\n        status: \"pending\",\n        paymentProvider: \"razorpay\",\n      });\n      \n      // Create Razorpay order\n      const { createRazorpayOrder } = await import(\"./razorpay\");\n      const rzpOrder = await createRazorpayOrder(\n        parseFloat(template.price),\n        template.currency,\n        orderNumber\n      );\n      \n      // Update order with Razorpay order ID\n      await storage.updateOrder(order.id, {\n        providerOrderId: rzpOrder.id,\n      });\n      \n      res.json({\n        orderId: order.id,\n        razorpayOrderId: rzpOrder.id,\n        amount: template.price,\n        currency: template.currency,\n        keyId: process.env.RAZORPAY_KEY_ID,\n      });\n    } catch (error) {\n      console.error(\"Error creating order:\", error);\n      res.status(500).json({ error: \"Failed to create payment order\" });\n    }\n  });\n  \n  app.post(\"/api/payment/verify\", authMiddleware, async (req: any, res) => {\n    try {\n      const { orderId, razorpayOrderId, razorpayPaymentId, razorpaySignature } = req.body;\n      const userId = req.user.userId;\n      \n      if (!orderId || !razorpayOrderId || !razorpayPaymentId || !razorpaySignature) {\n        return res.status(400).json({ error: \"Missing required payment details\" });\n      }\n      \n      // Get order\n      const order = await storage.getOrderById(orderId);\n      if (!order) {\n        return res.status(404).json({ error: \"Order not found\" });\n      }\n      \n      // Verify order belongs to user\n      if (order.userId !== userId) {\n        return res.status(403).json({ error: \"Not authorized\" });\n      }\n      \n      // Verify payment signature\n      const { verifyRazorpaySignature } = await import(\"./razorpay\");\n      const isValid = verifyRazorpaySignature(\n        razorpayOrderId,\n        razorpayPaymentId,\n        razorpaySignature\n      );\n      \n      if (!isValid) {\n        return res.status(400).json({ error: \"Invalid payment signature\" });\n      }\n      \n      // Update order status to paid\n      await storage.updateOrder(orderId, {\n        status: \"paid\",\n      });\n      \n      // Update project as paid\n      await storage.updateProject(order.projectId, {\n        paidAt: new Date(),\n        status: \"completed\",\n      });\n      \n      // Create payment record\n      await storage.createPayment({\n        orderId,\n        provider: \"razorpay\",\n        status: \"success\",\n        amount: order.amount,\n        currency: order.currency,\n        payload: {\n          razorpayOrderId,\n          razorpayPaymentId,\n          razorpaySignature,\n        },\n      });\n      \n      // Create user template record (purchase record)\n      await storage.createUserTemplate({\n        userId,\n        projectId: order.projectId,\n        purchaseAmount: order.amount,\n        razorpayOrderId,\n        razorpayPaymentId,\n      });\n      \n      // Increment template purchase count for popularity tracking\n      await storage.incrementTemplatePurchase(order.templateId);\n      \n      // Get the updated project with download URL\n      const updatedProject = await storage.getProjectById(order.projectId);\n      const template = await storage.getTemplateById(order.templateId);\n      \n      res.json({\n        success: true,\n        message: \"Payment verified successfully\",\n        projectId: order.projectId,\n        downloadUrl: updatedProject?.finalUrl || updatedProject?.previewUrl || template?.previewVideoUrl || null,\n        templateName: template?.templateName || \"Video\",\n      });\n    } catch (error) {\n      console.error(\"Error verifying payment:\", error);\n      res.status(500).json({ error: \"Failed to verify payment\" });\n    }\n  });\n\n  // ==================== MEDIA SERVING ENDPOINT ====================\n  \n  // Helper function to get content type from filename\n  const getContentType = (filename: string): string => {\n    const ext = filename.split('.').pop()?.toLowerCase();\n    const mimeTypes: Record<string, string> = {\n      'mp4': 'video/mp4',\n      'webm': 'video/webm',\n      'png': 'image/png',\n      'jpg': 'image/jpeg',\n      'jpeg': 'image/jpeg',\n      'gif': 'image/gif',\n      'webp': 'image/webp',\n      'mp3': 'audio/mpeg',\n      'wav': 'audio/wav',\n      'm4a': 'audio/mp4',\n      'aac': 'audio/aac',\n      'ogg': 'audio/ogg',\n    };\n    return mimeTypes[ext || ''] || 'application/octet-stream';\n  };\n  \n  // Serve user-uploaded custom music files\n  app.get(\"/api/media/user_music/:userId/:filename\", async (req, res) => {\n    try {\n      const { userId, filename } = req.params;\n      const client = new Client();\n      const fileKey = `user_music/${userId}/${filename}`;\n      \n      const contentType = getContentType(filename);\n      \n      res.set({\n        'Content-Type': contentType,\n        'Cache-Control': 'public, max-age=31536000',\n        'Accept-Ranges': 'bytes',\n      });\n      \n      const stream = client.downloadAsStream(fileKey);\n      \n      stream.on('error', (error) => {\n        console.error(\"Stream error for user music\", fileKey, \":\", error);\n        if (!res.headersSent) {\n          res.status(404).json({ error: \"File not found\" });\n        }\n      });\n      \n      stream.pipe(res);\n      \n    } catch (error) {\n      console.error(\"Error serving user music file:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Failed to serve music file\" });\n      }\n    }\n  });\n  \n  // Handle generated files in subdirectory (e.g., Ind/generated/video_final.mp4)\n  app.get(\"/api/media/Ind/generated/:filename\", async (req, res) => {\n    try {\n      const { filename } = req.params;\n      const client = new Client();\n      const fileKey = `Ind/generated/${filename}`;\n      \n      const contentType = getContentType(filename);\n      \n      res.set({\n        'Content-Type': contentType,\n        'Cache-Control': 'public, max-age=31536000',\n        'Accept-Ranges': 'bytes',\n      });\n      \n      const stream = client.downloadAsStream(fileKey);\n      \n      stream.on('error', (error) => {\n        console.error(\"Stream error for generated file\", fileKey, \":\", error);\n        if (!res.headersSent) {\n          res.status(404).json({ error: \"File not found\" });\n        }\n      });\n      \n      stream.pipe(res);\n      \n    } catch (error) {\n      console.error(\"Error serving generated file:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Failed to serve generated file\" });\n      }\n    }\n  });\n  \n  // Handle preview images in subdirectory (e.g., Ind/preview/ed_p1.png)\n  app.get(\"/api/media/Ind/preview/:filename\", async (req, res) => {\n    try {\n      const { filename } = req.params;\n      const client = new Client();\n      const fileKey = `Ind/preview/${filename}`;\n      \n      const contentType = getContentType(filename);\n      \n      res.set({\n        'Content-Type': contentType,\n        'Cache-Control': 'public, max-age=31536000',\n        'Accept-Ranges': 'bytes',\n      });\n      \n      const stream = client.downloadAsStream(fileKey);\n      \n      stream.on('error', (error) => {\n        console.error(\"Stream error for preview file\", fileKey, \":\", error);\n        if (!res.headersSent) {\n          res.status(404).json({ error: \"File not found\" });\n        }\n      });\n      \n      stream.pipe(res);\n      \n    } catch (error) {\n      console.error(\"Error serving preview file:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Failed to serve preview file\" });\n      }\n    }\n  });\n  \n  // Handle media files in subdirectories (e.g., Ind/music/filename.mp3)\n  app.get(\"/api/media/Ind/music/:filename\", async (req, res) => {\n    try {\n      const { filename } = req.params;\n      const client = new Client();\n      const fileKey = `Ind/music/${filename}`;\n      \n      const contentType = getContentType(filename);\n      \n      res.set({\n        'Content-Type': contentType,\n        'Cache-Control': 'public, max-age=31536000',\n        'Accept-Ranges': 'bytes',\n      });\n      \n      const stream = client.downloadAsStream(fileKey);\n      \n      stream.on('error', (error) => {\n        console.error(\"Stream error for\", fileKey, \":\", error);\n        if (!res.headersSent) {\n          res.status(404).json({ error: \"File not found\" });\n        }\n      });\n      \n      stream.pipe(res);\n      \n    } catch (error) {\n      console.error(\"Error serving music file:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Failed to serve music file\" });\n      }\n    }\n  });\n  \n  app.get(\"/api/media/Ind/:filename\", async (req, res) => {\n    try {\n      const { filename } = req.params;\n      \n      // Create Object Storage client (uses default bucket)\n      const client = new Client();\n      const fileKey = `Ind/${filename}`;\n      \n      const contentType = getContentType(filename);\n      \n      // Set headers for video/image streaming\n      res.set({\n        'Content-Type': contentType,\n        'Cache-Control': 'public, max-age=31536000',\n        'Accept-Ranges': 'bytes',\n      });\n      \n      // Stream the file\n      const stream = client.downloadAsStream(fileKey);\n      \n      stream.on('error', (error) => {\n        console.error(\"Stream error for\", filename, \":\", error);\n        if (!res.headersSent) {\n          res.status(404).json({ error: \"File not found\" });\n        }\n      });\n      \n      stream.pipe(res);\n      \n    } catch (error) {\n      console.error(\"Error serving media file:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Failed to serve media file\" });\n      }\n    }\n  });\n\n  // ==================== SITEMAP ====================\n  app.get(\"/sitemap.xml\", async (req, res) => {\n    try {\n      const baseUrl = \"https://weddinginvite.ai\";\n      const today = new Date().toISOString().split('T')[0];\n      \n      // Static pages with priority and change frequency\n      const staticPages = [\n        { url: \"/\", priority: \"1.0\", changefreq: \"weekly\" },\n        { url: \"/templates\", priority: \"0.9\", changefreq: \"daily\" },\n        { url: \"/templates/wedding\", priority: \"0.9\", changefreq: \"daily\" },\n        { url: \"/templates/birthday\", priority: \"0.9\", changefreq: \"daily\" },\n        { url: \"/how-it-works\", priority: \"0.8\", changefreq: \"monthly\" },\n        { url: \"/pricing\", priority: \"0.8\", changefreq: \"monthly\" },\n        { url: \"/contact\", priority: \"0.7\", changefreq: \"monthly\" },\n        { url: \"/blog\", priority: \"0.8\", changefreq: \"weekly\" },\n        { url: \"/about\", priority: \"0.7\", changefreq: \"monthly\" },\n        { url: \"/culture\", priority: \"0.8\", changefreq: \"monthly\" },\n        // Regional landing pages\n        { url: \"/india\", priority: \"0.9\", changefreq: \"weekly\" },\n        { url: \"/uae\", priority: \"0.9\", changefreq: \"weekly\" },\n        { url: \"/saudi-arabia\", priority: \"0.9\", changefreq: \"weekly\" },\n        // Category landing pages\n        { url: \"/wedding-invitation-video\", priority: \"0.9\", changefreq: \"weekly\" },\n        { url: \"/birthday-invitation-video\", priority: \"0.9\", changefreq: \"weekly\" },\n        { url: \"/wedding-invitation-card\", priority: \"0.9\", changefreq: \"weekly\" },\n        { url: \"/birthday-invitation-card\", priority: \"0.9\", changefreq: \"weekly\" },\n        // Regional + Category pages\n        { url: \"/india/wedding-invitation-video\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/india/birthday-invitation-video\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/india/wedding-invitation-card\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/india/birthday-invitation-card\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/uae/wedding-invitation-video\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/uae/birthday-invitation-video\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/uae/wedding-invitation-card\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/uae/birthday-invitation-card\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/saudi-arabia/wedding-invitation-video\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/saudi-arabia/birthday-invitation-video\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/saudi-arabia/wedding-invitation-card\", priority: \"0.85\", changefreq: \"weekly\" },\n        { url: \"/saudi-arabia/birthday-invitation-card\", priority: \"0.85\", changefreq: \"weekly\" },\n      ];\n      \n      // Culture pages\n      const culturePages = [\n        \"indian-wedding-video-invitation\",\n        \"punjabi\", \"tamil\", \"telugu\", \"gujarati\", \"bengali\",\n        \"muslim-nikah\", \"christian\",\n        \"arabic-wedding-video-uae-saudi\",\n        \"nigerian-traditional-wedding-video\",\n        \"quinceanera-video-invitation\",\n        \"chinese-tea-ceremony-video\",\n        \"korean-pyebaek-video\",\n        \"filipino-debut-video\",\n        \"jewish-bar-bat-mitzvah-video-invitation\"\n      ].map(slug => ({ url: `/culture/${slug}`, priority: \"0.75\", changefreq: \"monthly\" }));\n      \n      // Fetch templates\n      const templates = await storage.getTemplates();\n      const templatePages = templates.map(t => ({\n        url: `/template/${t.slug}`,\n        priority: \"0.7\",\n        changefreq: \"weekly\"\n      }));\n      \n      // Hardcoded article slugs (matching frontend)\n      const articleSlugs = [\n        \"wedding-video-invitation-trends-2024\",\n        \"traditional-indian-wedding-planning-guide\",\n        \"create-cinematic-wedding-videos-budget\",\n        \"arabic-wedding-traditions-complete-guide\",\n        \"ai-revolutionizing-wedding-invitations\",\n        \"nigerian-wedding-customs-guide\"\n      ];\n      const articlePages = articleSlugs.map(slug => ({\n        url: `/blog/${slug}`,\n        priority: \"0.6\",\n        changefreq: \"monthly\"\n      }));\n      \n      // Combine all pages\n      const allPages = [...staticPages, ...culturePages, ...templatePages, ...articlePages];\n      \n      // Generate XML\n      const xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n${allPages.map(page => `  <url>\n    <loc>${baseUrl}${page.url}</loc>\n    <lastmod>${today}</lastmod>\n    <changefreq>${page.changefreq}</changefreq>\n    <priority>${page.priority}</priority>\n  </url>`).join('\\n')}\n</urlset>`;\n      \n      res.set('Content-Type', 'application/xml');\n      res.send(xml);\n    } catch (error) {\n      console.error(\"Error generating sitemap:\", error);\n      res.status(500).send(\"Error generating sitemap\");\n    }\n  });\n\n  // robots.txt\n  app.get(\"/robots.txt\", (req, res) => {\n    const robotsTxt = `User-agent: *\nAllow: /\n\nSitemap: https://weddinginvite.ai/sitemap.xml\n\n# Block admin and API routes\nDisallow: /api/\nDisallow: /admin/\nDisallow: /auth/\nDisallow: /my-templates\nDisallow: /project/\nDisallow: /editor/\n`;\n    res.set('Content-Type', 'text/plain');\n    res.send(robotsTxt);\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","path":null,"size_bytes":45245,"size_tokens":null},"client/src/pages/Contact.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { insertContactSchema, type InsertContact } from \"@shared/schema\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Mail, Phone, MapPin, Loader2, CheckCircle } from \"lucide-react\";\n\nexport default function Contact() {\n  const { toast } = useToast();\n\n  const form = useForm<InsertContact>({\n    resolver: zodResolver(insertContactSchema),\n    defaultValues: {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      subject: \"\",\n      message: \"\",\n    },\n  });\n\n  const contactMutation = useMutation({\n    mutationFn: async (data: InsertContact) => {\n      return await apiRequest(\"POST\", \"/api/contact\", data);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Message Sent Successfully\",\n        description: \"Thank you for contacting us. We'll get back to you soon!\",\n      });\n      form.reset();\n    },\n    onError: (error: Error) => {\n      toast({\n        variant: \"destructive\",\n        title: \"Failed to Send Message\",\n        description: error.message || \"Please try again later.\",\n      });\n    },\n  });\n\n  const onSubmit = (data: InsertContact) => {\n    contactMutation.mutate(data);\n  };\n\n  return (\n    <>\n      <SEOHead\n        title=\"Contact Us - Get in Touch\"\n        description=\"Contact WeddingInvite.ai for support, sales inquiries, or partnership opportunities. We're here to help with your video invitation needs.\"\n        keywords=\"contact WeddingInvite.ai, customer support, sales inquiry, partnership\"\n      />\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-gradient-to-b from-background to-card\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h1 className=\"font-playfair text-5xl lg:text-6xl font-bold text-foreground mb-4\">\n              Get in Touch\n            </h1>\n            <p className=\"text-muted-foreground text-lg lg:text-xl max-w-2xl mx-auto\">\n              Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible.\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16\">\n            <Card className=\"p-8 lg:p-12\">\n              <h2 className=\"font-playfair text-3xl font-bold text-foreground mb-6\">\n                Send us a Message\n              </h2>\n              <Form {...form}>\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"name\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-foreground\">Name *</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"Your full name\"\n                            data-testid=\"input-name\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"email\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-foreground\">Email *</FormLabel>\n                        <FormControl>\n                          <Input\n                            type=\"email\"\n                            placeholder=\"your.email@example.com\"\n                            data-testid=\"input-email\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"phone\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-foreground\">Phone</FormLabel>\n                        <FormControl>\n                          <Input\n                            type=\"tel\"\n                            placeholder=\"+1 (555) 000-0000\"\n                            data-testid=\"input-phone\"\n                            {...field}\n                            value={field.value || \"\"}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"subject\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-foreground\">Subject</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"How can we help?\"\n                            data-testid=\"input-subject\"\n                            {...field}\n                            value={field.value || \"\"}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"message\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-foreground\">Message *</FormLabel>\n                        <FormControl>\n                          <Textarea\n                            rows={6}\n                            placeholder=\"Tell us more about your inquiry...\"\n                            data-testid=\"textarea-message\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <Button\n                    type=\"submit\"\n                    variant=\"default\"\n                    size=\"lg\"\n                    className=\"w-full font-semibold\"\n                    data-testid=\"button-submit\"\n                    disabled={contactMutation.isPending}\n                  >\n                    {contactMutation.isPending ? (\n                      <>\n                        <Loader2 className=\"w-5 h-5 animate-spin mr-2\" />\n                        Sending...\n                      </>\n                    ) : contactMutation.isSuccess ? (\n                      <>\n                        <CheckCircle className=\"w-5 h-5 mr-2\" />\n                        Message Sent!\n                      </>\n                    ) : (\n                      \"Send Message\"\n                    )}\n                  </Button>\n                </form>\n              </Form>\n            </Card>\n\n            <div className=\"space-y-8\">\n              <div>\n                <h2 className=\"font-playfair text-3xl font-bold text-foreground mb-6\">\n                  Contact Information\n                </h2>\n                <p className=\"text-muted-foreground text-lg mb-8\">\n                  Reach out to us through any of these channels. We're here to help!\n                </p>\n              </div>\n\n              <Card className=\"p-6 hover-elevate transition-all\">\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-12 h-12 rounded-full bg-primary/10 text-primary flex items-center justify-center flex-shrink-0\">\n                    <Mail className=\"w-6 h-6\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-foreground mb-1\">Email</h3>\n                    <p className=\"text-muted-foreground\">support@weddinginvite.ai</p>\n                    <p className=\"text-muted-foreground\">sales@weddinginvite.ai</p>\n                  </div>\n                </div>\n              </Card>\n\n              <Card className=\"p-6 hover-elevate transition-all\">\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-12 h-12 rounded-full bg-primary/10 text-primary flex items-center justify-center flex-shrink-0\">\n                    <Phone className=\"w-6 h-6\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-foreground mb-1\">Phone</h3>\n                    <p className=\"text-muted-foreground\">+1 (555) 123-4567</p>\n                    <p className=\"text-muted-foreground text-sm\">Mon-Fri, 9am-6pm EST</p>\n                  </div>\n                </div>\n              </Card>\n\n              <Card className=\"p-6 hover-elevate transition-all\">\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-12 h-12 rounded-full bg-primary/10 text-primary flex items-center justify-center flex-shrink-0\">\n                    <MapPin className=\"w-6 h-6\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-foreground mb-1\">Address</h3>\n                    <p className=\"text-muted-foreground\">\n                      123 Innovation Drive<br />\n                      San Francisco, CA 94105<br />\n                      United States\n                    </p>\n                  </div>\n                </div>\n              </Card>\n\n              <div className=\"bg-card border border-card-border rounded-md p-6\">\n                <h3 className=\"font-semibold text-foreground mb-3\">Business Hours</h3>\n                <div className=\"space-y-2 text-muted-foreground\">\n                  <div className=\"flex justify-between\">\n                    <span>Monday - Friday:</span>\n                    <span>9:00 AM - 6:00 PM EST</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Saturday:</span>\n                    <span>10:00 AM - 4:00 PM EST</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Sunday:</span>\n                    <span>Closed</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":10906,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"server/storage.ts":{"content":"import { db } from \"./db\";\nimport { eq, sql, and, lt, isNull, inArray } from \"drizzle-orm\";\nimport {\n  users,\n  templates,\n  projects,\n  orders,\n  payments,\n  userTemplates,\n  music,\n  type User,\n  type InsertUser,\n  type Template,\n  type InsertTemplate,\n  type Project,\n  type InsertProject,\n  type Order,\n  type InsertOrder,\n  type Payment,\n  type InsertPayment,\n  type UserTemplate,\n  type InsertUserTemplate,\n  type Music,\n  type InsertMusic,\n} from \"@shared/schema\";\n\nexport interface IStorage {\n  // User operations\n  getUser(id: string): Promise<User | undefined>;\n  getUserById(id: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  getUserByPhone(phone: string): Promise<User | undefined>;\n  getUserByGoogleId(googleId: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: string, updates: Partial<User>): Promise<User | undefined>;\n  \n  // Template operations\n  getTemplates(filters?: {\n    type?: string;\n    tags?: string[];\n  }): Promise<Template[]>;\n  getTemplateById(id: string): Promise<Template | undefined>;\n  getTemplateBySlug(slug: string): Promise<Template | undefined>;\n  createTemplate(template: InsertTemplate): Promise<Template>;\n  \n  // Project operations (user's customized templates)\n  getUserProjects(userId: string): Promise<Project[]>;\n  getProjectById(id: string): Promise<Project | undefined>;\n  createProject(project: InsertProject): Promise<Project>;\n  updateProject(id: string, updates: Partial<Project>): Promise<Project | undefined>;\n  deleteProject(id: string): Promise<boolean>;\n  getAllProjects(): Promise<Project[]>;\n  \n  // Order operations\n  createOrder(order: InsertOrder): Promise<Order>;\n  getOrderById(id: string): Promise<Order | undefined>;\n  updateOrder(id: string, updates: Partial<Order>): Promise<Order | undefined>;\n  \n  // Payment operations\n  createPayment(payment: InsertPayment): Promise<Payment>;\n  \n  // User Template operations (purchase records)\n  createUserTemplate(userTemplate: InsertUserTemplate): Promise<UserTemplate>;\n  \n  // Popularity tracking operations\n  incrementTemplateGeneration(templateId: string): Promise<Template | undefined>;\n  incrementTemplatePurchase(templateId: string): Promise<Template | undefined>;\n  \n  // Music operations\n  getMusicLibrary(category?: string): Promise<Music[]>;\n  getMusicById(id: string): Promise<Music | undefined>;\n  getMusicByIds(ids: string[]): Promise<Music[]>;\n  \n  // Cleanup operations\n  deleteOldUnpaidProjects(daysOld: number): Promise<number>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User operations\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async getUserById(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.email, email));\n    return user || undefined;\n  }\n\n  async getUserByPhone(phone: string): Promise<User | undefined> {\n    if (!phone) {\n      return undefined;\n    }\n    const [user] = await db.select().from(users).where(eq(users.phone, phone));\n    return user || undefined;\n  }\n\n  async getUserByGoogleId(googleId: string): Promise<User | undefined> {\n    if (!googleId) {\n      return undefined;\n    }\n    const [user] = await db.select().from(users).where(eq(users.googleId, googleId));\n    return user || undefined;\n  }\n\n  async createUser(userData: InsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .returning();\n    return user;\n  }\n\n  async updateUser(id: string, updates: Partial<User>): Promise<User | undefined> {\n    const [user] = await db\n      .update(users)\n      .set(updates)\n      .where(eq(users.id, id))\n      .returning();\n    return user || undefined;\n  }\n\n  // Template operations\n  async getTemplates(filters?: {\n    type?: string;\n    tags?: string[];\n  }): Promise<Template[]> {\n    const allTemplates = await db.select().from(templates).orderBy(templates.slug);\n    return allTemplates;\n  }\n\n  async getTemplateById(id: string): Promise<Template | undefined> {\n    const [template] = await db.select().from(templates).where(eq(templates.id, id));\n    return template || undefined;\n  }\n\n  async getTemplateBySlug(slug: string): Promise<Template | undefined> {\n    const [template] = await db.select().from(templates).where(eq(templates.slug, slug));\n    return template || undefined;\n  }\n\n  async createTemplate(templateData: InsertTemplate): Promise<Template> {\n    const [template] = await db\n      .insert(templates)\n      .values(templateData)\n      .returning();\n    return template;\n  }\n\n  // Project operations (renamed from Customization)\n  async getUserProjects(userId: string): Promise<any[]> {\n    const userProjects = await db\n      .select({\n        project: projects,\n        template: templates,\n        order: orders,\n        payment: payments,\n      })\n      .from(projects)\n      .leftJoin(templates, eq(projects.templateId, templates.id))\n      .leftJoin(orders, eq(projects.id, orders.projectId))\n      .leftJoin(payments, eq(orders.id, payments.orderId))\n      .where(eq(projects.userId, userId));\n    \n    // Deduplicate projects by ID (in case of multiple orders/payments)\n    const projectMap = new Map<string, typeof userProjects[0]>();\n    for (const row of userProjects) {\n      const existing = projectMap.get(row.project.id);\n      // Prefer rows with successful payments or paid orders\n      const currentIsPaid = (row.order?.status === 'paid') || \n                            (row.payment?.status === 'success') || \n                            !!row.project.paidAt;\n      const existingIsPaid = existing && (\n        (existing.order?.status === 'paid') || \n        (existing.payment?.status === 'success') || \n        !!existing.project.paidAt\n      );\n      \n      if (!existing || (currentIsPaid && !existingIsPaid)) {\n        projectMap.set(row.project.id, row);\n      }\n    }\n    \n    return Array.from(projectMap.values()).map(row => {\n      const isPaid = \n        (row.order && row.order.status === 'paid') ||\n        (row.payment && row.payment.status === 'success') ||\n        !!row.project.paidAt;\n      \n      // Use project-specific URLs if available, fall back to template video\n      const videoUrl = row.project.previewUrl || row.project.finalUrl || row.template?.previewVideoUrl;\n      \n      // Determine template type (card or video)\n      const rawType = row.template?.templateType || 'video';\n      const templateType = rawType === 'card' ? 'card' : 'video';\n      \n      return {\n        id: row.project.id,\n        templateId: row.project.templateId,\n        templateName: row.template?.templateName || 'Unknown Template',\n        templateType,\n        thumbnailUrl: row.template?.thumbnailUrl || row.template?.previewImageUrl,\n        previewImageUrl: row.template?.previewImageUrl,\n        previewVideoUrl: videoUrl,\n        orientation: row.template?.orientation || 'portrait',\n        price: row.template?.price || '0',\n        currency: row.template?.currency || 'INR',\n        status: row.project.status,\n        isPaid,\n        paymentStatus: row.payment?.status || row.order?.status || 'pending',\n        previewUrl: row.project.previewUrl,\n        finalUrl: row.project.finalUrl,\n        createdAt: row.project.createdAt,\n        updatedAt: row.project.updatedAt,\n        paidAt: row.project.paidAt,\n      };\n    });\n  }\n\n  async getProjectById(id: string): Promise<Project | undefined> {\n    const [project] = await db\n      .select()\n      .from(projects)\n      .where(eq(projects.id, id));\n    return project || undefined;\n  }\n\n  async createProject(projectData: InsertProject): Promise<Project> {\n    const [project] = await db\n      .insert(projects)\n      .values(projectData)\n      .returning();\n    return project;\n  }\n\n  async updateProject(id: string, updates: Partial<Project>): Promise<Project | undefined> {\n    const [updated] = await db\n      .update(projects)\n      .set({\n        ...updates,\n        updatedAt: new Date(),\n      })\n      .where(eq(projects.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  async deleteProject(id: string): Promise<boolean> {\n    const result = await db\n      .delete(projects)\n      .where(eq(projects.id, id));\n    return true;\n  }\n\n  async getAllProjects(): Promise<Project[]> {\n    return await db.select().from(projects);\n  }\n\n  // Order operations\n  async createOrder(orderData: InsertOrder): Promise<Order> {\n    const [order] = await db\n      .insert(orders)\n      .values(orderData)\n      .returning();\n    return order;\n  }\n\n  async getOrderById(id: string): Promise<Order | undefined> {\n    const [order] = await db\n      .select()\n      .from(orders)\n      .where(eq(orders.id, id));\n    return order || undefined;\n  }\n\n  async updateOrder(id: string, updates: Partial<Order>): Promise<Order | undefined> {\n    const [updated] = await db\n      .update(orders)\n      .set({\n        ...updates,\n        updatedAt: new Date(),\n      })\n      .where(eq(orders.id, id))\n      .returning();\n    return updated || undefined;\n  }\n\n  // Payment operations\n  async createPayment(paymentData: InsertPayment): Promise<Payment> {\n    const [payment] = await db\n      .insert(payments)\n      .values(paymentData)\n      .returning();\n    return payment;\n  }\n\n  // User Template operations (purchase records)\n  async createUserTemplate(userTemplateData: InsertUserTemplate): Promise<UserTemplate> {\n    const [userTemplate] = await db\n      .insert(userTemplates)\n      .values(userTemplateData)\n      .returning();\n    return userTemplate;\n  }\n\n  // Popularity tracking operations\n  // Formula: popularityScore = floor(totalGenerations / 10) + totalPurchases\n  // Single atomic UPDATE to avoid race conditions\n  \n  async incrementTemplateGeneration(templateId: string): Promise<Template | undefined> {\n    if (!templateId) return undefined;\n    \n    // Atomic UPDATE: increment generation and recalculate score in one statement\n    // In PostgreSQL, all SET expressions are evaluated using OLD row values,\n    // so (total_generations + 1) gives us the new value for score calculation\n    const [updated] = await db\n      .update(templates)\n      .set({\n        totalGenerations: sql`${templates.totalGenerations} + 1`,\n        popularityScore: sql`FLOOR((${templates.totalGenerations} + 1)::numeric / 10) + ${templates.totalPurchases}`,\n        updatedAt: new Date(),\n      })\n      .where(eq(templates.id, templateId))\n      .returning();\n    \n    return updated || undefined;\n  }\n\n  async incrementTemplatePurchase(templateId: string): Promise<Template | undefined> {\n    if (!templateId) return undefined;\n    \n    // Atomic UPDATE: increment purchase and recalculate score in one statement\n    // In PostgreSQL, all SET expressions are evaluated using OLD row values,\n    // so (total_purchases + 1) gives us the new value for score calculation\n    const [updated] = await db\n      .update(templates)\n      .set({\n        totalPurchases: sql`${templates.totalPurchases} + 1`,\n        popularityScore: sql`FLOOR(${templates.totalGenerations}::numeric / 10) + ${templates.totalPurchases} + 1`,\n        updatedAt: new Date(),\n      })\n      .where(eq(templates.id, templateId))\n      .returning();\n    \n    return updated || undefined;\n  }\n\n  // Music operations\n  async getMusicLibrary(category?: string): Promise<Music[]> {\n    if (category) {\n      return await db\n        .select()\n        .from(music)\n        .where(eq(music.category, category));\n    }\n    return await db.select().from(music);\n  }\n\n  async getMusicById(id: string): Promise<Music | undefined> {\n    const [track] = await db\n      .select()\n      .from(music)\n      .where(eq(music.id, id));\n    return track || undefined;\n  }\n\n  async getMusicByIds(ids: string[]): Promise<Music[]> {\n    if (ids.length === 0) return [];\n    return db\n      .select()\n      .from(music)\n      .where(inArray(music.id, ids));\n  }\n\n  // Cleanup operations\n  async deleteOldUnpaidProjects(daysOld: number): Promise<number> {\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - daysOld);\n    \n    // Delete projects that are:\n    // 1. Not paid (paidAt is NULL) - this is the canonical payment indicator\n    // 2. Last updated more than daysOld days ago (so active projects aren't deleted)\n    // Note: status \"completed\" doesn't mean paid - only paidAt indicates payment\n    const result = await db\n      .delete(projects)\n      .where(\n        and(\n          isNull(projects.paidAt),\n          lt(projects.updatedAt, cutoffDate)\n        )\n      )\n      .returning({ id: projects.id });\n    \n    return result.length;\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","path":null,"size_bytes":12969,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5741,"size_tokens":null},"client/src/components/CultureCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Link } from \"wouter\";\n\ninterface CultureCardProps {\n  name: string;\n  localName?: string;\n  slug: string;\n  description: string;\n  heroImageUrl: string;\n  templateCount: number;\n}\n\nexport function CultureCard({\n  name,\n  localName,\n  slug,\n  description,\n  heroImageUrl,\n  templateCount,\n}: CultureCardProps) {\n  return (\n    <Card className=\"group overflow-hidden transition-all duration-300\" data-testid={`card-culture-${slug}`}>\n      <Link href={`/culture/${slug}`} className=\"block hover-elevate active-elevate-2\">\n        <div className=\"relative aspect-[16/10] overflow-hidden bg-muted\">\n          <img\n            src={heroImageUrl}\n            alt={name}\n            className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent\" />\n          <div className=\"absolute bottom-0 left-0 right-0 p-6\">\n            <h3 className=\"font-playfair text-xl lg:text-2xl font-bold text-white mb-1\">\n              {name}\n            </h3>\n            {localName && (\n              <p className=\"font-cormorant text-lg lg:text-xl text-white/80 mb-2 italic\">\n                {localName}\n              </p>\n            )}\n            <p className=\"text-white/90 text-sm lg:text-base mb-3 line-clamp-2\">\n              {description}\n            </p>\n            <Badge className=\"bg-white/20 backdrop-blur-sm text-white border-none\">\n              {templateCount} Templates\n            </Badge>\n          </div>\n        </div>\n      </Link>\n    </Card>\n  );\n}\n","path":null,"size_bytes":1700,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"client/src/pages/Enterprise.tsx":{"content":"import { SEOHead } from \"@/components/SEOHead\";\nimport { HeroSection } from \"@/components/HeroSection\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Check, Users, Zap, Shield, BarChart, Palette, Globe } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport corporateHero from \"@assets/generated_images/Corporate_enterprise_page_hero_b2978cb0.png\";\n\nexport default function Enterprise() {\n  const solutions = [\n    {\n      icon: <Users className=\"w-8 h-8\" />,\n      title: \"Event Planning Agencies\",\n      description: \"Manage multiple client projects with team collaboration, brand customization, and client approval workflows.\",\n      features: [\"Team collaboration\", \"Client management\", \"Brand templates\", \"Project tracking\"],\n    },\n    {\n      icon: <Palette className=\"w-8 h-8\" />,\n      title: \"White-Label Solution\",\n      description: \"Offer video invitations under your own brand. Custom domain, branding, and seamless integration with your services.\",\n      features: [\"Custom branding\", \"Your domain\", \"API access\", \"No WeddingInvite.ai logos\"],\n    },\n    {\n      icon: <Globe className=\"w-8 h-8\" />,\n      title: \"Corporate Events\",\n      description: \"Professional video invitations for conferences, product launches, networking events, and company celebrations.\",\n      features: [\"Corporate templates\", \"Bulk creation\", \"Analytics\", \"Priority support\"],\n    },\n  ];\n\n  const enterpriseFeatures = [\n    \"Unlimited video creation\",\n    \"Dedicated account manager\",\n    \"Custom template development\",\n    \"API integration\",\n    \"White-label options\",\n    \"SSO / SAML authentication\",\n    \"Advanced analytics dashboard\",\n    \"Priority 24/7 support\",\n    \"Custom SLA agreements\",\n    \"Training & onboarding\",\n    \"Volume discounts\",\n    \"Invoicing & PO support\",\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title=\"Enterprise Solutions - Event Planning & White-Label\"\n        description=\"Enterprise video invitation solutions for event planners, agencies, and businesses. White-label options, API integration, and team collaboration tools.\"\n        keywords=\"enterprise video invitations, white-label invitation platform, event planning software, corporate video invitations\"\n      />\n\n      <HeroSection\n        title=\"Enterprise Solutions\"\n        subtitle=\"For Event Planners & Businesses\"\n        description=\"Powerful tools and white-label solutions for event planning agencies, corporate teams, and businesses managing multiple clients and events.\"\n        backgroundImage={corporateHero}\n        height=\"large\"\n        primaryCTA={{\n          text: \"Schedule Demo\",\n          href: \"#contact\",\n        }}\n        secondaryCTA={{\n          text: \"View Pricing\",\n          href: \"#pricing\",\n        }}\n      />\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-4\">\n              Solutions for Every Business\n            </h2>\n            <p className=\"text-muted-foreground text-lg lg:text-xl max-w-2xl mx-auto\">\n              Tailored packages for event planners, agencies, and corporate teams\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12\">\n            {solutions.map((solution, index) => (\n              <Card key={index} className=\"p-8 hover-elevate transition-all\" data-testid={`solution-${index}`}>\n                <div className=\"w-16 h-16 rounded-full bg-primary/10 text-primary flex items-center justify-center mb-6\">\n                  {solution.icon}\n                </div>\n                <h3 className=\"font-playfair text-2xl font-bold text-foreground mb-3\">\n                  {solution.title}\n                </h3>\n                <p className=\"text-muted-foreground mb-6\">\n                  {solution.description}\n                </p>\n                <ul className=\"space-y-3\">\n                  {solution.features.map((feature, idx) => (\n                    <li key={idx} className=\"flex items-center gap-3\">\n                      <Check className=\"w-5 h-5 text-primary flex-shrink-0\" />\n                      <span className=\"text-foreground\">{feature}</span>\n                    </li>\n                  ))}\n                </ul>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-16 md:py-24 bg-card\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center\">\n            <div>\n              <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-6\">\n                Enterprise Features\n              </h2>\n              <p className=\"text-muted-foreground text-lg mb-8\">\n                Everything your business needs to scale video invitation creation across teams, clients, and events.\n              </p>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                {enterpriseFeatures.map((feature, index) => (\n                  <div key={index} className=\"flex items-start gap-3\" data-testid={`feature-${index}`}>\n                    <Check className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n                    <span className=\"text-foreground\">{feature}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-6\">\n              <Card className=\"p-6 text-center hover-elevate transition-all\">\n                <Zap className=\"w-12 h-12 text-primary mx-auto mb-4\" />\n                <div className=\"font-playfair text-3xl font-bold text-foreground mb-2\">10x</div>\n                <p className=\"text-muted-foreground text-sm\">Faster Creation</p>\n              </Card>\n              <Card className=\"p-6 text-center hover-elevate transition-all\">\n                <Users className=\"w-12 h-12 text-primary mx-auto mb-4\" />\n                <div className=\"font-playfair text-3xl font-bold text-foreground mb-2\">500+</div>\n                <p className=\"text-muted-foreground text-sm\">Enterprise Clients</p>\n              </Card>\n              <Card className=\"p-6 text-center hover-elevate transition-all\">\n                <Shield className=\"w-12 h-12 text-primary mx-auto mb-4\" />\n                <div className=\"font-playfair text-3xl font-bold text-foreground mb-2\">99.9%</div>\n                <p className=\"text-muted-foreground text-sm\">Uptime SLA</p>\n              </Card>\n              <Card className=\"p-6 text-center hover-elevate transition-all\">\n                <BarChart className=\"w-12 h-12 text-primary mx-auto mb-4\" />\n                <div className=\"font-playfair text-3xl font-bold text-foreground mb-2\">24/7</div>\n                <p className=\"text-muted-foreground text-sm\">Support</p>\n              </Card>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-background\" id=\"contact\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n          <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-6\">\n            Ready to Get Started?\n          </h2>\n          <p className=\"text-muted-foreground text-lg lg:text-xl mb-8\">\n            Schedule a demo with our enterprise team to discuss your specific needs and custom pricing.\n          </p>\n          <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\n            <Button variant=\"default\" size=\"lg\" asChild data-testid=\"button-schedule-demo\">\n              <Link href=\"/contact\" className=\"font-semibold\">\n                Schedule a Demo\n              </Link>\n            </Button>\n            <Button variant=\"outline\" size=\"lg\" asChild data-testid=\"button-contact-sales\">\n              <Link href=\"/contact\">\n                Contact Sales\n              </Link>\n            </Button>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":8165,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":844,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"client/src/pages/About.tsx":{"content":"import { SEOHead } from \"@/components/SEOHead\";\nimport { Card } from \"@/components/ui/card\";\nimport { Heart, Globe, Sparkles, Users } from \"lucide-react\";\nimport homepageHero from \"@assets/generated_images/Homepage_cinematic_wedding_hero_efb94fa0.png\";\n\nexport default function About() {\n  const values = [\n    {\n      icon: <Heart className=\"w-8 h-8\" />,\n      title: \"Celebrate Love\",\n      description: \"We believe every love story deserves to be told beautifully, regardless of culture or budget.\",\n    },\n    {\n      icon: <Globe className=\"w-8 h-8\" />,\n      title: \"Cultural Respect\",\n      description: \"Authentic representation of diverse wedding traditions with accuracy and sensitivity.\",\n    },\n    {\n      icon: <Sparkles className=\"w-8 h-8\" />,\n      title: \"Innovation\",\n      description: \"Combining AI technology with human creativity to make professional videos accessible to everyone.\",\n    },\n    {\n      icon: <Users className=\"w-8 h-8\" />,\n      title: \"Community\",\n      description: \"Building a global community that celebrates diversity and connects people through shared joy.\",\n    },\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title=\"About Us - Our Mission & Story\"\n        description=\"Learn about WeddingInvite.ai's mission to make cinematic video invitations accessible to everyone while honoring diverse cultural traditions worldwide.\"\n        keywords=\"about WeddingInvite.ai, our mission, our story, company values, wedding video platform\"\n      />\n\n      <div className=\"relative min-h-[60vh] flex items-center justify-center overflow-hidden\" data-testid=\"hero-about\">\n        <div className=\"absolute inset-0 z-0\">\n          <img\n            src={homepageHero}\n            alt=\"About Us\"\n            className=\"w-full h-full object-cover\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/80\" />\n        </div>\n\n        <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32 text-center\">\n          <h1 className=\"font-playfair text-5xl sm:text-6xl lg:text-7xl font-bold text-white mb-6 leading-tight\">\n            About WeddingInvite.ai\n          </h1>\n          <p className=\"text-white/90 text-lg lg:text-xl max-w-3xl mx-auto leading-relaxed\">\n            Making cinematic video invitations accessible to everyone, everywhere\n          </p>\n        </div>\n      </div>\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-background\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"mb-16\">\n            <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-6 text-center\">\n              Our Mission\n            </h2>\n            <p className=\"text-muted-foreground text-lg lg:text-xl leading-relaxed mb-6\">\n              At WeddingInvite.ai, we believe every celebration deserves to be shared beautifully. Our mission is to democratize professional video creation, making it accessible to couples and event planners worldwide—regardless of technical skills or budget.\n            </p>\n            <p className=\"text-muted-foreground text-lg lg:text-xl leading-relaxed\">\n              We're passionate about honoring cultural diversity. With templates designed for 50+ cultures and traditions, we ensure authenticity and respect in every video invitation we help create.\n            </p>\n          </div>\n\n          <div className=\"mb-16\">\n            <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-6 text-center\">\n              Our Story\n            </h2>\n            <p className=\"text-muted-foreground text-lg lg:text-xl leading-relaxed mb-6\">\n              WeddingInvite.ai was born from a simple observation: couples spend thousands on professional videographers for their wedding videos, but often settle for static images or basic text for their invitations.\n            </p>\n            <p className=\"text-muted-foreground text-lg lg:text-xl leading-relaxed mb-6\">\n              Our founders, a multicultural team of engineers, designers, and wedding industry veterans, came together with a vision: combine AI technology with cultural expertise to create a platform that makes cinematic video invitations accessible to everyone.\n            </p>\n            <p className=\"text-muted-foreground text-lg lg:text-xl leading-relaxed\">\n              Today, we're proud to serve couples and event planners in over 100 countries, helping them share their special moments with stunning, culturally authentic video invitations.\n            </p>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-16 md:py-24 bg-card\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-4\">\n              Our Values\n            </h2>\n            <p className=\"text-muted-foreground text-lg lg:text-xl max-w-2xl mx-auto\">\n              The principles that guide everything we do\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n            {values.map((value, index) => (\n              <Card key={index} className=\"p-8 text-center hover-elevate transition-all\" data-testid={`value-${index}`}>\n                <div className=\"w-16 h-16 rounded-full bg-primary/10 text-primary flex items-center justify-center mx-auto mb-6\">\n                  {value.icon}\n                </div>\n                <h3 className=\"font-playfair text-2xl font-bold text-foreground mb-3\">\n                  {value.title}\n                </h3>\n                <p className=\"text-muted-foreground\">\n                  {value.description}\n                </p>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-background\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n          <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-6\">\n            Join Our Journey\n          </h2>\n          <p className=\"text-muted-foreground text-lg lg:text-xl mb-8\">\n            We're just getting started. Join thousands of couples and event planners who trust WeddingInvite.ai to create their perfect invitations.\n          </p>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-8 text-center\">\n            <div>\n              <div className=\"font-playfair text-5xl font-bold text-primary mb-2\">100+</div>\n              <p className=\"text-muted-foreground\">Countries Served</p>\n            </div>\n            <div>\n              <div className=\"font-playfair text-5xl font-bold text-primary mb-2\">50+</div>\n              <p className=\"text-muted-foreground\">Cultural Templates</p>\n            </div>\n            <div>\n              <div className=\"font-playfair text-5xl font-bold text-primary mb-2\">100K+</div>\n              <p className=\"text-muted-foreground\">Videos Created</p>\n            </div>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":7151,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 duration-75 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content> & { hideCloseButton?: boolean }\n>(({ className, children, hideCloseButton, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-75 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      {!hideCloseButton && (\n        <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n          <X className=\"h-4 w-4\" />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      )}\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3786,"size_tokens":null},"client/src/pages/HowItWorks.tsx":{"content":"import { SEOHead } from \"@/components/SEOHead\";\nimport { ProcessStep } from \"@/components/ProcessStep\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { FAQSection, howItWorksFAQs } from \"@/components/FAQSection\";\nimport { Sparkles, Wand2, Zap, Image as ImageIcon, Music, Type, Download, Share2 } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport homepageHero from \"@assets/generated_images/Homepage_cinematic_wedding_hero_efb94fa0.png\";\n\nexport default function HowItWorks() {\n  const detailedSteps = [\n    {\n      title: \"Browse Templates\",\n      description: \"Explore 500+ professionally designed templates across cultures and event types\",\n      icon: <Sparkles className=\"w-8 h-8\" />,\n      features: [\"Wedding ceremonies\", \"Engagement announcements\", \"Baby celebrations\", \"Corporate events\", \"Cultural traditions\"],\n    },\n    {\n      title: \"AI-Powered Customization\",\n      description: \"Our intelligent editor makes personalization effortless\",\n      icon: <Wand2 className=\"w-8 h-8\" />,\n      features: [\"Add your event details\", \"Upload personal photos\", \"Choose or upload music\", \"Select AI voiceover language\", \"Adjust colors and themes\"],\n    },\n    {\n      title: \"Export & Share\",\n      description: \"Download in 4K or share directly to your favorite platforms\",\n      icon: <Zap className=\"w-8 h-8\" />,\n      features: [\"4K Ultra HD quality\", \"WhatsApp optimized\", \"Instagram Reels ready\", \"TikTok format\", \"Universal MP4 download\"],\n    },\n  ];\n\n  const features = [\n    { icon: <Type className=\"w-6 h-6\" />, title: \"Custom Text\", description: \"Names, dates, venues, messages\" },\n    { icon: <ImageIcon className=\"w-6 h-6\" />, title: \"Photo Upload\", description: \"Your favorite moments\" },\n    { icon: <Music className=\"w-6 h-6\" />, title: \"Music Library\", description: \"Or upload your own\" },\n    { icon: <Wand2 className=\"w-6 h-6\" />, title: \"AI Voiceover\", description: \"20+ languages & accents\" },\n    { icon: <Download className=\"w-6 h-6\" />, title: \"4K Export\", description: \"Cinema-quality output\" },\n    { icon: <Share2 className=\"w-6 h-6\" />, title: \"Instant Sharing\", description: \"All platforms supported\" },\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title=\"How It Works - Create Video Invitations in 3 Steps\"\n        description=\"Learn how to create stunning video invitations in minutes. Choose a template, customize with AI, and share instantly to WhatsApp, Instagram, and more.\"\n        keywords=\"how to create video invitation, video invitation tutorial, AI video editor, wedding invitation maker\"\n      />\n\n      <div className=\"relative min-h-[60vh] flex items-center justify-center overflow-hidden\" data-testid=\"hero-how-it-works\">\n        <div className=\"absolute inset-0 z-0\">\n          <img\n            src={homepageHero}\n            alt=\"How It Works\"\n            className=\"w-full h-full object-cover\"\n            loading=\"eager\"\n            decoding=\"async\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/80\" />\n        </div>\n\n        <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32 text-center\">\n          <h1 className=\"font-playfair text-5xl sm:text-6xl lg:text-7xl font-bold text-white mb-6 leading-tight\">\n            How It Works\n          </h1>\n          <p className=\"text-white/90 text-lg lg:text-xl max-w-3xl mx-auto leading-relaxed\">\n            Create professional video invitations in three simple steps. No design or video editing experience required.\n          </p>\n        </div>\n      </div>\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12 lg:gap-16 relative mb-16\">\n            <div className=\"hidden md:block absolute top-12 left-1/6 right-1/6 h-0.5 bg-border\" />\n            <ProcessStep\n              number={1}\n              title=\"Choose a Template\"\n              description=\"Browse our collection of 500+ cinematic templates across cultures and categories. Filter by event type, culture, or style to find your perfect match.\"\n              icon={<Sparkles className=\"w-10 h-10 lg:w-12 lg:h-12\" />}\n            />\n            <ProcessStep\n              number={2}\n              title=\"Customize with AI\"\n              description=\"Add your details, photos, and music. Our AI automatically generates voiceovers, perfect timing, and smooth transitions - all in minutes.\"\n              icon={<Wand2 className=\"w-10 h-10 lg:w-12 lg:h-12\" />}\n            />\n            <ProcessStep\n              number={3}\n              title=\"Export & Share\"\n              description=\"Download in stunning 4K quality or share directly to WhatsApp, Instagram Reels, TikTok, and more. Your guests will be amazed!\"\n              icon={<Zap className=\"w-10 h-10 lg:w-12 lg:h-12\" />}\n            />\n          </div>\n\n          {detailedSteps.map((step, index) => (\n            <Card key={index} className=\"p-8 lg:p-12 mb-8 hover-elevate transition-all\">\n              <div className=\"flex items-start gap-6\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-16 h-16 lg:w-20 lg:h-20 rounded-full bg-primary/10 text-primary flex items-center justify-center\">\n                    {step.icon}\n                  </div>\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-3\">\n                    Step {index + 1}: {step.title}\n                  </h3>\n                  <p className=\"text-muted-foreground text-lg mb-4\">\n                    {step.description}\n                  </p>\n                  <ul className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                    {step.features.map((feature, idx) => (\n                      <li key={idx} className=\"flex items-center gap-2\">\n                        <span className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                        <span className=\"text-foreground\">{feature}</span>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            </Card>\n          ))}\n        </div>\n      </section>\n\n      <section className=\"py-16 md:py-24 bg-card\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-4\">\n              Powerful Features at Your Fingertips\n            </h2>\n            <p className=\"text-muted-foreground text-lg lg:text-xl max-w-2xl mx-auto\">\n              Everything you need to create professional video invitations\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {features.map((feature, index) => (\n              <div key={index} className=\"text-center\" data-testid={`feature-${index}`}>\n                <div className=\"inline-flex items-center justify-center w-16 h-16 lg:w-20 lg:h-20 rounded-full bg-primary/10 text-primary mb-4 hover-elevate transition-all\">\n                  {feature.icon}\n                </div>\n                <h3 className=\"font-playfair text-xl lg:text-2xl font-bold text-foreground mb-2\">\n                  {feature.title}\n                </h3>\n                <p className=\"text-muted-foreground\">\n                  {feature.description}\n                </p>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"text-center mt-12\">\n            <Button variant=\"default\" size=\"lg\" asChild data-testid=\"button-start-now\">\n              <Link href=\"/templates\">\n                <a className=\"font-semibold\">Start Creating Now</a>\n              </Link>\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      <FAQSection \n        faqs={howItWorksFAQs}\n        title=\"Common Questions\"\n        subtitle=\"Get answers to frequently asked questions about creating video invitations\"\n      />\n    </>\n  );\n}\n","path":null,"size_bytes":8167,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1592,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n        playfair: [\"Playfair Display\", \"serif\"],\n        inter: [\"Inter\", \"sans-serif\"],\n        cormorant: [\"Cormorant Garamond\", \"serif\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":4191,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2359,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { relations } from \"drizzle-orm\";\nimport {\n  pgTable,\n  text,\n  varchar,\n  timestamp,\n  jsonb,\n  index,\n  decimal,\n  integer,\n  uuid,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Session storage table (REQUIRED - DO NOT MODIFY)\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// Users table\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique().notNull(),\n  phone: varchar(\"phone\"),\n  name: varchar(\"name\").notNull(),\n  passwordHash: varchar(\"password_hash\"),\n  googleId: varchar(\"google_id\").unique(),\n  authProvider: varchar(\"auth_provider\").notNull().default(\"password\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\n// Music library table (stock/default music for video templates)\nexport const music = pgTable(\"music\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: varchar(\"name\").notNull(),\n  url: varchar(\"url\").notNull(),\n  duration: integer(\"duration\").notNull().default(30),\n  category: varchar(\"category\").notNull().default(\"wedding\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertMusicSchema = createInsertSchema(music).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertMusic = z.infer<typeof insertMusicSchema>;\nexport type Music = typeof music.$inferSelect;\n\n// Templates table\nexport const templates = pgTable(\"templates\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  slug: varchar(\"slug\").notNull().unique(),\n  templateName: varchar(\"template_name\").notNull(),\n  templateType: varchar(\"template_type\").notNull(),\n  category: varchar(\"category\").notNull().default(\"wedding\"),\n  subcategory: varchar(\"subcategory\").notNull().default(\"general\"),\n  region: varchar(\"region\").default(\"india\"),\n  currency: varchar(\"currency\").notNull().default(\"INR\"),\n  price: decimal(\"price\", { precision: 10, scale: 2 }).notNull(),\n  durationSec: integer(\"duration_sec\").notNull().default(30),\n  previewImageUrl: varchar(\"preview_image_url\").notNull(),\n  previewVideoUrl: varchar(\"preview_video_url\").notNull(),\n  templateJson: jsonb(\"template_json\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n  orientation: varchar(\"orientation\").notNull(),\n  photoOption: varchar(\"photo_option\").notNull(),\n  templateTags: jsonb(\"template_tags\").notNull().default([]),\n  thumbnailUrl: varchar(\"thumbnail_url\").notNull(),\n  popularityScore: integer(\"popularity_score\").notNull().default(0),\n  totalGenerations: integer(\"total_generations\").notNull().default(0),\n  totalPurchases: integer(\"total_purchases\").notNull().default(0),\n  defaultMusicId: varchar(\"default_music_id\").references(() => music.id),\n});\n\nexport const insertTemplateSchema = createInsertSchema(templates).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertTemplate = z.infer<typeof insertTemplateSchema>;\nexport type Template = typeof templates.$inferSelect;\n\n// Projects table - user's customized templates\nexport const projects = pgTable(\"projects\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  templateId: varchar(\"template_id\").notNull().references(() => templates.id, { onDelete: \"cascade\" }),\n  customization: jsonb(\"customization\").notNull(),\n  status: varchar(\"status\").notNull().default(\"draft\"), // draft, preview_requested, rendering, completed\n  previewUrl: varchar(\"preview_url\"),\n  finalUrl: varchar(\"final_url\"),\n  customMusicUrl: varchar(\"custom_music_url\"),\n  selectedMusicId: varchar(\"selected_music_id\").references(() => music.id),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n  paidAt: timestamp(\"paid_at\"),\n}, (table) => [\n  index(\"idx_projects_user_id\").on(table.userId),\n  index(\"idx_projects_updated_at\").on(table.updatedAt),\n]);\n\nexport const insertProjectSchema = createInsertSchema(projects).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertProject = z.infer<typeof insertProjectSchema>;\nexport type Project = typeof projects.$inferSelect;\n\n// User Templates - purchase records\nexport const userTemplates = pgTable(\"user_templates\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  projectId: varchar(\"project_id\").notNull().references(() => projects.id, { onDelete: \"cascade\" }),\n  purchaseAmount: decimal(\"purchase_amount\", { precision: 10, scale: 2 }).notNull(),\n  razorpayOrderId: varchar(\"razorpay_order_id\"),\n  razorpayPaymentId: varchar(\"razorpay_payment_id\"),\n  purchasedAt: timestamp(\"purchased_at\").defaultNow(),\n});\n\nexport const insertUserTemplateSchema = createInsertSchema(userTemplates).omit({\n  id: true,\n  purchasedAt: true,\n});\n\nexport type InsertUserTemplate = z.infer<typeof insertUserTemplateSchema>;\nexport type UserTemplate = typeof userTemplates.$inferSelect;\n\n// Orders table\nexport const orders = pgTable(\"orders\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  orderNumber: varchar(\"order_number\").notNull().unique(),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  projectId: varchar(\"project_id\").notNull().references(() => projects.id, { onDelete: \"cascade\" }),\n  templateId: varchar(\"template_id\").notNull().references(() => templates.id, { onDelete: \"cascade\" }),\n  amount: decimal(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  currency: varchar(\"currency\").notNull().default(\"INR\"),\n  status: varchar(\"status\").notNull().default(\"pending\"), // pending, paid, failed\n  paymentProvider: varchar(\"payment_provider\").notNull().default(\"razorpay\"),\n  providerOrderId: varchar(\"provider_order_id\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_orders_project_id\").on(table.projectId),\n  index(\"idx_orders_user_id\").on(table.userId),\n]);\n\nexport const insertOrderSchema = createInsertSchema(orders).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertOrder = z.infer<typeof insertOrderSchema>;\nexport type Order = typeof orders.$inferSelect;\n\n// Payments table\nexport const payments = pgTable(\"payments\", {\n  id: uuid(\"id\").primaryKey().defaultRandom(),\n  orderId: uuid(\"order_id\").notNull().references(() => orders.id, { onDelete: \"cascade\" }),\n  provider: varchar(\"provider\").notNull().default(\"razorpay\"),\n  status: varchar(\"status\").notNull(), // success, failed\n  amount: decimal(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  currency: varchar(\"currency\").notNull().default(\"INR\"),\n  payload: jsonb(\"payload\").notNull(),\n  receivedAt: timestamp(\"received_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_payments_order_id\").on(table.orderId),\n]);\n\nexport const insertPaymentSchema = createInsertSchema(payments).omit({\n  id: true,\n  receivedAt: true,\n});\n\nexport type InsertPayment = z.infer<typeof insertPaymentSchema>;\nexport type Payment = typeof payments.$inferSelect;\n\n// Relations\nexport const usersRelations = relations(users, ({ many }) => ({\n  projects: many(projects),\n  userTemplates: many(userTemplates),\n  orders: many(orders),\n}));\n\nexport const musicRelations = relations(music, ({ many }) => ({\n  templates: many(templates),\n}));\n\nexport const templatesRelations = relations(templates, ({ one, many }) => ({\n  projects: many(projects),\n  orders: many(orders),\n  defaultMusic: one(music, {\n    fields: [templates.defaultMusicId],\n    references: [music.id],\n  }),\n}));\n\nexport const projectsRelations = relations(projects, ({ one, many }) => ({\n  user: one(users, {\n    fields: [projects.userId],\n    references: [users.id],\n  }),\n  template: one(templates, {\n    fields: [projects.templateId],\n    references: [templates.id],\n  }),\n  selectedMusic: one(music, {\n    fields: [projects.selectedMusicId],\n    references: [music.id],\n  }),\n  userTemplates: many(userTemplates),\n  orders: many(orders),\n}));\n\nexport const userTemplatesRelations = relations(userTemplates, ({ one }) => ({\n  user: one(users, {\n    fields: [userTemplates.userId],\n    references: [users.id],\n  }),\n  project: one(projects, {\n    fields: [userTemplates.projectId],\n    references: [projects.id],\n  }),\n}));\n\nexport const ordersRelations = relations(orders, ({ one, many }) => ({\n  user: one(users, {\n    fields: [orders.userId],\n    references: [users.id],\n  }),\n  project: one(projects, {\n    fields: [orders.projectId],\n    references: [projects.id],\n  }),\n  template: one(templates, {\n    fields: [orders.templateId],\n    references: [templates.id],\n  }),\n  payments: many(payments),\n}));\n\nexport const paymentsRelations = relations(payments, ({ one }) => ({\n  order: one(orders, {\n    fields: [payments.orderId],\n    references: [orders.id],\n  }),\n}));\n\n// Contact form schema (for marketing site contact page)\nexport const contacts = pgTable(\"contacts\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  email: text(\"email\").notNull(),\n  subject: text(\"subject\"),\n  message: text(\"message\").notNull(),\n  phone: text(\"phone\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertContactSchema = createInsertSchema(contacts).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type InsertContact = z.infer<typeof insertContactSchema>;\nexport type Contact = typeof contacts.$inferSelect;\n","path":null,"size_bytes":10120,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/components/TestimonialCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Star } from \"lucide-react\";\n\ninterface TestimonialCardProps {\n  name: string;\n  event: string;\n  date: string;\n  rating: number;\n  quote: string;\n  avatarUrl?: string;\n}\n\nexport function TestimonialCard({\n  name,\n  event,\n  date,\n  rating,\n  quote,\n  avatarUrl,\n}: TestimonialCardProps) {\n  return (\n    <Card className=\"p-6 lg:p-8 hover-elevate transition-all duration-300\" data-testid={`card-testimonial-${name.toLowerCase().replace(/\\s+/g, \"-\")}`}>\n      <div className=\"flex items-center gap-1 mb-4\">\n        {Array.from({ length: 5 }).map((_, i) => (\n          <Star\n            key={i}\n            className={`w-5 h-5 ${\n              i < rating\n                ? \"fill-accent text-accent\"\n                : \"fill-muted text-muted\"\n            }`}\n          />\n        ))}\n      </div>\n      <blockquote className=\"font-cormorant text-lg lg:text-xl italic text-foreground mb-6 leading-relaxed\">\n        \"{quote}\"\n      </blockquote>\n      <div className=\"flex items-center gap-3\">\n        <Avatar className=\"w-12 h-12 border-2 border-border\">\n          <AvatarImage src={avatarUrl} alt={name} />\n          <AvatarFallback className=\"bg-primary text-primary-foreground font-semibold\">\n            {name.split(\" \").map(n => n[0]).join(\"\")}\n          </AvatarFallback>\n        </Avatar>\n        <div>\n          <p className=\"font-semibold text-foreground\">{name}</p>\n          <p className=\"text-sm text-muted-foreground\">\n            {event} • {date}\n          </p>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","path":null,"size_bytes":1651,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/components/TemplateCard.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Play, Layers, Clock } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { Link } from \"wouter\";\n\ninterface TemplateCardProps {\n  id: string;\n  title: string;\n  slug: string;\n  category: string;\n  duration: number;\n  thumbnailUrl: string;\n  demoVideoUrl?: string;\n  isPremium?: boolean;\n  templateType?: \"video\" | \"card\";\n  pageCount?: number;\n  price?: number;\n}\n\nfunction formatDuration(seconds: number): string {\n  if (!seconds || seconds <= 0) return \"0:30\";\n  const mins = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${mins}:${secs.toString().padStart(2, '0')}`;\n}\n\nfunction formatPrice(paise: number): string {\n  if (!paise || paise <= 0) return \"Free\";\n  const rupees = paise / 100;\n  return `₹${rupees.toLocaleString('en-IN')}`;\n}\n\nexport function TemplateCard({\n  id,\n  title,\n  slug,\n  category,\n  duration,\n  thumbnailUrl,\n  demoVideoUrl,\n  isPremium,\n  templateType = \"video\",\n  pageCount = 1,\n  price = 0,\n}: TemplateCardProps) {\n  const [isHovering, setIsHovering] = useState(false);\n  const [showVideo, setShowVideo] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  const isVideoTemplate = templateType === \"video\";\n  const isCardTemplate = templateType === \"card\";\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsInView(true);\n            observer.disconnect();\n          }\n        });\n      },\n      {\n        rootMargin: \"100px\",\n        threshold: 0.01,\n      }\n    );\n\n    if (cardRef.current) {\n      observer.observe(cardRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, []);\n\n  const handleMouseEnter = () => {\n    setIsHovering(true);\n    if (isVideoTemplate && demoVideoUrl && videoRef.current && isInView) {\n      setShowVideo(true);\n      videoRef.current.play().catch(() => {});\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovering(false);\n    if (videoRef.current) {\n      videoRef.current.pause();\n      videoRef.current.currentTime = 0;\n    }\n    setTimeout(() => setShowVideo(false), 100);\n  };\n\n\n  return (\n    <Card ref={cardRef} className=\"group overflow-hidden border-0 shadow-sm hover:shadow-lg transition-all duration-300 bg-card\" data-testid={`card-template-${id}`}>\n      <Link href={`/template/${slug}`} className=\"block\">\n        <div \n          className=\"relative aspect-[9/16] overflow-hidden bg-muted rounded-t-lg\"\n          onMouseEnter={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}\n        >\n          {/* Loading placeholder */}\n          {!imageLoaded && (\n            <div className=\"absolute inset-0 bg-muted animate-pulse\" />\n          )}\n          \n          {isCardTemplate ? (\n            <>\n              <div className=\"absolute inset-0 flex items-center justify-center p-3\">\n                <div className=\"relative w-full h-full\">\n                  {pageCount > 1 && (\n                    <>\n                      <div \n                        className=\"absolute inset-0 bg-card rounded-lg shadow-md transform rotate-3 translate-x-2 -translate-y-1 opacity-60\"\n                        style={{ zIndex: 1 }}\n                      />\n                      <div \n                        className=\"absolute inset-0 bg-card rounded-lg shadow-md transform -rotate-2 -translate-x-1 translate-y-1 opacity-80\"\n                        style={{ zIndex: 2 }}\n                      />\n                    </>\n                  )}\n                  <div \n                    className=\"relative w-full h-full rounded-lg overflow-hidden shadow-xl border border-border/50 transition-transform duration-300 group-hover:scale-[1.02]\"\n                    style={{ zIndex: 3 }}\n                  >\n                    {isInView && (\n                      <img\n                        src={thumbnailUrl}\n                        alt={title}\n                        className={`w-full h-full object-cover transition-opacity duration-300 ${imageLoaded ? 'opacity-100' : 'opacity-0'}`}\n                        loading=\"lazy\"\n                        decoding=\"async\"\n                        onLoad={() => setImageLoaded(true)}\n                      />\n                    )}\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent\" />\n                  </div>\n                </div>\n              </div>\n              \n            </>\n          ) : (\n            <>\n              {isInView && (\n                <img\n                  src={thumbnailUrl}\n                  alt={title}\n                  className={`w-full h-full object-cover transition-all duration-500 ${\n                    showVideo && demoVideoUrl ? 'opacity-0 scale-100' : imageLoaded ? 'opacity-100 group-hover:scale-105' : 'opacity-0'\n                  }`}\n                  loading=\"lazy\"\n                  decoding=\"async\"\n                  onLoad={() => setImageLoaded(true)}\n                />\n              )}\n              \n              {isInView && demoVideoUrl && (\n                <video\n                  ref={videoRef}\n                  className={`absolute inset-0 w-full h-full object-cover transition-opacity duration-300 ${\n                    showVideo ? 'opacity-100' : 'opacity-0'\n                  }`}\n                  muted\n                  loop\n                  playsInline\n                  preload=\"none\"\n                  poster={thumbnailUrl}\n                  data-testid={`video-preview-${id}`}\n                >\n                  <source src={demoVideoUrl} type=\"video/mp4\" />\n                </video>\n              )}\n              \n              <div className={`absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-300 ${\n                showVideo ? 'opacity-0' : 'opacity-100'\n              }`} />\n              \n              {!showVideo && (\n                <div className=\"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                  <div className=\"w-12 h-12 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center shadow-lg\">\n                    <Play className=\"w-5 h-5 text-primary fill-current ml-0.5\" />\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n\n          {/* Price badge - top right */}\n          <div \n            className=\"absolute top-2 right-2\"\n            style={{ zIndex: 10 }}\n          >\n            <span \n              className=\"px-2.5 py-1 text-xs font-bold rounded bg-primary text-primary-foreground shadow-lg\"\n              data-testid={`text-price-${id}`}\n            >\n              {formatPrice(price)}\n            </span>\n          </div>\n\n          {/* Bottom badges - duration/pages and type */}\n          <div \n            className=\"absolute bottom-2 left-2 right-2 flex items-center justify-between gap-2\"\n            style={{ zIndex: 10 }}\n          >\n            {isVideoTemplate && duration > 0 && (\n              <span \n                className=\"flex items-center gap-1 px-2 py-0.5 text-[10px] font-medium rounded bg-black/60 text-white backdrop-blur-sm\"\n                data-testid={`badge-duration-${id}`}\n              >\n                <Clock className=\"w-3 h-3\" />\n                {formatDuration(duration)}\n              </span>\n            )}\n            {isCardTemplate && pageCount > 1 && (\n              <span className=\"flex items-center gap-1 px-2 py-0.5 text-[10px] font-medium rounded bg-black/60 text-white backdrop-blur-sm\">\n                <Layers className=\"w-3 h-3\" />\n                {pageCount} pages\n              </span>\n            )}\n            <span \n              className=\"px-2 py-0.5 text-[10px] font-medium rounded bg-black/60 text-white backdrop-blur-sm ml-auto\"\n              data-testid={`badge-type-${id}`}\n            >\n              {isVideoTemplate ? \"Video\" : \"Card\"}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"p-3 space-y-2\">\n          <h3 className=\"font-playfair text-sm lg:text-base font-semibold text-foreground line-clamp-2 leading-tight group-hover:text-primary transition-colors\">\n            {title}\n          </h3>\n          <Button \n            variant=\"default\" \n            className=\"w-full\" \n            data-testid={`button-use-template-${id}`}\n          >\n            Use Template\n          </Button>\n        </div>\n      </Link>\n    </Card>\n  );\n}\n","path":null,"size_bytes":8794,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const token = localStorage.getItem(\"auth_token\");\n  const headers: Record<string, string> = data ? { \"Content-Type\": \"application/json\" } : {};\n  if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n\n  const res = await fetch(url, {\n    method,\n    headers,\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const token = localStorage.getItem(\"auth_token\");\n    const headers: Record<string, string> = {};\n    if (token) {\n      headers.Authorization = `Bearer ${token}`;\n    }\n\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n      headers,\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1734,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1080,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1202,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/pages/Home.tsx":{"content":"import { useEffect } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { ArrowRight, Play, Check, Heart, Calendar, Users, Star, Sparkles, Globe2, Flower2 } from \"lucide-react\";\nimport { CustomerReviews } from \"@/components/CustomerReviews\";\nimport homepageHero from \"@assets/generated_images/Homepage_cinematic_wedding_hero_efb94fa0.png\";\n\nexport default function Home() {\n  const [location] = useLocation();\n\n  useEffect(() => {\n    const hash = window.location.hash;\n    if (hash) {\n      const element = document.getElementById(hash.substring(1));\n      if (element) {\n        setTimeout(() => {\n          element.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n        }, 100);\n      }\n    }\n  }, [location]);\n\n  const organizationSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"Organization\",\n    name: \"WeddingInvite.ai\",\n    url: \"https://weddinginvite.ai\",\n    logo: \"https://weddinginvite.ai/logo.png\",\n    description: \"Premium AI-powered wedding video invitation maker for Indian, UAE, and Saudi Arabian weddings\",\n    address: {\n      \"@type\": \"PostalAddress\",\n      addressCountry: \"IN\"\n    },\n    sameAs: [\n      \"https://instagram.com/weddinginvite.ai\",\n      \"https://facebook.com/weddinginvite.ai\"\n    ]\n  };\n\n  const websiteSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"WebSite\",\n    name: \"WeddingInvite.ai\",\n    url: \"https://weddinginvite.ai\",\n    potentialAction: {\n      \"@type\": \"SearchAction\",\n      target: \"https://weddinginvite.ai/templates?search={search_term_string}\",\n      \"query-input\": \"required name=search_term_string\"\n    }\n  };\n\n  const faqSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"FAQPage\",\n    mainEntity: [\n      {\n        \"@type\": \"Question\",\n        name: \"Can I share wedding invitations on WhatsApp?\",\n        acceptedAnswer: {\n          \"@type\": \"Answer\",\n          text: \"Yes! All our wedding video invitations are optimized for WhatsApp sharing. You can easily download and share them with your guests via WhatsApp, Instagram, or any messaging platform.\"\n        }\n      },\n      {\n        \"@type\": \"Question\",\n        name: \"Do you have templates for Indian weddings?\",\n        acceptedAnswer: {\n          \"@type\": \"Answer\",\n          text: \"Yes, we offer beautiful templates for Indian weddings including Punjabi, South Indian, Marathi, and North Indian styles. We also have ceremony-specific templates for Mehendi, Sangeet, Haldi, and Reception.\"\n        }\n      },\n      {\n        \"@type\": \"Question\",\n        name: \"Are templates available for Arabic weddings?\",\n        acceptedAnswer: {\n          \"@type\": \"Answer\",\n          text: \"Yes, we have elegant templates for UAE and Saudi Arabian weddings with traditional Arabic designs, Islamic motifs, and bilingual English-Arabic support.\"\n        }\n      }\n    ]\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <SEOHead \n        title=\"Indian Wedding Video Invitation Maker | WhatsApp Wedding Invites\"\n        description=\"Create stunning Indian wedding video invitations for WhatsApp in minutes. 500+ templates for Mehendi, Sangeet, Hindu, Muslim weddings. Free preview, instant download. ₹1,200-₹2,900.\"\n        keywords=\"indian wedding invitation video, whatsapp wedding video, wedding invitation video maker, digital wedding invitation india, hindi wedding video, punjabi wedding invitation, south indian wedding video, mehendi invitation video, sangeet video invitation, muslim wedding invitation, arabic wedding video, uae wedding invitation, dubai wedding video, saudi wedding invitation\"\n        schema={[organizationSchema, websiteSchema, faqSchema]}\n        locale=\"en_IN\"\n      />\n\n      {/* Hero Section */}\n      <section className=\"relative bg-gradient-to-br from-primary/5 via-background to-accent/5 py-16 md:py-24 overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-background/50 pointer-events-none\" />\n        \n        <div className=\"container mx-auto px-4 relative z-10\">\n          <div className=\"max-w-4xl mx-auto text-center space-y-8\">\n            <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-sm font-medium text-primary mb-4\">\n              <Star className=\"w-4 h-4\" />\n              Trusted by 10,000+ couples worldwide\n            </div>\n            \n            <h1 className=\"font-playfair text-4xl md:text-6xl lg:text-7xl font-bold text-foreground leading-tight\">\n              Online <span className=\"text-primary\">Invitation</span> Maker\n            </h1>\n            \n            <p className=\"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed\">\n              Create online invitations in minutes by choosing from hundreds of customizable templates for Indian and Middle Eastern weddings, engagements, and special celebrations.\n            </p>\n\n            <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\n              <Button \n                size=\"lg\" \n                className=\"group text-lg px-8 py-6\"\n                asChild\n                data-testid=\"button-get-started\"\n              >\n                <Link href=\"/templates\">\n                  Get Started for Free\n                  <ArrowRight className=\"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform\" />\n                </Link>\n              </Button>\n              \n              <Button \n                size=\"lg\" \n                variant=\"outline\" \n                className=\"text-lg px-8 py-6\"\n                data-testid=\"button-watch-demo\"\n              >\n                <Play className=\"mr-2 w-5 h-5\" />\n                Watch Demo\n              </Button>\n            </div>\n\n            {/* Hero Image */}\n            <div className=\"mt-12 rounded-2xl overflow-hidden shadow-2xl border border-border\">\n              <img \n                src={homepageHero} \n                alt=\"Wedding Invitation Templates\" \n                className=\"w-full h-auto\"\n                loading=\"eager\"\n                decoding=\"async\"\n              />\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Popular Categories */}\n      <section className=\"py-16 md:py-24 bg-muted/30\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"font-playfair text-3xl md:text-4xl font-bold text-foreground mb-4\">\n              Popular Invitation Categories\n            </h2>\n            <p className=\"text-muted-foreground text-lg max-w-2xl mx-auto\">\n              Find the perfect invitation for your special occasion\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n            {/* Wedding */}\n            <Link href=\"/templates?category=wedding\" data-testid=\"link-category-wedding\">\n              <Card className=\"group overflow-hidden hover-elevate active-elevate-2 cursor-pointer border-2 transition-all\" data-testid=\"card-category-wedding\">\n                <div className=\"aspect-[4/3] bg-gradient-to-br from-rose-100 to-pink-100 dark:from-rose-900/20 dark:to-pink-900/20 flex items-center justify-center\">\n                  <Heart className=\"w-16 h-16 text-rose-500\" />\n                </div>\n                <div className=\"p-6\">\n                  <h3 className=\"font-playfair text-2xl font-bold text-foreground mb-2\">\n                    Wedding Invites\n                  </h3>\n                  <p className=\"text-muted-foreground mb-4\">\n                    Elegant video & card invites for your big day\n                  </p>\n                  <div className=\"flex items-center text-primary font-medium group-hover:translate-x-1 transition-transform\">\n                    Browse Templates\n                    <ArrowRight className=\"ml-2 w-4 h-4\" />\n                  </div>\n                </div>\n              </Card>\n            </Link>\n\n            {/* Engagement */}\n            <Link href=\"/templates?category=engagement\" data-testid=\"link-category-engagement\">\n              <Card className=\"group overflow-hidden hover-elevate active-elevate-2 cursor-pointer border-2 transition-all\" data-testid=\"card-category-engagement\">\n                <div className=\"aspect-[4/3] bg-gradient-to-br from-purple-100 to-indigo-100 dark:from-purple-900/20 dark:to-indigo-900/20 flex items-center justify-center\">\n                  <Users className=\"w-16 h-16 text-purple-500\" />\n                </div>\n                <div className=\"p-6\">\n                  <h3 className=\"font-playfair text-2xl font-bold text-foreground mb-2\">\n                    Engagement Ceremony\n                  </h3>\n                  <p className=\"text-muted-foreground mb-4\">\n                    Celebrate your engagement with charm\n                  </p>\n                  <div className=\"flex items-center text-primary font-medium group-hover:translate-x-1 transition-transform\">\n                    Browse Templates\n                    <ArrowRight className=\"ml-2 w-4 h-4\" />\n                  </div>\n                </div>\n              </Card>\n            </Link>\n\n            {/* Save the Date */}\n            <Link href=\"/templates?category=save-the-date\" data-testid=\"link-category-save-the-date\">\n              <Card className=\"group overflow-hidden hover-elevate active-elevate-2 cursor-pointer border-2 transition-all\" data-testid=\"card-category-save-the-date\">\n                <div className=\"aspect-[4/3] bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-900/20 dark:to-orange-900/20 flex items-center justify-center\">\n                  <Calendar className=\"w-16 h-16 text-amber-500\" />\n                </div>\n                <div className=\"p-6\">\n                  <h3 className=\"font-playfair text-2xl font-bold text-foreground mb-2\">\n                    Save the Date\n                  </h3>\n                  <p className=\"text-muted-foreground mb-4\">\n                    Beautiful announcements for your upcoming celebration\n                  </p>\n                  <div className=\"flex items-center text-primary font-medium group-hover:translate-x-1 transition-transform\">\n                    Browse Templates\n                    <ArrowRight className=\"ml-2 w-4 h-4\" />\n                  </div>\n                </div>\n              </Card>\n            </Link>\n          </div>\n\n          <div className=\"text-center mt-12\">\n            <Button variant=\"outline\" size=\"lg\" asChild data-testid=\"button-browse-all\">\n              <Link href=\"/templates\">\n                Browse All Templates\n                <ArrowRight className=\"ml-2 w-4 h-4\" />\n              </Link>\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      {/* How It Works */}\n      <section id=\"how-it-works\" className=\"py-16 md:py-24\" data-testid=\"section-how-it-works\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"font-playfair text-3xl md:text-4xl font-bold text-foreground mb-4\">\n              How It Works\n            </h2>\n            <p className=\"text-muted-foreground text-lg max-w-2xl mx-auto\">\n              Create your perfect invitation in just 3 simple steps\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n            {/* Step 1 */}\n            <div className=\"text-center space-y-4\">\n              <div className=\"w-20 h-20 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <div className=\"w-16 h-16 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-2xl\">\n                  1\n                </div>\n              </div>\n              <h3 className=\"font-playfair text-2xl font-bold text-foreground\">\n                Choose an Invite\n              </h3>\n              <p className=\"text-muted-foreground\">\n                Select from hundreds of beautiful video & card templates designed for Indian and Middle Eastern celebrations\n              </p>\n            </div>\n\n            {/* Step 2 */}\n            <div className=\"text-center space-y-4\">\n              <div className=\"w-20 h-20 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <div className=\"w-16 h-16 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-2xl\">\n                  2\n                </div>\n              </div>\n              <h3 className=\"font-playfair text-2xl font-bold text-foreground\">\n                Customize Your Invite\n              </h3>\n              <p className=\"text-muted-foreground\">\n                Add your details, upload photos, choose colors, and personalize every element to match your style\n              </p>\n            </div>\n\n            {/* Step 3 */}\n            <div className=\"text-center space-y-4\">\n              <div className=\"w-20 h-20 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <div className=\"w-16 h-16 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-2xl\">\n                  3\n                </div>\n              </div>\n              <h3 className=\"font-playfair text-2xl font-bold text-foreground\">\n                Download & Share\n              </h3>\n              <p className=\"text-muted-foreground\">\n                Get your invitation instantly and share via WhatsApp, email, or social media with all your guests\n              </p>\n            </div>\n          </div>\n\n          <div className=\"text-center mt-12\">\n            <Button size=\"lg\" asChild data-testid=\"button-start-creating\">\n              <Link href=\"/templates\">\n                Start Creating Now\n                <ArrowRight className=\"ml-2 w-5 h-5\" />\n              </Link>\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      {/* Cultural Focus */}\n      <section className=\"py-16 md:py-24 bg-muted/30\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"font-playfair text-3xl md:text-4xl font-bold text-foreground mb-4\">\n              Celebrate Your Heritage\n            </h2>\n            <p className=\"text-muted-foreground text-lg max-w-2xl mx-auto\">\n              Invitations designed specifically for Indian and Middle Eastern wedding traditions\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto\">\n            <Card className=\"p-6 text-center hover-elevate\" data-testid=\"card-culture-punjabi\">\n              <div className=\"w-12 h-12 mx-auto mb-3 bg-orange-100 dark:bg-orange-900/20 rounded-full flex items-center justify-center\">\n                <Flower2 className=\"w-6 h-6 text-orange-600\" />\n              </div>\n              <h3 className=\"font-semibold text-foreground mb-1\">Indian Punjabi</h3>\n              <p className=\"text-sm text-muted-foreground\">Traditional & Modern</p>\n            </Card>\n\n            <Card className=\"p-6 text-center hover-elevate\" data-testid=\"card-culture-south-indian\">\n              <div className=\"w-12 h-12 mx-auto mb-3 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center\">\n                <Heart className=\"w-6 h-6 text-red-600\" />\n              </div>\n              <h3 className=\"font-semibold text-foreground mb-1\">South Indian</h3>\n              <p className=\"text-sm text-muted-foreground\">Temple & Cultural</p>\n            </Card>\n\n            <Card className=\"p-6 text-center hover-elevate\" data-testid=\"card-culture-arabic\">\n              <div className=\"w-12 h-12 mx-auto mb-3 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center\">\n                <Star className=\"w-6 h-6 text-purple-600\" />\n              </div>\n              <h3 className=\"font-semibold text-foreground mb-1\">Arabic Gulf</h3>\n              <p className=\"text-sm text-muted-foreground\">Elegant & Luxurious</p>\n            </Card>\n\n            <Card className=\"p-6 text-center hover-elevate\" data-testid=\"card-culture-modern\">\n              <div className=\"w-12 h-12 mx-auto mb-3 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center\">\n                <Sparkles className=\"w-6 h-6 text-blue-600\" />\n              </div>\n              <h3 className=\"font-semibold text-foreground mb-1\">Modern Fusion</h3>\n              <p className=\"text-sm text-muted-foreground\">Contemporary Style</p>\n            </Card>\n          </div>\n        </div>\n      </section>\n\n      {/* Features */}\n      <section className=\"py-16 md:py-24\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"font-playfair text-3xl md:text-4xl font-bold text-foreground mb-4\">\n              Why Choose WeddingInvite.ai\n            </h2>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n            <div className=\"text-center space-y-3\">\n              <div className=\"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <Check className=\"w-6 h-6 text-primary\" />\n              </div>\n              <h3 className=\"font-semibold text-lg text-foreground\">Instant Preview</h3>\n              <p className=\"text-muted-foreground\">See your customized invitation in real-time before you download</p>\n            </div>\n\n            <div className=\"text-center space-y-3\">\n              <div className=\"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <Check className=\"w-6 h-6 text-primary\" />\n              </div>\n              <h3 className=\"font-semibold text-lg text-foreground\">Cultural Authenticity</h3>\n              <p className=\"text-muted-foreground\">Templates designed specifically for Indian and Arabic traditions</p>\n            </div>\n\n            <div className=\"text-center space-y-3\">\n              <div className=\"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <Check className=\"w-6 h-6 text-primary\" />\n              </div>\n              <h3 className=\"font-semibold text-lg text-foreground\">WhatsApp Ready</h3>\n              <p className=\"text-muted-foreground\">Download and share directly via WhatsApp with your guests</p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Customer Reviews */}\n      <CustomerReviews />\n\n      {/* CTA Section */}\n      <section className=\"py-16 md:py-24 bg-gradient-to-br from-primary/10 via-accent/10 to-primary/5\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"max-w-3xl mx-auto text-center space-y-6\">\n            <h2 className=\"font-playfair text-3xl md:text-5xl font-bold text-foreground\">\n              Ready to Create Your Perfect Invitation?\n            </h2>\n            <p className=\"text-lg text-muted-foreground\">\n              Join thousands of couples who have created beautiful invitations for their special day\n            </p>\n            <Button size=\"lg\" className=\"text-lg px-8 py-6\" asChild data-testid=\"button-cta-browse\">\n              <Link href=\"/templates\">\n                Browse Templates\n                <ArrowRight className=\"ml-2 w-5 h-5\" />\n              </Link>\n            </Button>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","path":null,"size_bytes":19641,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/components/SEOHead.tsx":{"content":"import { useEffect } from \"react\";\n\ninterface SEOHeadProps {\n  title: string;\n  description: string;\n  keywords?: string;\n  ogImage?: string;\n  ogType?: string;\n  canonical?: string;\n  schema?: Record<string, any> | Record<string, any>[];\n  locale?: string;\n  alternateLang?: { lang: string; url: string }[];\n}\n\nexport function SEOHead({\n  title,\n  description,\n  keywords,\n  ogImage = \"/og-default.jpg\",\n  ogType = \"website\",\n  canonical,\n  schema,\n  locale = \"en_US\",\n  alternateLang,\n}: SEOHeadProps) {\n  useEffect(() => {\n    document.title = `${title} | WeddingInvite.ai`;\n\n    const metaTags = [\n      { name: \"description\", content: description },\n      { name: \"keywords\", content: keywords || \"indian wedding invitation video, whatsapp wedding video, digital wedding invitation, arabic wedding video, wedding video maker, shaadi video invitation\" },\n      \n      { property: \"og:title\", content: `${title} | WeddingInvite.ai` },\n      { property: \"og:description\", content: description },\n      { property: \"og:image\", content: ogImage },\n      { property: \"og:image:width\", content: \"1200\" },\n      { property: \"og:image:height\", content: \"630\" },\n      { property: \"og:type\", content: ogType },\n      { property: \"og:locale\", content: locale },\n      { property: \"og:site_name\", content: \"WeddingInvite.ai\" },\n      \n      { name: \"twitter:card\", content: \"summary_large_image\" },\n      { name: \"twitter:title\", content: `${title} | WeddingInvite.ai` },\n      { name: \"twitter:description\", content: description },\n      { name: \"twitter:image\", content: ogImage },\n      \n      { name: \"mobile-web-app-capable\", content: \"yes\" },\n      { name: \"apple-mobile-web-app-capable\", content: \"yes\" },\n      { name: \"apple-mobile-web-app-status-bar-style\", content: \"default\" },\n      { name: \"format-detection\", content: \"telephone=no\" },\n    ];\n\n    metaTags.forEach(({ name, property, content }) => {\n      const selector = name ? `meta[name=\"${name}\"]` : `meta[property=\"${property}\"]`;\n      let tag = document.querySelector(selector);\n      \n      if (!tag) {\n        tag = document.createElement(\"meta\");\n        if (name) tag.setAttribute(\"name\", name);\n        if (property) tag.setAttribute(\"property\", property);\n        document.head.appendChild(tag);\n      }\n      \n      tag.setAttribute(\"content\", content);\n    });\n\n    if (canonical) {\n      let canonicalTag = document.querySelector('link[rel=\"canonical\"]');\n      if (!canonicalTag) {\n        canonicalTag = document.createElement(\"link\");\n        canonicalTag.setAttribute(\"rel\", \"canonical\");\n        document.head.appendChild(canonicalTag);\n      }\n      canonicalTag.setAttribute(\"href\", canonical);\n    }\n\n    if (alternateLang) {\n      document.querySelectorAll('link[rel=\"alternate\"][hreflang]').forEach(tag => tag.remove());\n      alternateLang.forEach(({ lang, url }) => {\n        const link = document.createElement(\"link\");\n        link.setAttribute(\"rel\", \"alternate\");\n        link.setAttribute(\"hreflang\", lang);\n        link.setAttribute(\"href\", url);\n        document.head.appendChild(link);\n      });\n    }\n\n    document.querySelectorAll('script[type=\"application/ld+json\"][data-seo-head]').forEach(tag => tag.remove());\n    if (schema) {\n      const schemas = Array.isArray(schema) ? schema : [schema];\n      schemas.forEach((schemaItem) => {\n        const schemaTag = document.createElement(\"script\");\n        schemaTag.setAttribute(\"type\", \"application/ld+json\");\n        schemaTag.setAttribute(\"data-seo-head\", \"true\");\n        schemaTag.textContent = JSON.stringify(schemaItem);\n        document.head.appendChild(schemaTag);\n      });\n    }\n\n    return () => {\n      document.title = \"WeddingInvite.ai - Premium Wedding Video Invitations\";\n    };\n  }, [title, description, keywords, ogImage, ogType, canonical, schema, locale, alternateLang]);\n\n  return null;\n}\n","path":null,"size_bytes":3857,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route, useLocation } from \"wouter\";\nimport { useEffect, useState } from \"react\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { Navigation } from \"@/components/Navigation\";\nimport { Footer } from \"@/components/Footer\";\nimport NotFound from \"@/pages/not-found\";\nimport Home from \"@/pages/Home\";\nimport Templates from \"@/pages/Templates\";\nimport TemplateDetail from \"@/pages/TemplateDetail\";\nimport Editor from \"@/pages/Editor\";\nimport CategoryPage from \"@/pages/CategoryPage\";\nimport Cultures from \"@/pages/Cultures\";\nimport CulturePage from \"@/pages/CulturePage\";\nimport CountryPage from \"@/pages/CountryPage\";\nimport SEOLandingPage from \"@/pages/SEOLandingPage\";\n// TODO: Re-enable after MVP - Monthly subscription pricing\n// import Pricing from \"@/pages/Pricing\";\nimport HowItWorks from \"@/pages/HowItWorks\";\nimport Examples from \"@/pages/Examples\";\nimport Blog from \"@/pages/Blog\";\nimport ArticlePage from \"@/pages/ArticlePage\";\nimport Enterprise from \"@/pages/Enterprise\";\nimport About from \"@/pages/About\";\nimport Contact from \"@/pages/Contact\";\nimport FAQ from \"@/pages/FAQ\";\nimport Signup from \"@/pages/Signup\";\nimport Login from \"@/pages/Login\";\nimport MyTemplates from \"@/pages/MyTemplates\";\nimport { getRedirectResult } from \"firebase/auth\";\nimport { auth } from \"@/lib/firebase\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route path=\"/signup\" component={Signup} />\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/my-templates\" component={MyTemplates} />\n      <Route path=\"/templates\" component={Templates} />\n      <Route path=\"/templates/:category\" component={Templates} />\n      <Route path=\"/template/:slug\" component={TemplateDetail} />\n      <Route path=\"/editor/:slug\" component={Editor} />\n      \n      <Route path=\"/categories/wedding-video-invitations\" component={CategoryPage} />\n      <Route path=\"/categories/premium-luxury\" component={CategoryPage} />\n      <Route path=\"/categories/engagement-invites\" component={CategoryPage} />\n      <Route path=\"/categories/save-the-date\" component={CategoryPage} />\n      <Route path=\"/categories/baby-announcements\" component={CategoryPage} />\n      <Route path=\"/categories/birthday-anniversary\" component={CategoryPage} />\n      <Route path=\"/categories/corporate-invites\" component={CategoryPage} />\n      \n      <Route path=\"/culture\" component={Cultures} />\n      {/* Indian Wedding Cultures */}\n      <Route path=\"/culture/indian-wedding-video-invitation\" component={CulturePage} />\n      <Route path=\"/culture/indian-wedding-video-invitation/punjabi\" component={CulturePage} />\n      <Route path=\"/culture/indian-wedding-video-invitation/tamil\" component={CulturePage} />\n      <Route path=\"/culture/indian-wedding-video-invitation/telugu\" component={CulturePage} />\n      <Route path=\"/culture/indian-wedding-video-invitation/gujarati\" component={CulturePage} />\n      <Route path=\"/culture/indian-wedding-video-invitation/bengali\" component={CulturePage} />\n      <Route path=\"/culture/indian-wedding-video-invitation/muslim-nikah\" component={CulturePage} />\n      <Route path=\"/culture/indian-wedding-video-invitation/christian\" component={CulturePage} />\n      {/* Direct culture routes (for cleaner URLs) */}\n      <Route path=\"/culture/punjabi\" component={CulturePage} />\n      <Route path=\"/culture/tamil\" component={CulturePage} />\n      <Route path=\"/culture/telugu\" component={CulturePage} />\n      <Route path=\"/culture/gujarati\" component={CulturePage} />\n      <Route path=\"/culture/bengali\" component={CulturePage} />\n      <Route path=\"/culture/muslim-nikah\" component={CulturePage} />\n      <Route path=\"/culture/christian\" component={CulturePage} />\n      {/* Arabic Wedding Cultures */}\n      <Route path=\"/culture/arabic-wedding-video-uae-saudi\" component={CulturePage} />\n      {/* Global Cultures */}\n      <Route path=\"/culture/nigerian-traditional-wedding-video\" component={CulturePage} />\n      <Route path=\"/culture/quinceanera-video-invitation\" component={CulturePage} />\n      <Route path=\"/culture/chinese-tea-ceremony-video\" component={CulturePage} />\n      <Route path=\"/culture/korean-pyebaek-video\" component={CulturePage} />\n      <Route path=\"/culture/filipino-debut-video\" component={CulturePage} />\n      <Route path=\"/culture/jewish-bar-bat-mitzvah-video-invitation\" component={CulturePage} />\n      \n      {/* Focus Markets: India + UAE/Arabic Countries */}\n      <Route path=\"/countries/india\" component={CountryPage} />\n      <Route path=\"/countries/uae\" component={CountryPage} />\n      <Route path=\"/countries/saudi-arabia\" component={CountryPage} />\n      \n      {/* SEO Landing Pages - Clean Top-Level URLs */}\n      {/* Regional Pages */}\n      <Route path=\"/india\" component={SEOLandingPage} />\n      <Route path=\"/uae\" component={SEOLandingPage} />\n      <Route path=\"/saudi-arabia\" component={SEOLandingPage} />\n      \n      {/* Category Pages - Video */}\n      <Route path=\"/wedding-invitation-video\" component={SEOLandingPage} />\n      <Route path=\"/birthday-invitation-video\" component={SEOLandingPage} />\n      \n      {/* Category Pages - Card */}\n      <Route path=\"/wedding-invitation-card\" component={SEOLandingPage} />\n      <Route path=\"/birthday-invitation-card\" component={SEOLandingPage} />\n      \n      {/* Combined Regional + Category Pages (India) */}\n      <Route path=\"/india/wedding-invitation-video\" component={SEOLandingPage} />\n      <Route path=\"/india/wedding-invitation-card\" component={SEOLandingPage} />\n      <Route path=\"/india/birthday-invitation-video\" component={SEOLandingPage} />\n      <Route path=\"/india/birthday-invitation-card\" component={SEOLandingPage} />\n      \n      {/* Combined Regional + Category Pages (UAE) */}\n      <Route path=\"/uae/wedding-invitation-video\" component={SEOLandingPage} />\n      <Route path=\"/uae/wedding-invitation-card\" component={SEOLandingPage} />\n      <Route path=\"/uae/birthday-invitation-video\" component={SEOLandingPage} />\n      <Route path=\"/uae/birthday-invitation-card\" component={SEOLandingPage} />\n      \n      {/* Combined Regional + Category Pages (Saudi Arabia) */}\n      <Route path=\"/saudi-arabia/wedding-invitation-video\" component={SEOLandingPage} />\n      <Route path=\"/saudi-arabia/wedding-invitation-card\" component={SEOLandingPage} />\n      <Route path=\"/saudi-arabia/birthday-invitation-video\" component={SEOLandingPage} />\n      <Route path=\"/saudi-arabia/birthday-invitation-card\" component={SEOLandingPage} />\n      \n      {/* TODO: Re-enable after MVP - Monthly subscription pricing */}\n      {/* <Route path=\"/pricing\" component={Pricing} /> */}\n      <Route path=\"/how-it-works\" component={HowItWorks} />\n      <Route path=\"/examples\" component={Examples} />\n      <Route path=\"/blog\" component={Blog} />\n      <Route path=\"/blog/:slug\" component={ArticlePage} />\n      <Route path=\"/enterprise\" component={Enterprise} />\n      <Route path=\"/about\" component={About} />\n      <Route path=\"/contact\" component={Contact} />\n      <Route path=\"/faq\" component={FAQ} />\n      \n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  const [location] = useLocation();\n  const isEditorMode = location.startsWith('/editor');\n  const isAuthPage = location.startsWith('/signup') || location.startsWith('/login');\n  const { toast } = useToast();\n\n  // Handle Google redirect result at app level\n  // This runs on every app mount to check if user just returned from Google auth\n  useEffect(() => {\n    const handleGoogleRedirect = async () => {\n      console.log(\"[Google Auth] Checking for redirect result...\");\n      try {\n        const result = await getRedirectResult(auth);\n        console.log(\"[Google Auth] getRedirectResult returned:\", result ? \"User found\" : \"No result\");\n        \n        if (result) {\n          const user = result.user;\n          console.log(\"[Google Auth] User details:\", {\n            email: user.email,\n            displayName: user.displayName,\n            uid: user.uid\n          });\n          \n          // Get Firebase ID token\n          const idToken = await user.getIdToken();\n          console.log(\"[Google Auth] Got Firebase ID token, sending to backend...\");\n          \n          // Send ID token to backend for verification\n          const response = await fetch(\"/api/auth/google\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ idToken }),\n          });\n          \n          const data = await response.json();\n          console.log(\"[Google Auth] Backend response:\", { ok: response.ok, data });\n          \n          if (!response.ok) {\n            throw new Error(data.error || \"Google sign-in failed\");\n          }\n          \n          // Store JWT token and user data\n          localStorage.setItem(\"auth_token\", data.token);\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\n          console.log(\"[Google Auth] Saved to localStorage:\", {\n            token: data.token.substring(0, 20) + \"...\",\n            user: data.user\n          });\n          \n          // Dispatch custom event to immediately update UI\n          window.dispatchEvent(new Event('authStateChanged'));\n          console.log(\"[Google Auth] Dispatched authStateChanged event\");\n          \n          toast({\n            title: \"Signed in with Google!\",\n            description: `Welcome, ${data.user.name}`,\n          });\n        }\n      } catch (error: any) {\n        console.error(\"[Google Auth] Error:\", error);\n        // Show error for Firebase auth errors (except no-auth-event which is normal)\n        if (error.code && error.code !== 'auth/no-auth-event') {\n          console.error(\"[Google Auth] Firebase error:\", error.code, error.message);\n          toast({\n            title: \"Google sign-in failed\",\n            description: error.message || \"Please try again\",\n            variant: \"destructive\",\n          });\n        } \n        // Show error for network/backend failures\n        else if (!error.code && error.message) {\n          console.error(\"[Google Auth] Network/Backend error:\", error.message);\n          toast({\n            title: \"Authentication failed\",\n            description: error.message,\n            variant: \"destructive\",\n          });\n        }\n      }\n    };\n\n    handleGoogleRedirect();\n  }, [toast]);\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <div className=\"min-h-screen flex flex-col bg-background\">\n          {/* Hide Navigation and Footer in Editor mode and Auth pages */}\n          {!isEditorMode && !isAuthPage && <Navigation />}\n          <main className=\"flex-1\">\n            <Router />\n          </main>\n          {!isEditorMode && !isAuthPage && <Footer />}\n        </div>\n        <Toaster />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":11123,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"server/objectStorage.ts":{"content":"import { Storage, File } from \"@google-cloud/storage\";\nimport { Response } from \"express\";\nimport { randomUUID } from \"crypto\";\nimport {\n  ObjectAclPolicy,\n  ObjectPermission,\n  canAccessObject,\n  getObjectAclPolicy,\n  setObjectAclPolicy,\n} from \"./objectAcl\";\n\nconst REPLIT_SIDECAR_ENDPOINT = \"http://127.0.0.1:1106\";\n\nexport const objectStorageClient = new Storage({\n  credentials: {\n    audience: \"replit\",\n    subject_token_type: \"access_token\",\n    token_url: `${REPLIT_SIDECAR_ENDPOINT}/token`,\n    type: \"external_account\",\n    credential_source: {\n      url: `${REPLIT_SIDECAR_ENDPOINT}/credential`,\n      format: {\n        type: \"json\",\n        subject_token_field_name: \"access_token\",\n      },\n    },\n    universe_domain: \"googleapis.com\",\n  },\n  projectId: \"\",\n});\n\nexport class ObjectNotFoundError extends Error {\n  constructor() {\n    super(\"Object not found\");\n    this.name = \"ObjectNotFoundError\";\n    Object.setPrototypeOf(this, ObjectNotFoundError.prototype);\n  }\n}\n\nexport class ObjectStorageService {\n  constructor() {}\n\n  getPublicObjectSearchPaths(): Array<string> {\n    const pathsStr = process.env.PUBLIC_OBJECT_SEARCH_PATHS || \"\";\n    const paths = Array.from(\n      new Set(\n        pathsStr\n          .split(\",\")\n          .map((path) => path.trim())\n          .filter((path) => path.length > 0)\n      )\n    );\n    if (paths.length === 0) {\n      throw new Error(\n        \"PUBLIC_OBJECT_SEARCH_PATHS not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PUBLIC_OBJECT_SEARCH_PATHS env var (comma-separated paths).\"\n      );\n    }\n    return paths;\n  }\n\n  getPrivateObjectDir(): string {\n    const dir = process.env.PRIVATE_OBJECT_DIR || \"\";\n    if (!dir) {\n      throw new Error(\n        \"PRIVATE_OBJECT_DIR not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PRIVATE_OBJECT_DIR env var.\"\n      );\n    }\n    return dir;\n  }\n\n  async searchPublicObject(filePath: string): Promise<File | null> {\n    for (const searchPath of this.getPublicObjectSearchPaths()) {\n      const fullPath = `${searchPath}/${filePath}`;\n      const { bucketName, objectName } = parseObjectPath(fullPath);\n      const bucket = objectStorageClient.bucket(bucketName);\n      const file = bucket.file(objectName);\n\n      const [exists] = await file.exists();\n      if (exists) {\n        return file;\n      }\n    }\n    return null;\n  }\n\n  async downloadObject(file: File, res: Response, cacheTtlSec: number = 3600) {\n    try {\n      const [metadata] = await file.getMetadata();\n      const aclPolicy = await getObjectAclPolicy(file);\n      const isPublic = aclPolicy?.visibility === \"public\";\n\n      res.set({\n        \"Content-Type\": metadata.contentType || \"application/octet-stream\",\n        \"Content-Length\": metadata.size,\n        \"Cache-Control\": `${\n          isPublic ? \"public\" : \"private\"\n        }, max-age=${cacheTtlSec}`,\n      });\n\n      const stream = file.createReadStream();\n\n      stream.on(\"error\", (err) => {\n        console.error(\"Stream error:\", err);\n        if (!res.headersSent) {\n          res.status(500).json({ error: \"Error streaming file\" });\n        }\n      });\n\n      stream.pipe(res);\n    } catch (error) {\n      console.error(\"Error downloading file:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Error downloading file\" });\n      }\n    }\n  }\n\n  async getObjectEntityUploadURL(): Promise<string> {\n    const privateObjectDir = this.getPrivateObjectDir();\n    if (!privateObjectDir) {\n      throw new Error(\n        \"PRIVATE_OBJECT_DIR not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PRIVATE_OBJECT_DIR env var.\"\n      );\n    }\n\n    const objectId = randomUUID();\n    const fullPath = `${privateObjectDir}/uploads/${objectId}`;\n\n    const { bucketName, objectName } = parseObjectPath(fullPath);\n\n    return signObjectURL({\n      bucketName,\n      objectName,\n      method: \"PUT\",\n      ttlSec: 900,\n    });\n  }\n\n  async getObjectEntityFile(objectPath: string): Promise<File> {\n    if (!objectPath.startsWith(\"/objects/\")) {\n      throw new ObjectNotFoundError();\n    }\n\n    const parts = objectPath.slice(1).split(\"/\");\n    if (parts.length < 2) {\n      throw new ObjectNotFoundError();\n    }\n\n    const entityId = parts.slice(1).join(\"/\");\n    let entityDir = this.getPrivateObjectDir();\n    if (!entityDir.endsWith(\"/\")) {\n      entityDir = `${entityDir}/`;\n    }\n    const objectEntityPath = `${entityDir}${entityId}`;\n    const { bucketName, objectName } = parseObjectPath(objectEntityPath);\n    const bucket = objectStorageClient.bucket(bucketName);\n    const objectFile = bucket.file(objectName);\n    const [exists] = await objectFile.exists();\n    if (!exists) {\n      throw new ObjectNotFoundError();\n    }\n    return objectFile;\n  }\n\n  normalizeObjectEntityPath(\n    rawPath: string,\n  ): string {\n    if (!rawPath.startsWith(\"https://storage.googleapis.com/\")) {\n      return rawPath;\n    }\n  \n    const url = new URL(rawPath);\n    const rawObjectPath = url.pathname;\n  \n    let objectEntityDir = this.getPrivateObjectDir();\n    if (!objectEntityDir.endsWith(\"/\")) {\n      objectEntityDir = `${objectEntityDir}/`;\n    }\n  \n    if (!rawObjectPath.startsWith(objectEntityDir)) {\n      return rawObjectPath;\n    }\n  \n    const entityId = rawObjectPath.slice(objectEntityDir.length);\n    return `/objects/${entityId}`;\n  }\n\n  async trySetObjectEntityAclPolicy(\n    rawPath: string,\n    aclPolicy: ObjectAclPolicy\n  ): Promise<string> {\n    const normalizedPath = this.normalizeObjectEntityPath(rawPath);\n    if (!normalizedPath.startsWith(\"/\")) {\n      return normalizedPath;\n    }\n\n    const objectFile = await this.getObjectEntityFile(normalizedPath);\n    await setObjectAclPolicy(objectFile, aclPolicy);\n    return normalizedPath;\n  }\n\n  async canAccessObjectEntity({\n    userId,\n    objectFile,\n    requestedPermission,\n  }: {\n    userId?: string;\n    objectFile: File;\n    requestedPermission?: ObjectPermission;\n  }): Promise<boolean> {\n    return canAccessObject({\n      userId,\n      objectFile,\n      requestedPermission: requestedPermission ?? ObjectPermission.READ,\n    });\n  }\n}\n\nfunction parseObjectPath(path: string): {\n  bucketName: string;\n  objectName: string;\n} {\n  if (!path.startsWith(\"/\")) {\n    path = `/${path}`;\n  }\n  const pathParts = path.split(\"/\");\n  if (pathParts.length < 3) {\n    throw new Error(\"Invalid path: must contain at least a bucket name\");\n  }\n\n  const bucketName = pathParts[1];\n  const objectName = pathParts.slice(2).join(\"/\");\n\n  return {\n    bucketName,\n    objectName,\n  };\n}\n\nasync function signObjectURL({\n  bucketName,\n  objectName,\n  method,\n  ttlSec,\n}: {\n  bucketName: string;\n  objectName: string;\n  method: \"GET\" | \"PUT\" | \"DELETE\" | \"HEAD\";\n  ttlSec: number;\n}): Promise<string> {\n  const request = {\n    bucket_name: bucketName,\n    object_name: objectName,\n    method,\n    expires_at: new Date(Date.now() + ttlSec * 1000).toISOString(),\n  };\n  const response = await fetch(\n    `${REPLIT_SIDECAR_ENDPOINT}/object-storage/signed-object-url`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(request),\n    }\n  );\n  if (!response.ok) {\n    throw new Error(\n      `Failed to sign object URL, errorcode: ${response.status}, ` +\n        `make sure you're running on Replit`\n    );\n  }\n\n  const { signed_url: signedURL } = await response.json();\n  return signedURL;\n}\n","path":null,"size_bytes":7429,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"server/seed.ts":{"content":"import { db } from \"./db\";\nimport { \n  users, \n  templates, \n  projects,\n  userTemplates,\n  orders,\n  payments,\n  music,\n  type InsertUser, \n  type InsertTemplate,\n  type InsertProject,\n  type InsertUserTemplate,\n  type InsertOrder,\n  type InsertPayment,\n  type InsertMusic\n} from \"@shared/schema\";\nimport * as bcrypt from \"bcryptjs\";\n\nexport async function seed() {\n  console.log(\"🌱 Seeding database...\");\n\n  try {\n    // Seed Music Library (stock music for video templates)\n    const musicTracks: InsertMusic[] = [\n      { name: \"Epic Love Romantic\", url: \"Ind/music/epic-love-inspirational-romantic-cinematic-30-seconds-406069.mp3\", duration: 30, category: \"wedding\" },\n      { name: \"Hopeful Acoustic\", url: \"Ind/music/hopeful-acoustic-travel-30-seconds-368800.mp3\", duration: 30, category: \"wedding\" },\n      { name: \"Magical Orchestral\", url: \"Ind/music/magical-dramedy-orchestral-sneaky-spell-30-sec-375796.mp3\", duration: 30, category: \"birthday\" },\n      { name: \"Orchestral Joy\", url: \"Ind/music/orchestral-joy-30-sec-423312.mp3\", duration: 30, category: \"birthday\" },\n      { name: \"Enchanted Music\", url: \"Ind/music/sneaky-art-30-sec-enchanted-music-426698.mp3\", duration: 30, category: \"wedding\" },\n      { name: \"Uplifting Corporate\", url: \"Ind/music/uplifting-feelgood-30-seconds-corporate-430728.mp3\", duration: 30, category: \"birthday\" },\n    ];\n\n    const insertedMusic = await db\n      .insert(music)\n      .values(musicTracks)\n      .onConflictDoNothing()\n      .returning();\n    \n    console.log(`✅ ${insertedMusic.length} music tracks seeded`);\n\n    // Create User 1: Has PAID for a template\n    const user1PasswordHash = await bcrypt.hash(\"Test@1234\", 10);\n    const [user1] = await db\n      .insert(users)\n      .values({\n        name: \"Aarti Sharma\",\n        email: \"aarti@example.com\",\n        phone: \"+919999999999\",\n        passwordHash: user1PasswordHash,\n      })\n      .onConflictDoNothing()\n      .returning();\n\n    console.log(\"✅ User 1 (PAID) created:\", user1?.email);\n\n    // Create User 2: Has NOT PAID\n    const user2PasswordHash = await bcrypt.hash(\"Test@1234\", 10);\n    const [user2] = await db\n      .insert(users)\n      .values({\n        name: \"Rajesh Kumar\",\n        email: \"rajesh@example.com\",\n        phone: \"+918888888888\",\n        passwordHash: user2PasswordHash,\n      })\n      .onConflictDoNothing()\n      .returning();\n\n    console.log(\"✅ User 2 (NOT PAID) created:\", user2?.email);\n\n    // Template 1: Indian Hindu Wedding Invite (from user's provided data)\n    const template1Json = {\n      pages: [\n        {\n          media: [\n            {\n              url: \"/api/media/Ind/IndWedpho_a1.png\",\n              type: \"image\",\n              position: \"background\"\n            }\n          ],\n          fields: [\n            {\n              type: \"text\",\n              label: \"Main Title Line 1\",\n              value: \"शादी\",\n              ae_layer: \"Page1_TitleLine1\",\n              field_id: \"title_1\"\n            },\n            {\n              type: \"text\",\n              label: \"Main Title Line 2\",\n              value: \"आमंत्रण\",\n              ae_layer: \"Page1_TitleLine2\",\n              field_id: \"title_2\"\n            }\n          ],\n          page_id: \"P1\",\n          page_number: 1\n        },\n        {\n          media: [\n            {\n              url: \"/api/media/Ind/IndWedpho_a2.png\",\n              type: \"image\",\n              position: \"background\"\n            }\n          ],\n          fields: [\n            {\n              type: \"text\",\n              label: \"Ganesh Mantra\",\n              value: \"|| श्री गणेशाय नमः ||\",\n              ae_layer: \"Page2_Mantra\",\n              field_id: \"mantra\"\n            },\n            {\n              type: \"text\",\n              label: \"Initials\",\n              value: \"SA\",\n              ae_layer: \"Page2_Initials\",\n              field_id: \"initials\"\n            },\n            {\n              type: \"text\",\n              label: \"Couple Names\",\n              value: \"आदिलक्ष्मी और रवींद्रन\",\n              ae_layer: \"Page2_CoupleNames\",\n              field_id: \"couple_names\"\n            },\n            {\n              type: \"text\",\n              label: \"Wedding Dates\",\n              value: \"14 और 15 अक्टूबर, 2025\",\n              ae_layer: \"Page2_Dates\",\n              field_id: \"wedding_dates\"\n            },\n            {\n              type: \"text\",\n              label: \"Venue\",\n              value: \"ग्रैंड हयात होटल, फेज़ 2, अहमदाबाद, गुजरात - 380001\",\n              ae_layer: \"Page2_Venue\",\n              field_id: \"venue\"\n            }\n          ],\n          page_id: \"P2\",\n          page_number: 2\n        },\n        {\n          media: [\n            {\n              url: \"/api/media/Ind/IndWedpho_a3.png\",\n              type: \"image\",\n              position: \"background\"\n            }\n          ],\n          fields: [\n            {\n              type: \"text\",\n              label: \"Invite Text\",\n              value: \"हम आपके विवाह समारोह में आपकी गरिमामयी उपस्थिति का सम्मान चाहते हैं।\",\n              ae_layer: \"Page3_InviteLine\",\n              field_id: \"invite_line\"\n            },\n            {\n              type: \"text\",\n              label: \"Bride Name\",\n              value: \"आदिलक्ष्मी\",\n              ae_layer: \"Page3_BrideName\",\n              field_id: \"bride_name\"\n            },\n            {\n              type: \"text\",\n              label: \"Bride Parents\",\n              value: \"श्रीमती. पूजा भट्ट और श्री. महेश कुमार भट्ट की बेटी\",\n              ae_layer: \"Page3_BrideParents\",\n              field_id: \"bride_parents\"\n            },\n            {\n              type: \"text\",\n              label: \"Groom Name\",\n              value: \"रवींद्रन\",\n              ae_layer: \"Page3_GroomName\",\n              field_id: \"groom_name\"\n            },\n            {\n              type: \"text\",\n              label: \"Groom Parents\",\n              value: \"श्रीमती निहारिका दुबे और श्री रवि दुबे के पुत्र\",\n              ae_layer: \"Page3_GroomParents\",\n              field_id: \"groom_parents\"\n            },\n            {\n              type: \"text\",\n              label: \"Venue Text\",\n              value: \"ग्रैंड हयात होटल, फेज़ 2, अहमदाबाद, गुजरात - 380001\",\n              ae_layer: \"Page3_Venue\",\n              field_id: \"venue_repeat\"\n            }\n          ],\n          page_id: \"P3\",\n          page_number: 3\n        },\n        {\n          media: [\n            {\n              url: \"/api/media/Ind/IndWedpho_a4.png\",\n              type: \"image\",\n              position: \"background\"\n            }\n          ],\n          fields: [\n            {\n              type: \"text\",\n              label: \"Haldi Event Title\",\n              value: \"हल्दी की कहानियाँ\",\n              ae_layer: \"Page4_EventTitle\",\n              field_id: \"event_title\"\n            },\n            {\n              type: \"text\",\n              label: \"Event Date\",\n              value: \"सोमवार, 14 अक्टूबर 2025\",\n              ae_layer: \"Page4_EventDate\",\n              field_id: \"event_date\"\n            },\n            {\n              type: \"text\",\n              label: \"Event Subtitle\",\n              value: \"फूलों की हल्दी\",\n              ae_layer: \"Page4_Subtitle\",\n              field_id: \"event_subtitle\"\n            },\n            {\n              type: \"text\",\n              label: \"Event Time\",\n              value: \"रात्रि 12:00 बजे से\",\n              ae_layer: \"Page4_EventTime\",\n              field_id: \"event_time\"\n            },\n            {\n              type: \"text\",\n              label: \"Event Venue\",\n              value: \"ग्रैंड हयात होटल, फेज़ 2, अहमदाबाद, गुजरात - 380001\",\n              ae_layer: \"Page4_EventVenue\",\n              field_id: \"event_venue\"\n            }\n          ],\n          page_id: \"P4\",\n          page_number: 4\n        },\n        {\n          media: [\n            {\n              url: \"/api/media/Ind/IndWedpho_a9.png\",\n              type: \"image\",\n              position: \"background\"\n            }\n          ],\n          fields: [\n            {\n              type: \"text\",\n              label: \"Initials\",\n              value: \"SA\",\n              ae_layer: \"Page9_Initials\",\n              field_id: \"initials_9\"\n            },\n            {\n              type: \"text\",\n              label: \"Guest Title\",\n              value: \"दर्शनाभिलाषी\",\n              ae_layer: \"Page9_GuestTitle\",\n              field_id: \"guest_title\"\n            },\n            {\n              type: \"text\",\n              label: \"Guest 1\",\n              value: \"Dr. आराध्या और Dr. मुकेश भट्ट\",\n              ae_layer: \"Page9_Guest1\",\n              field_id: \"guest_1\"\n            },\n            {\n              type: \"text\",\n              label: \"Guest 2\",\n              value: \"श्रीमती. नव्या और Dr. अंगद भट्ट\",\n              ae_layer: \"Page9_Guest2\",\n              field_id: \"guest_2\"\n            },\n            {\n              type: \"text\",\n              label: \"Guest 3\",\n              value: \"स्वागतकर्ता\",\n              ae_layer: \"Page9_Guest3\",\n              field_id: \"guest_3\"\n            },\n            {\n              type: \"text\",\n              label: \"Guest 4\",\n              value: \"Dr. मयूरी और पवन आहूजा\",\n              ae_layer: \"Page9_Guest4\",\n              field_id: \"guest_4\"\n            },\n            {\n              type: \"text\",\n              label: \"Guest 5\",\n              value: \"पूजा और वैभव भट्ट\",\n              ae_layer: \"Page9_Guest5\",\n              field_id: \"guest_5\"\n            },\n            {\n              type: \"text\",\n              label: \"Guest 6\",\n              value: \"Dr. निमिषा और Dr. करण सिंह\",\n              ae_layer: \"Page9_Guest6\",\n              field_id: \"guest_6\"\n            }\n          ],\n          page_id: \"P5\",\n          page_number: 5\n        }\n      ]\n    };\n\n    const [template1] = await db\n      .insert(templates)\n      .values({\n        slug: \"indian-hindu-wedding-invite\",\n        templateName: \"Indian Hindu Wedding Invite\",\n        templateType: \"wedding\",\n        currency: \"INR\",\n        price: \"1200.00\",\n        durationSec: 30,\n        previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n        previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n        templateJson: template1Json,\n        orientation: \"portrait\",\n        photoOption: \"with_photo\",\n        templateTags: [\"hindu\", \"marathi\", \"indian\", \"wedding\", \"save-the-date\"],\n        thumbnailUrl: \"/api/media/Ind/IndWedpho_a9.png\",\n      })\n      .onConflictDoNothing()\n      .returning();\n\n    console.log(\"✅ Template 1 created:\", template1?.templateName);\n\n    // Template 2: Similar Indian Wedding (different names/dates) - uses same images\n    const template2Json = {\n      pages: [\n        {\n          media: [\n            {\n              url: \"/api/media/Ind/IndWedpho_a1.png\",\n              type: \"image\",\n              position: \"background\"\n            }\n          ],\n          fields: [\n            {\n              type: \"text\",\n              label: \"Main Title Line 1\",\n              value: \"विवाह\",\n              ae_layer: \"Page1_TitleLine1\",\n              field_id: \"title_1\"\n            },\n            {\n              type: \"text\",\n              label: \"Main Title Line 2\",\n              value: \"निमंत्रण\",\n              ae_layer: \"Page1_TitleLine2\",\n              field_id: \"title_2\"\n            }\n          ],\n          page_id: \"P1\",\n          page_number: 1\n        },\n        {\n          media: [\n            {\n              url: \"/api/media/Ind/IndWedpho_a2.png\",\n              type: \"image\",\n              position: \"background\"\n            }\n          ],\n          fields: [\n            {\n              type: \"text\",\n              label: \"Ganesh Mantra\",\n              value: \"|| श्री गणेशाय नमः ||\",\n              ae_layer: \"Page2_Mantra\",\n              field_id: \"mantra\"\n            },\n            {\n              type: \"text\",\n              label: \"Initials\",\n              value: \"PR\",\n              ae_layer: \"Page2_Initials\",\n              field_id: \"initials\"\n            },\n            {\n              type: \"text\",\n              label: \"Couple Names\",\n              value: \"प्रिया और राज\",\n              ae_layer: \"Page2_CoupleNames\",\n              field_id: \"couple_names\"\n            },\n            {\n              type: \"text\",\n              label: \"Wedding Dates\",\n              value: \"20 और 21 नवंबर, 2025\",\n              ae_layer: \"Page2_Dates\",\n              field_id: \"wedding_dates\"\n            },\n            {\n              type: \"text\",\n              label: \"Venue\",\n              value: \"ताज पैलेस होटल, मुंबई, महाराष्ट्र - 400001\",\n              ae_layer: \"Page2_Venue\",\n              field_id: \"venue\"\n            }\n          ],\n          page_id: \"P2\",\n          page_number: 2\n        }\n      ]\n    };\n\n    const [template2] = await db\n      .insert(templates)\n      .values({\n        slug: \"indian-wedding-elegant\",\n        templateName: \"Indian Wedding - Elegant Style\",\n        templateType: \"wedding\",\n        currency: \"INR\",\n        price: \"1500.00\",\n        durationSec: 30,\n        previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n        previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n        templateJson: template2Json,\n        orientation: \"portrait\",\n        photoOption: \"with_photo\",\n        templateTags: [\"hindu\", \"indian\", \"wedding\", \"elegant\"],\n        thumbnailUrl: \"/api/media/Ind/IndWedpho_a1.png\",\n      })\n      .onConflictDoNothing()\n      .returning();\n\n    console.log(\"✅ Template 2 created:\", template2?.templateName);\n\n    // ========== 16 PORTRAIT TEMPLATES (6 cards + 10 videos) ==========\n    \n    // PORTRAIT CARD 1: Wedding Card - Simple\n    await db.insert(templates).values({\n      slug: \"wedding-card-simple\",\n      templateName: \"शादी का कार्ड - सिंपल\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"1200.00\",\n      durationSec: 15,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"card\", \"simple\", \"hindi\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a1.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"शादी\", value: \"शुभ विवाह\", ae_layer: \"Title\", field_id: \"title\" }] }] }\n    }).onConflictDoNothing();\n\n    // PORTRAIT CARD 2: Wedding Card - Elegant  \n    await db.insert(templates).values({\n      slug: \"wedding-card-elegant\",\n      templateName: \"विवाह निमंत्रण - एलीगेंट\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"1400.00\",\n      durationSec: 20,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"card\", \"elegant\", \"marathi\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a2.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Title\", value: \"लग्न निमंत्रण\", ae_layer: \"Title\", field_id: \"title\" }] }, { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Details\", value: \"सादर आमंत्रण\", ae_layer: \"Details\", field_id: \"details\" }] }] }\n    }).onConflictDoNothing();\n\n    // PORTRAIT CARD 3: Birthday Card - Cute\n    await db.insert(templates).values({\n      slug: \"birthday-card-cute\",\n      templateName: \"जन्मदिन कार्ड - क्यूट\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"800.00\",\n      durationSec: 10,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"birthday\", \"card\", \"cute\", \"celebration\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a4.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Birthday\", value: \"जन्मदिन मुबारक हो\", ae_layer: \"Title\", field_id: \"title\" }] }] }\n    }).onConflictDoNothing();\n\n    // PORTRAIT CARD 4: Birthday Card - Fun\n    await db.insert(templates).values({\n      slug: \"birthday-card-fun\",\n      templateName: \"बर्थडे इन्वाइट - फन\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"900.00\",\n      durationSec: 15,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"birthday\", \"card\", \"fun\", \"party\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a9.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Title\", value: \"पार्टी में आइए\", ae_layer: \"Title\", field_id: \"title\" }] }, { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Details\", value: \"मस्ती करेंगे\", ae_layer: \"Details\", field_id: \"details\" }] }] }\n    }).onConflictDoNothing();\n\n    // PORTRAIT CARD 5: Anniversary Card - Romantic\n    await db.insert(templates).values({\n      slug: \"anniversary-card-romantic\",\n      templateName: \"एनिवर्सरी कार्ड - रोमांटिक\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"1000.00\",\n      durationSec: 15,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"card\", \"romantic\", \"celebration\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a1.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Anniversary\", value: \"वर्षगांठ की शुभकामनाएं\", ae_layer: \"Title\", field_id: \"title\" }] }] }\n    }).onConflictDoNothing();\n\n    // PORTRAIT CARD 6: Anniversary Card - Elegant\n    await db.insert(templates).values({\n      slug: \"anniversary-card-elegant\",\n      templateName: \"सालगिरह - एलीगेंट\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"1100.00\",\n      durationSec: 20,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"card\", \"elegant\", \"love\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a4.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Title\", value: \"प्यार का जश्न\", ae_layer: \"Title\", field_id: \"title\" }] }, { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Message\", value: \"हमारे साथ मनाइए\", ae_layer: \"Message\", field_id: \"message\" }] }] }\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 1: Wedding - Premium 8 pages\n    await db.insert(templates).values({\n      slug: \"wedding-video-premium\",\n      templateName: \"शादी वीडियो - प्रीमियम\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2900.00\",\n      durationSec: 60,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"video\", \"premium\", \"cinematic\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a2.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Title\", value: \"शादी\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Mantra\", value: \"|| श्री गणेशाय नमः ||\", ae_layer: \"Mantra\", field_id: \"mantra\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Couple\", value: \"दुल्हन और दूल्हा\", ae_layer: \"Couple\", field_id: \"couple\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Event\", value: \"हल्दी समारोह\", ae_layer: \"Event\", field_id: \"event\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Mehndi\", value: \"मेहंदी रस्म\", ae_layer: \"Mehndi\", field_id: \"mehndi\" }] },\n        { page_id: \"P6\", page_number: 6, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Sangeet\", value: \"संगीत संध्या\", ae_layer: \"Sangeet\", field_id: \"sangeet\" }] },\n        { page_id: \"P7\", page_number: 7, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Reception\", value: \"रिसेप्शन पार्टी\", ae_layer: \"Reception\", field_id: \"reception\" }] },\n        { page_id: \"P8\", page_number: 8, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Thanks\", value: \"धन्यवाद\", ae_layer: \"Thanks\", field_id: \"thanks\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 2: Wedding - Royal 6 pages\n    await db.insert(templates).values({\n      slug: \"wedding-video-royal\",\n      templateName: \"विवाह - रॉयल स्टाइल\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2500.00\",\n      durationSec: 50,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"video\", \"royal\", \"grand\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a3.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Royal\", value: \"राजसी विवाह\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Names\", value: \"वर और वधु\", ae_layer: \"Names\", field_id: \"names\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Date\", value: \"शादी की तारीख\", ae_layer: \"Date\", field_id: \"date\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Venue\", value: \"स्थान\", ae_layer: \"Venue\", field_id: \"venue\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Events\", value: \"कार्यक्रम\", ae_layer: \"Events\", field_id: \"events\" }] },\n        { page_id: \"P6\", page_number: 6, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Contact\", value: \"संपर्क करें\", ae_layer: \"Contact\", field_id: \"contact\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 3: Wedding - Traditional 5 pages\n    await db.insert(templates).values({\n      slug: \"wedding-video-traditional\",\n      templateName: \"पारंपरिक शादी वीडियो\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2000.00\",\n      durationSec: 45,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"video\", \"traditional\", \"hindu\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a4.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Welcome\", value: \"स्वागत है\", ae_layer: \"Welcome\", field_id: \"welcome\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Blessing\", value: \"आशीर्वाद\", ae_layer: \"Blessing\", field_id: \"blessing\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Couple\", value: \"जोड़ी\", ae_layer: \"Couple\", field_id: \"couple\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Ceremony\", value: \"विवाह संस्कार\", ae_layer: \"Ceremony\", field_id: \"ceremony\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Farewell\", value: \"विदाई\", ae_layer: \"Farewell\", field_id: \"farewell\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 4: Wedding - Modern 4 pages\n    await db.insert(templates).values({\n      slug: \"wedding-video-modern\",\n      templateName: \"मॉडर्न शादी इन्वाइट\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"1800.00\",\n      durationSec: 35,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"video\", \"modern\", \"contemporary\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a9.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Modern\", value: \"मॉडर्न विवाह\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Us\", value: \"हम दोनों\", ae_layer: \"Us\", field_id: \"us\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"When\", value: \"कब और कहाँ\", ae_layer: \"When\", field_id: \"when\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Join\", value: \"शामिल हों\", ae_layer: \"Join\", field_id: \"join\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 5: Birthday - Grand 7 pages\n    await db.insert(templates).values({\n      slug: \"birthday-video-grand\",\n      templateName: \"ग्रैंड बर्थडे - वीडियो\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2200.00\",\n      durationSec: 50,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"birthday\", \"video\", \"grand\", \"celebration\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a1.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Birthday\", value: \"जन्मदिन की पार्टी\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Name\", value: \"मुख्य अतिथि\", ae_layer: \"Name\", field_id: \"name\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Age\", value: \"उम्र मुबारक\", ae_layer: \"Age\", field_id: \"age\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Theme\", value: \"थीम पार्टी\", ae_layer: \"Theme\", field_id: \"theme\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Venue\", value: \"पार्टी का स्थान\", ae_layer: \"Venue\", field_id: \"venue\" }] },\n        { page_id: \"P6\", page_number: 6, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Time\", value: \"समय और तारीख\", ae_layer: \"Time\", field_id: \"time\" }] },\n        { page_id: \"P7\", page_number: 7, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Thanks\", value: \"आपका स्वागत है\", ae_layer: \"Thanks\", field_id: \"thanks\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 6: Birthday - Kids 5 pages\n    await db.insert(templates).values({\n      slug: \"birthday-video-kids\",\n      templateName: \"किड्स बर्थडे - मस्ती\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"1600.00\",\n      durationSec: 40,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"birthday\", \"video\", \"kids\", \"fun\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a2.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Fun\", value: \"मस्ती का दिन\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Child\", value: \"बच्चे का नाम\", ae_layer: \"Child\", field_id: \"child\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Games\", value: \"खेल कूद\", ae_layer: \"Games\", field_id: \"games\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Cake\", value: \"केक काटेंगे\", ae_layer: \"Cake\", field_id: \"cake\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Join\", value: \"जरूर आना\", ae_layer: \"Join\", field_id: \"join\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 7: Birthday - Adult 3 pages\n    await db.insert(templates).values({\n      slug: \"birthday-video-adult\",\n      templateName: \"बड़ों का जन्मदिन\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"1400.00\",\n      durationSec: 30,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"birthday\", \"video\", \"adult\", \"elegant\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a3.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Celebration\", value: \"जश्न मनाएं\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Person\", value: \"जन्मदिन मनाने वाले\", ae_layer: \"Person\", field_id: \"person\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Details\", value: \"विवरण\", ae_layer: \"Details\", field_id: \"details\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 8: Anniversary - Golden 6 pages\n    await db.insert(templates).values({\n      slug: \"anniversary-video-golden\",\n      templateName: \"गोल्डन एनिवर्सरी वीडियो\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2600.00\",\n      durationSec: 55,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"video\", \"golden\", \"premium\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a4.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Golden\", value: \"50 साल पूरे\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Couple\", value: \"प्यारा जोड़ा\", ae_layer: \"Couple\", field_id: \"couple\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Journey\", value: \"यादों का सफर\", ae_layer: \"Journey\", field_id: \"journey\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Family\", value: \"परिवार\", ae_layer: \"Family\", field_id: \"family\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Celebration\", value: \"समारोह\", ae_layer: \"Celebration\", field_id: \"celebration\" }] },\n        { page_id: \"P6\", page_number: 6, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Blessings\", value: \"आशीर्वाद दें\", ae_layer: \"Blessings\", field_id: \"blessings\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 9: Anniversary - Silver 4 pages\n    await db.insert(templates).values({\n      slug: \"anniversary-video-silver\",\n      templateName: \"सिल्वर एनिवर्सरी\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"1900.00\",\n      durationSec: 40,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"video\", \"silver\", \"celebration\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a9.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Silver\", value: \"25 साल का प्यार\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Together\", value: \"साथ-साथ\", ae_layer: \"Together\", field_id: \"together\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Party\", value: \"पार्टी में आइए\", ae_layer: \"Party\", field_id: \"party\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Wishes\", value: \"शुभकामनाएं\", ae_layer: \"Wishes\", field_id: \"wishes\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // PORTRAIT VIDEO 10: Anniversary - Love 3 pages\n    await db.insert(templates).values({\n      slug: \"anniversary-video-love\",\n      templateName: \"प्यार की सालगिरह\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"1500.00\",\n      durationSec: 30,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"portrait\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"video\", \"love\", \"romantic\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a1.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Love\", value: \"प्यार का जश्न\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Us\", value: \"हम दोनों\", ae_layer: \"Us\", field_id: \"us\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Celebrate\", value: \"मनाइए हमारे साथ\", ae_layer: \"Celebrate\", field_id: \"celebrate\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    console.log(\"✅ Added 16 PORTRAIT templates (6 cards + 10 videos)\");\n\n    // ========== 12 LANDSCAPE TEMPLATES (4 cards + 8 videos) ==========\n\n    // LANDSCAPE CARD 1: Wedding\n    await db.insert(templates).values({\n      slug: \"wedding-card-landscape\",\n      templateName: \"शादी कार्ड - लैंडस्केप\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"1300.00\",\n      durationSec: 15,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"card\", \"landscape\", \"wide\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a2.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Title\", value: \"विवाह समारोह\", ae_layer: \"Title\", field_id: \"title\" }] }] }\n    }).onConflictDoNothing();\n\n    // LANDSCAPE CARD 2: Birthday\n    await db.insert(templates).values({\n      slug: \"birthday-card-landscape\",\n      templateName: \"बर्थडे कार्ड - वाइड\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"850.00\",\n      durationSec: 12,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"birthday\", \"card\", \"landscape\", \"party\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a3.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Birthday\", value: \"जन्मदिन पार्टी\", ae_layer: \"Title\", field_id: \"title\" }] }] }\n    }).onConflictDoNothing();\n\n    // LANDSCAPE CARD 3: Anniversary\n    await db.insert(templates).values({\n      slug: \"anniversary-card-landscape\",\n      templateName: \"एनिवर्सरी - लैंडस्केप\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"1050.00\",\n      durationSec: 15,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedpho_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"card\", \"landscape\", \"celebration\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a4.png\",\n      templateJson: { pages: [{ page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Anniversary\", value: \"सालगिरह मुबारक\", ae_layer: \"Title\", field_id: \"title\" }] }] }\n    }).onConflictDoNothing();\n\n    // LANDSCAPE CARD 4: Wedding Simple 2 pages\n    await db.insert(templates).values({\n      slug: \"wedding-simple-landscape\",\n      templateName: \"सिंपल शादी - वाइड\",\n      templateType: \"card\",\n      currency: \"INR\",\n      price: \"1450.00\",\n      durationSec: 20,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"card\", \"landscape\", \"simple\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a9.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Welcome\", value: \"स्वागत\", ae_layer: \"Welcome\", field_id: \"welcome\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Details\", value: \"विवरण\", ae_layer: \"Details\", field_id: \"details\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // LANDSCAPE VIDEO 1: Wedding Cinematic 5 pages\n    await db.insert(templates).values({\n      slug: \"wedding-cinematic-landscape\",\n      templateName: \"सिनेमैटिक शादी - वाइड\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2700.00\",\n      durationSec: 50,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"video\", \"landscape\", \"cinematic\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a1.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Opening\", value: \"शुभारंभ\", ae_layer: \"Opening\", field_id: \"opening\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Story\", value: \"हमारी कहानी\", ae_layer: \"Story\", field_id: \"story\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Wedding\", value: \"शादी\", ae_layer: \"Wedding\", field_id: \"wedding\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Invitation\", value: \"निमंत्रण\", ae_layer: \"Invitation\", field_id: \"invitation\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"End\", value: \"धन्यवाद\", ae_layer: \"End\", field_id: \"end\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // LANDSCAPE VIDEO 2: Wedding Grand 4 pages\n    await db.insert(templates).values({\n      slug: \"wedding-grand-landscape\",\n      templateName: \"ग्रैंड शादी - लैंडस्केप\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2300.00\",\n      durationSec: 40,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"video\", \"landscape\", \"grand\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a2.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Grand\", value: \"भव्य विवाह\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Couple\", value: \"वर-वधू\", ae_layer: \"Couple\", field_id: \"couple\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Events\", value: \"समारोह\", ae_layer: \"Events\", field_id: \"events\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Join\", value: \"पधारें\", ae_layer: \"Join\", field_id: \"join\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // LANDSCAPE VIDEO 3: Wedding Traditional 3 pages\n    await db.insert(templates).values({\n      slug: \"wedding-traditional-landscape\",\n      templateName: \"पारंपरिक विवाह - वाइड\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"1850.00\",\n      durationSec: 35,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"wedding\", \"video\", \"landscape\", \"traditional\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a3.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Traditional\", value: \"पारंपरिक रस्म\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Family\", value: \"परिवार\", ae_layer: \"Family\", field_id: \"family\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Invite\", value: \"आमंत्रण\", ae_layer: \"Invite\", field_id: \"invite\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // LANDSCAPE VIDEO 4: Birthday Party 6 pages\n    await db.insert(templates).values({\n      slug: \"birthday-party-landscape\",\n      templateName: \"बर्थडे पार्टी - वाइड वीडियो\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2100.00\",\n      durationSec: 45,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"birthday\", \"video\", \"landscape\", \"party\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a4.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Party\", value: \"पार्टी टाइम\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Birthday\", value: \"जन्मदिन\", ae_layer: \"Birthday\", field_id: \"birthday\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Celebration\", value: \"जश्न\", ae_layer: \"Celebration\", field_id: \"celebration\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Fun\", value: \"मस्ती\", ae_layer: \"Fun\", field_id: \"fun\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Venue\", value: \"स्थान\", ae_layer: \"Venue\", field_id: \"venue\" }] },\n        { page_id: \"P6\", page_number: 6, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"RSVP\", value: \"आरएसवीपी\", ae_layer: \"RSVP\", field_id: \"rsvp\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // LANDSCAPE VIDEO 5: Birthday Kids 4 pages\n    await db.insert(templates).values({\n      slug: \"birthday-kids-landscape\",\n      templateName: \"किड्स पार्टी - लैंडस्केप\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"1700.00\",\n      durationSec: 35,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"birthday\", \"video\", \"landscape\", \"kids\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a9.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Kids\", value: \"बच्चों की पार्टी\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Child\", value: \"बच्चा\", ae_layer: \"Child\", field_id: \"child\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Theme\", value: \"थीम\", ae_layer: \"Theme\", field_id: \"theme\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Come\", value: \"आओ\", ae_layer: \"Come\", field_id: \"come\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // LANDSCAPE VIDEO 6: Anniversary Celebration 5 pages\n    await db.insert(templates).values({\n      slug: \"anniversary-celebration-landscape\",\n      templateName: \"एनिवर्सरी सेलिब्रेशन - वाइड\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2400.00\",\n      durationSec: 45,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"video\", \"landscape\", \"celebration\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a1.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Anniversary\", value: \"सालगिरह\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Years\", value: \"साल\", ae_layer: \"Years\", field_id: \"years\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Love\", value: \"प्यार\", ae_layer: \"Love\", field_id: \"love\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Celebrate\", value: \"मनाएं\", ae_layer: \"Celebrate\", field_id: \"celebrate\" }] },\n        { page_id: \"P5\", page_number: 5, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Thanks\", value: \"शुक्रिया\", ae_layer: \"Thanks\", field_id: \"thanks\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // LANDSCAPE VIDEO 7: Anniversary Romantic 3 pages\n    await db.insert(templates).values({\n      slug: \"anniversary-romantic-landscape\",\n      templateName: \"रोमांटिक सालगिरह - वाइड\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"1650.00\",\n      durationSec: 30,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"video\", \"landscape\", \"romantic\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a2.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Romance\", value: \"रोमांस\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Together\", value: \"साथ\", ae_layer: \"Together\", field_id: \"together\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a4.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Forever\", value: \"हमेशा\", ae_layer: \"Forever\", field_id: \"forever\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    // LANDSCAPE VIDEO 8: Anniversary Special 4 pages\n    await db.insert(templates).values({\n      slug: \"anniversary-special-landscape\",\n      templateName: \"स्पेशल एनिवर्सरी - लैंडस्केप\",\n      templateType: \"video\",\n      currency: \"INR\",\n      price: \"2000.00\",\n      durationSec: 40,\n      previewImageUrl: \"/attached_assets/Traditional-Indian-Wedding-Invitation-with-Couple-Portrait-Marigold-Garlands-Red-Gold-Theme_1763619463803.jpg\",\n      previewVideoUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n      orientation: \"landscape\",\n      photoOption: \"with_photo\",\n      templateTags: [\"anniversary\", \"video\", \"landscape\", \"special\"],\n      thumbnailUrl: \"/api/media/Ind/IndWedpho_a3.png\",\n      templateJson: { pages: [\n        { page_id: \"P1\", page_number: 1, media: [{ url: \"/api/media/Ind/IndWedpho_a9.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Special\", value: \"विशेष दिन\", ae_layer: \"Title\", field_id: \"title\" }] },\n        { page_id: \"P2\", page_number: 2, media: [{ url: \"/api/media/Ind/IndWedpho_a1.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Milestone\", value: \"मील का पत्थर\", ae_layer: \"Milestone\", field_id: \"milestone\" }] },\n        { page_id: \"P3\", page_number: 3, media: [{ url: \"/api/media/Ind/IndWedpho_a2.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Party\", value: \"पार्टी\", ae_layer: \"Party\", field_id: \"party\" }] },\n        { page_id: \"P4\", page_number: 4, media: [{ url: \"/api/media/Ind/IndWedpho_a3.png\", type: \"image\", position: \"background\" }], fields: [{ type: \"text\", label: \"Join Us\", value: \"शामिल हों\", ae_layer: \"JoinUs\", field_id: \"joinus\" }] }\n      ]}\n    }).onConflictDoNothing();\n\n    console.log(\"✅ Added 12 LANDSCAPE templates (4 cards + 8 videos)\");\n    console.log(\"✅ Total NEW templates added: 28 (16 portrait + 12 landscape)\");\n\n    if (!user1 || !user2 || !template1 || !template2) {\n      console.log(\"⚠️ Some records already exist, skipping project/order creation\");\n      return;\n    }\n\n    // Project 1: User 1 customizing Template 1 (PAID)\n    const [project1] = await db\n      .insert(projects)\n      .values({\n        userId: user1.id,\n        templateId: template1.id,\n        customization: {\n          pages: [\n            {\n              media: [\n                {\n                  url: \"/api/media/Ind/IndWedpho_a1.png\",\n                  type: \"image\",\n                  position: \"background\"\n                }\n              ],\n              fields: [\n                {\n                  type: \"text\",\n                  label: \"Main Title Line 1\",\n                  value: \"शादी\",\n                  ae_layer: \"Page1_TitleLine1\",\n                  field_id: \"title_1\"\n                },\n                {\n                  type: \"text\",\n                  label: \"Main Title Line 2\",\n                  value: \"का न्योता\",\n                  ae_layer: \"Page1_TitleLine2\",\n                  field_id: \"title_2\"\n                }\n              ],\n              page_id: \"P1\",\n              page_number: 1\n            }\n          ]\n        },\n        status: \"completed\",\n        previewUrl: \"/api/media/Ind/IndWedVid_a.mp4\",\n        finalUrl: \"/downloads/user1_final_wedding.mp4\",\n        paidAt: new Date(),\n      })\n      .returning();\n\n    console.log(\"✅ Project 1 created for User 1 (PAID)\");\n\n    // Project 2: User 2 customizing Template 2 (NOT PAID - draft)\n    const [project2] = await db\n      .insert(projects)\n      .values({\n        userId: user2.id,\n        templateId: template2.id,\n        customization: {\n          pages: [\n            {\n              media: [\n                {\n                  url: \"/api/media/Ind/IndWedpho_a1.png\",\n                  type: \"image\",\n                  position: \"background\"\n                }\n              ],\n              fields: [\n                {\n                  type: \"text\",\n                  label: \"Main Title Line 1\",\n                  value: \"विवाह\",\n                  ae_layer: \"Page1_TitleLine1\",\n                  field_id: \"title_1\"\n                }\n              ],\n              page_id: \"P1\",\n              page_number: 1\n            }\n          ]\n        },\n        status: \"draft\",\n        previewUrl: null,\n        finalUrl: null,\n        paidAt: null,\n      })\n      .returning();\n\n    console.log(\"✅ Project 2 created for User 2 (NOT PAID - draft)\");\n\n    // Order 1: For User 1's paid project\n    const [order1] = await db\n      .insert(orders)\n      .values({\n        orderNumber: \"ORD-20250120-001\",\n        userId: user1.id,\n        projectId: project1.id,\n        templateId: template1.id,\n        amount: \"1200.00\",\n        currency: \"INR\",\n        status: \"paid\",\n        paymentProvider: \"razorpay\",\n        providerOrderId: \"order_razorpay_123456\",\n      })\n      .returning();\n\n    console.log(\"✅ Order 1 created (PAID)\");\n\n    // Payment 1: Successful payment for Order 1\n    await db\n      .insert(payments)\n      .values({\n        orderId: order1.id,\n        provider: \"razorpay\",\n        status: \"success\",\n        amount: \"1200.00\",\n        currency: \"INR\",\n        payload: {\n          razorpay_payment_id: \"pay_razorpay_abc123\",\n          razorpay_order_id: \"order_razorpay_123456\",\n          razorpay_signature: \"signature_xyz789\",\n        },\n      });\n\n    console.log(\"✅ Payment 1 created (SUCCESS)\");\n\n    // User Template 1: Purchase record for User 1\n    await db\n      .insert(userTemplates)\n      .values({\n        userId: user1.id,\n        projectId: project1.id,\n        purchaseAmount: \"1200.00\",\n        razorpayOrderId: \"order_razorpay_123456\",\n        razorpayPaymentId: \"pay_razorpay_abc123\",\n      });\n\n    console.log(\"✅ User Template 1 created (purchase record)\");\n\n    console.log(\"✅ Database seeded successfully!\");\n    console.log(\"\\n📊 Summary:\");\n    console.log(\"- 6 Music tracks: wedding & birthday categories\");\n    console.log(\"- 2 Users: Aarti (PAID), Rajesh (NOT PAID)\");\n    console.log(\"- 2 Templates: Indian Hindu Wedding templates\");\n    console.log(\"- 2 Projects: 1 completed & paid, 1 draft\");\n    console.log(\"- 1 Order & Payment: User 1's successful purchase\");\n  } catch (error) {\n    console.error(\"❌ Error seeding database:\", error);\n    throw error;\n  }\n}\n\n// Run the seed function if this file is executed directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  seed()\n    .then(() => {\n      console.log(\"✨ Seeding complete!\");\n      process.exit(0);\n    })\n    .catch((error) => {\n      console.error(\"💥 Seeding failed:\", error);\n      process.exit(1);\n    });\n}\n","path":null,"size_bytes":66855,"size_tokens":null},"client/src/pages/Templates.tsx":{"content":"import { useState, useEffect, useMemo, useRef, useCallback } from \"react\";\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\nimport { useRoute, useLocation } from \"wouter\";\nimport type { Template } from \"@shared/schema\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { TemplateCard } from \"@/components/TemplateCard\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { SlidersHorizontal, X, Loader2, Sparkles } from \"lucide-react\";\nimport templatesHubHero from \"@assets/generated_images/Templates_hub_hero_image_bf0e94da.png\";\n\ninterface PaginatedResponse {\n  templates: Template[];\n  pagination: {\n    total: number;\n    offset: number;\n    limit: number;\n    hasMore: boolean;\n  };\n}\n\nconst TEMPLATES_PER_PAGE = 25;\n\ninterface FilterState {\n  subcategory: string | null;\n  category: string | null;\n  region: string | null;\n  type: string | null;\n  orientation: string | null;\n  photo: string | null;\n  sort: string | null;\n}\n\nconst ALL_TEMPLATES_CATEGORIES = [\n  { value: \"wedding\", label: \"Wedding\" },\n  { value: \"birthday\", label: \"Birthday\" },\n  { value: \"anniversary\", label: \"Anniversary\" },\n  { value: \"engagement\", label: \"Engagement\" },\n  { value: \"baby_shower\", label: \"Baby Shower\" },\n  { value: \"housewarming\", label: \"Housewarming\" },\n  { value: \"corporate\", label: \"Corporate Events\" },\n];\n\nconst REGION_FILTERS = [\n  { value: \"india\", label: \"India\" },\n  { value: \"uae\", label: \"UAE\" },\n  { value: \"saudi\", label: \"Saudi Arabia\" },\n  { value: \"gulf\", label: \"Gulf Region\" },\n  { value: \"south_asia\", label: \"South Asia\" },\n];\n\nconst WEDDING_SUBCATEGORIES = [\n  { value: \"save_the_date\", label: \"Save the Date\" },\n  { value: \"engagement\", label: \"Engagement Ceremony\" },\n  { value: \"hindu_wedding\", label: \"Hindu Wedding\" },\n  { value: \"south_indian\", label: \"South Indian\" },\n  { value: \"marathi\", label: \"Marathi\" },\n  { value: \"rajasthani\", label: \"Rajasthani\" },\n  { value: \"jain\", label: \"Jain\" },\n  { value: \"punjabi\", label: \"Punjabi\" },\n  { value: \"muslim\", label: \"Muslim\" },\n  { value: \"christian\", label: \"Christian\" },\n  { value: \"bengali\", label: \"Bengali\" },\n  { value: \"arabic\", label: \"Arabic\" },\n  { value: \"gulf_wedding\", label: \"Gulf Wedding\" },\n];\n\nconst BIRTHDAY_SUBCATEGORIES = [\n  { value: \"birthday_invite\", label: \"Birthday Invites\" },\n  { value: \"kids_birthday\", label: \"Kids Birthday\" },\n  { value: \"adult_milestone\", label: \"Adult Milestones\" },\n  { value: \"first_birthday\", label: \"First Birthday\" },\n  { value: \"sweet_16\", label: \"Sweet 16\" },\n];\n\nconst TEMPLATE_TYPES = [\n  { value: \"video\", label: \"Video\" },\n  { value: \"card\", label: \"Card\" },\n];\n\nconst SORT_OPTIONS = [\n  { value: \"popular\", label: \"Popular\" },\n  { value: \"newest\", label: \"Newest\" },\n  { value: \"price_low\", label: \"Low to High\" },\n  { value: \"price_high\", label: \"High to Low\" },\n];\n\nconst PHOTO_OPTIONS = [\n  { value: \"with_photo\", label: \"WithPhoto\" },\n  { value: \"without_photo\", label: \"WithoutPhoto\" },\n];\n\nconst ORIENTATION_OPTIONS = [\n  { value: \"portrait\", label: \"Portrait\" },\n  { value: \"landscape\", label: \"Landscape\" },\n];\n\nexport default function Templates() {\n  const [, params] = useRoute(\"/templates/:category\");\n  const categoryFromUrl = params?.category?.toLowerCase();\n  const [location, setLocation] = useLocation();\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n\n  const [filters, setFilters] = useState<FilterState>({\n    subcategory: null,\n    category: null,\n    region: null,\n    type: null,\n    orientation: null,\n    photo: null,\n    sort: null,\n  });\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    setFilters({\n      subcategory: urlParams.get(\"subcategory\"),\n      category: urlParams.get(\"category\"),\n      region: urlParams.get(\"region\"),\n      type: urlParams.get(\"type\"),\n      orientation: urlParams.get(\"orientation\"),\n      photo: urlParams.get(\"photo\"),\n      sort: urlParams.get(\"sort\"),\n    });\n  }, [location]);\n\n  const urlUpdateTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  \n  useEffect(() => {\n    return () => {\n      if (urlUpdateTimeoutRef.current) {\n        clearTimeout(urlUpdateTimeoutRef.current);\n      }\n    };\n  }, []);\n  \n  const updateFilters = (newFilters: Partial<FilterState>) => {\n    const updatedFilters = { ...filters, ...newFilters };\n    setFilters(updatedFilters);\n\n    if (urlUpdateTimeoutRef.current) {\n      clearTimeout(urlUpdateTimeoutRef.current);\n    }\n\n    urlUpdateTimeoutRef.current = setTimeout(() => {\n      const params = new URLSearchParams();\n      Object.entries(updatedFilters).forEach(([key, value]) => {\n        if (value) params.set(key, value);\n      });\n\n      const basePath = categoryFromUrl ? `/templates/${categoryFromUrl}` : \"/templates\";\n      const queryString = params.toString();\n      setLocation(queryString ? `${basePath}?${queryString}` : basePath, { replace: true });\n    }, 150);\n  };\n\n  const clearAllFilters = () => {\n    setFilters({\n      subcategory: null,\n      category: null,\n      region: null,\n      type: null,\n      orientation: null,\n      photo: null,\n      sort: null,\n    });\n    const basePath = categoryFromUrl ? `/templates/${categoryFromUrl}` : \"/templates\";\n    setLocation(basePath, { replace: true });\n  };\n\n  const buildApiUrl = (offset: number = 0) => {\n    const params = new URLSearchParams();\n    if (categoryFromUrl) {\n      params.set(\"category\", categoryFromUrl);\n    } else if (filters.category) {\n      params.set(\"category\", filters.category);\n    }\n    if (filters.subcategory) params.set(\"subcategory\", filters.subcategory);\n    if (filters.region) params.set(\"region\", filters.region);\n    if (filters.type) params.set(\"type\", filters.type);\n    if (filters.orientation) params.set(\"orientation\", filters.orientation);\n    if (filters.photo) params.set(\"photo\", filters.photo);\n    if (filters.sort) params.set(\"sort\", filters.sort);\n    params.set(\"offset\", offset.toString());\n    params.set(\"limit\", TEMPLATES_PER_PAGE.toString());\n    return `/api/templates?${params.toString()}`;\n  };\n\n  const {\n    data,\n    isLoading,\n    error,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n  } = useInfiniteQuery<PaginatedResponse>({\n    queryKey: [\"/api/templates\", categoryFromUrl, filters],\n    queryFn: async ({ pageParam = 0 }) => {\n      const response = await fetch(buildApiUrl(pageParam as number));\n      if (!response.ok) throw new Error(\"Failed to fetch templates\");\n      return response.json();\n    },\n    getNextPageParam: (lastPage) => {\n      if (lastPage.pagination.hasMore) {\n        return lastPage.pagination.offset + lastPage.pagination.limit;\n      }\n      return undefined;\n    },\n    initialPageParam: 0,\n    staleTime: 5 * 60 * 1000, // Cache for 5 minutes - templates don't change often\n    gcTime: 10 * 60 * 1000, // Keep in cache for 10 minutes\n    refetchOnWindowFocus: false,\n  });\n\n  const templates = useMemo(() => {\n    return data?.pages.flatMap((page) => page.templates) || [];\n  }, [data]);\n\n  const totalCount = data?.pages[0]?.pagination.total || 0;\n\n  const loadMoreRef = useRef<HTMLDivElement>(null);\n\n  const handleObserver = useCallback(\n    (entries: IntersectionObserverEntry[]) => {\n      const [target] = entries;\n      if (target.isIntersecting && hasNextPage && !isFetchingNextPage) {\n        fetchNextPage();\n      }\n    },\n    [fetchNextPage, hasNextPage, isFetchingNextPage]\n  );\n\n  useEffect(() => {\n    const element = loadMoreRef.current;\n    if (!element) return;\n\n    const observer = new IntersectionObserver(handleObserver, {\n      root: null,\n      rootMargin: \"200px\",\n      threshold: 0,\n    });\n\n    observer.observe(element);\n    return () => observer.disconnect();\n  }, [handleObserver]);\n\n  const subcategories = useMemo(() => {\n    if (categoryFromUrl === \"wedding\") return WEDDING_SUBCATEGORIES;\n    if (categoryFromUrl === \"birthday\") return BIRTHDAY_SUBCATEGORIES;\n    return [];\n  }, [categoryFromUrl]);\n\n  const isAllTemplatesPage = !categoryFromUrl;\n\n  const activeFiltersCount = [\n    filters.type,\n    filters.orientation,\n    filters.photo,\n    filters.sort,\n    filters.region,\n    !categoryFromUrl && filters.category,\n  ].filter(Boolean).length;\n\n  const getPageTitle = () => {\n    if (categoryFromUrl === \"wedding\") return \"Wedding Invitations\";\n    if (categoryFromUrl === \"birthday\") return \"Birthday Invitations\";\n    return \"All Templates\";\n  };\n\n  const getPageDescription = () => {\n    if (categoryFromUrl === \"wedding\") {\n      return \"Create stunning digital wedding invitations with our easy-to-use templates. Personalize with your own photos, text, and music. Let's make your wedding special together!\";\n    }\n    if (categoryFromUrl === \"birthday\") {\n      return \"Design fun and festive digital birthday invitations with our easy-to-use templates. Personalize with photos, text, and music to make your celebration unforgettable.\";\n    }\n    return \"Cinematic video invitation templates designed for every culture and celebration\";\n  };\n\n  const getHeroTitle = () => {\n    if (categoryFromUrl === \"wedding\") return \"WEDDING INVITATIONS\";\n    if (categoryFromUrl === \"birthday\") return \"BIRTHDAY INVITATIONS\";\n    return \"Explore Our Templates\";\n  };\n\n  const getHeroSubtitle = () => {\n    if (categoryFromUrl === \"wedding\") return \"Sacred, vibrant & deeply traditional\";\n    if (categoryFromUrl === \"birthday\") return \"Fun, colorful & celebratory\";\n    return \"\";\n  };\n\n  const FilterChip = ({ \n    label, \n    isSelected, \n    onClick \n  }: { \n    label: string; \n    isSelected: boolean; \n    onClick: () => void;\n  }) => (\n    <button\n      onClick={onClick}\n      className={`px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium transition-all border whitespace-nowrap ${\n        isSelected\n          ? \"bg-primary text-primary-foreground border-primary shadow-sm\"\n          : \"bg-card text-foreground border-border hover:border-primary/50 hover:bg-accent/30\"\n      }`}\n      data-testid={`filter-chip-${label.toLowerCase().replace(/\\s+/g, \"-\")}`}\n    >\n      {label}\n    </button>\n  );\n\n  const FilterOption = ({ \n    label, \n    isSelected, \n    onClick,\n    testId\n  }: { \n    label: string; \n    isSelected: boolean; \n    onClick: () => void;\n    testId: string;\n  }) => (\n    <button\n      onClick={onClick}\n      className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all border ${\n        isSelected\n          ? \"bg-primary text-primary-foreground border-primary\"\n          : \"bg-background text-foreground border-border hover:border-primary/40\"\n      }`}\n      data-testid={testId}\n    >\n      {label}\n    </button>\n  );\n\n  const collectionPageSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"CollectionPage\",\n    \"name\": `${getPageTitle()} - Video Invitation Templates`,\n    \"description\": getPageDescription(),\n    \"url\": `https://weddinginvite.ai/templates${categoryFromUrl ? `/${categoryFromUrl}` : ''}`,\n    \"mainEntity\": {\n      \"@type\": \"Product\",\n      \"name\": categoryFromUrl === \"wedding\" ? \"Wedding Video Invitation Templates\" : \n              categoryFromUrl === \"birthday\" ? \"Birthday Video Invitation Templates\" : \"Video Invitation Templates\",\n      \"description\": getPageDescription(),\n      \"brand\": {\n        \"@type\": \"Brand\",\n        \"name\": \"WeddingInvite.ai\"\n      },\n      \"aggregateRating\": {\n        \"@type\": \"AggregateRating\",\n        \"ratingValue\": \"4.8\",\n        \"reviewCount\": \"2847\",\n        \"bestRating\": \"5\",\n        \"worstRating\": \"1\"\n      },\n      \"offers\": {\n        \"@type\": \"AggregateOffer\",\n        \"priceCurrency\": \"INR\",\n        \"lowPrice\": \"199\",\n        \"highPrice\": \"999\",\n        \"offerCount\": \"500\"\n      }\n    }\n  };\n\n  return (\n    <>\n      <SEOHead\n        title={`${getPageTitle()} - Video Invitation Templates`}\n        description={getPageDescription()}\n        keywords={`${categoryFromUrl || 'wedding birthday'} video templates, invitation templates, video creator, wedding invitation designs, indian wedding video, arabic wedding invitation`}\n        schema={[collectionPageSchema]}\n      />\n\n      <div className=\"relative min-h-[35vh] flex items-center justify-center overflow-hidden\" data-testid=\"hero-templates\">\n        <div className=\"absolute inset-0 z-0\">\n          <img\n            src={templatesHubHero}\n            alt=\"Video Templates\"\n            className=\"w-full h-full object-cover\"\n            loading=\"eager\"\n            decoding=\"async\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/70\" />\n        </div>\n\n        <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-16 text-center\">\n          <h1 className=\"font-playfair text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-2 leading-tight tracking-wide\">\n            {getHeroTitle()}\n          </h1>\n          {getHeroSubtitle() && (\n            <p className=\"text-white/80 text-sm lg:text-base font-medium mb-3\">\n              {getHeroSubtitle()}\n            </p>\n          )}\n          <p className=\"text-white/70 text-xs lg:text-sm max-w-xl mx-auto leading-relaxed\">\n            {getPageDescription()}\n          </p>\n        </div>\n      </div>\n\n      <section className=\"py-6 lg:py-8 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          \n          <div className=\"flex flex-col gap-3 mb-4\">\n            {/* First row: Filters button + designs count (mobile) or all in one row (desktop) */}\n            <div className=\"flex items-center justify-between sm:hidden\">\n              <div className=\"relative flex-shrink-0\">\n                <button\n                  onClick={() => setIsFilterOpen(!isFilterOpen)}\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-full bg-card hover:bg-accent/50 border border-border text-foreground font-medium text-sm transition-all\"\n                  data-testid=\"button-open-filters\"\n                >\n                  <SlidersHorizontal className=\"w-4 h-4\" />\n                  <span>Filters</span>\n                  {activeFiltersCount > 0 && (\n                    <span className=\"flex items-center justify-center w-5 h-5 rounded-full bg-primary text-primary-foreground text-xs font-bold\">\n                      {activeFiltersCount}\n                    </span>\n                  )}\n                </button>\n              \n                {isFilterOpen && (\n                  <>\n                    <div \n                      className=\"fixed inset-0 z-40\" \n                      onClick={() => setIsFilterOpen(false)}\n                    />\n                    <div className=\"absolute left-0 top-full mt-2 w-72 p-4 rounded-xl border bg-card shadow-lg z-50\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"flex items-center gap-2 text-sm font-semibold\">\n                          <SlidersHorizontal className=\"w-4 h-4\" />\n                          Filters\n                        </div>\n                        <button \n                          onClick={() => setIsFilterOpen(false)}\n                          className=\"text-muted-foreground hover:text-foreground\"\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n\n                      <div className=\"space-y-4\">\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Type</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {TEMPLATE_TYPES.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.type === option.value}\n                                onClick={() => updateFilters({ type: filters.type === option.value ? null : option.value })}\n                                testId={`filter-type-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Sort by</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {SORT_OPTIONS.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.sort === option.value}\n                                onClick={() => updateFilters({ sort: filters.sort === option.value ? null : option.value })}\n                                testId={`filter-sort-by-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Photo</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {PHOTO_OPTIONS.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.photo === option.value}\n                                onClick={() => updateFilters({ photo: filters.photo === option.value ? null : option.value })}\n                                testId={`filter-photo-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Card Orientation</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {ORIENTATION_OPTIONS.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.orientation === option.value}\n                                onClick={() => updateFilters({ orientation: filters.orientation === option.value ? null : option.value })}\n                                testId={`filter-card-orientation-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Region</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {REGION_FILTERS.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.region === option.value}\n                                onClick={() => updateFilters({ region: filters.region === option.value ? null : option.value })}\n                                testId={`filter-region-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"flex gap-2 mt-5 pt-4 border-t\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"flex-1 rounded-full\"\n                          onClick={clearAllFilters}\n                          data-testid=\"button-clear-all-filters\"\n                        >\n                          Clear All\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          className=\"flex-1 rounded-full\"\n                          onClick={() => setIsFilterOpen(false)}\n                          data-testid=\"button-apply-filters\"\n                        >\n                          Apply\n                        </Button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n\n              <div className=\"flex items-center gap-2 text-muted-foreground flex-shrink-0\">\n                <Sparkles className=\"w-4 h-4 text-primary\" />\n                <span className=\"text-sm font-medium\">\n                  {totalCount > 0 ? `${totalCount} designs` : \"Loading...\"}\n                </span>\n              </div>\n            </div>\n\n            {/* Mobile: Horizontal scrollable filter chips */}\n            <div className=\"sm:hidden overflow-x-scroll scrollbar-hide -mx-4 px-4 pb-1\" style={{ WebkitOverflowScrolling: 'touch' }}>\n              <div className=\"flex gap-2 flex-nowrap\">\n                {isAllTemplatesPage ? (\n                  <>\n                    {ALL_TEMPLATES_CATEGORIES.map((cat) => (\n                      <FilterChip\n                        key={cat.value}\n                        label={cat.label}\n                        isSelected={filters.category === cat.value}\n                        onClick={() => updateFilters({ \n                          category: filters.category === cat.value ? null : cat.value \n                        })}\n                      />\n                    ))}\n                    <div className=\"w-px h-6 bg-border mx-1 self-center flex-shrink-0\" />\n                    {REGION_FILTERS.map((region) => (\n                      <FilterChip\n                        key={region.value}\n                        label={region.label}\n                        isSelected={filters.region === region.value}\n                        onClick={() => updateFilters({ \n                          region: filters.region === region.value ? null : region.value \n                        })}\n                      />\n                    ))}\n                  </>\n                ) : subcategories.length > 0 ? (\n                  subcategories.map((sub) => (\n                    <FilterChip\n                      key={sub.value}\n                      label={sub.label}\n                      isSelected={filters.subcategory === sub.value}\n                      onClick={() => updateFilters({ \n                        subcategory: filters.subcategory === sub.value ? null : sub.value \n                      })}\n                    />\n                  ))\n                ) : null}\n              </div>\n            </div>\n\n            {/* Desktop: Original layout */}\n            <div className=\"hidden sm:flex sm:items-start gap-3\">\n              <div className=\"relative flex-shrink-0\">\n                <button\n                  onClick={() => setIsFilterOpen(!isFilterOpen)}\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-full bg-card hover:bg-accent/50 border border-border text-foreground font-medium text-sm transition-all\"\n                  data-testid=\"button-open-filters-desktop\"\n                >\n                  <SlidersHorizontal className=\"w-4 h-4\" />\n                  <span>Filters</span>\n                  {activeFiltersCount > 0 && (\n                    <span className=\"flex items-center justify-center w-5 h-5 rounded-full bg-primary text-primary-foreground text-xs font-bold\">\n                      {activeFiltersCount}\n                    </span>\n                  )}\n                </button>\n              \n                {isFilterOpen && (\n                  <>\n                    <div \n                      className=\"fixed inset-0 z-40\" \n                      onClick={() => setIsFilterOpen(false)}\n                    />\n                    <div className=\"absolute left-0 top-full mt-2 w-72 p-4 rounded-xl border bg-card shadow-lg z-50\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"flex items-center gap-2 text-sm font-semibold\">\n                          <SlidersHorizontal className=\"w-4 h-4\" />\n                          Filters\n                        </div>\n                        <button \n                          onClick={() => setIsFilterOpen(false)}\n                          className=\"text-muted-foreground hover:text-foreground\"\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n\n                      <div className=\"space-y-4\">\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Type</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {TEMPLATE_TYPES.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.type === option.value}\n                                onClick={() => updateFilters({ type: filters.type === option.value ? null : option.value })}\n                                testId={`filter-type-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Sort by</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {SORT_OPTIONS.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.sort === option.value}\n                                onClick={() => updateFilters({ sort: filters.sort === option.value ? null : option.value })}\n                                testId={`filter-sort-by-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Photo</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {PHOTO_OPTIONS.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.photo === option.value}\n                                onClick={() => updateFilters({ photo: filters.photo === option.value ? null : option.value })}\n                                testId={`filter-photo-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Card Orientation</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {ORIENTATION_OPTIONS.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.orientation === option.value}\n                                onClick={() => updateFilters({ orientation: filters.orientation === option.value ? null : option.value })}\n                                testId={`filter-card-orientation-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"text-sm font-medium text-foreground mb-2 block\">Region</label>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {REGION_FILTERS.map((option) => (\n                              <FilterOption\n                                key={option.value}\n                                label={option.label}\n                                isSelected={filters.region === option.value}\n                                onClick={() => updateFilters({ region: filters.region === option.value ? null : option.value })}\n                                testId={`filter-region-${option.value}`}\n                              />\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"flex gap-2 mt-5 pt-4 border-t\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"flex-1 rounded-full\"\n                          onClick={clearAllFilters}\n                          data-testid=\"button-clear-all-filters\"\n                        >\n                          Clear All\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          className=\"flex-1 rounded-full\"\n                          onClick={() => setIsFilterOpen(false)}\n                          data-testid=\"button-apply-filters\"\n                        >\n                          Apply\n                        </Button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n\n              {isAllTemplatesPage ? (\n                <div className=\"flex flex-wrap gap-2 flex-1\">\n                  {ALL_TEMPLATES_CATEGORIES.map((cat) => (\n                    <FilterChip\n                      key={cat.value}\n                      label={cat.label}\n                      isSelected={filters.category === cat.value}\n                      onClick={() => updateFilters({ \n                        category: filters.category === cat.value ? null : cat.value \n                      })}\n                    />\n                  ))}\n                  <div className=\"w-px h-6 bg-border mx-1 self-center\" />\n                  {REGION_FILTERS.map((region) => (\n                    <FilterChip\n                      key={region.value}\n                      label={region.label}\n                      isSelected={filters.region === region.value}\n                      onClick={() => updateFilters({ \n                        region: filters.region === region.value ? null : region.value \n                      })}\n                    />\n                  ))}\n                </div>\n              ) : subcategories.length > 0 ? (\n                <div className=\"flex flex-wrap gap-2 flex-1\">\n                  {subcategories.map((sub) => (\n                    <FilterChip\n                      key={sub.value}\n                      label={sub.label}\n                      isSelected={filters.subcategory === sub.value}\n                      onClick={() => updateFilters({ \n                        subcategory: filters.subcategory === sub.value ? null : sub.value \n                      })}\n                    />\n                  ))}\n                </div>\n              ) : null}\n\n              <div className=\"flex items-center gap-2 text-muted-foreground flex-shrink-0\">\n                <Sparkles className=\"w-4 h-4 text-primary\" />\n                <span className=\"text-sm font-medium\">\n                  {totalCount > 0 ? `${totalCount} designs` : \"Loading...\"}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {(filters.subcategory || filters.category || filters.region || activeFiltersCount > 0) && (\n            <div className=\"flex items-center gap-2 mb-4 flex-wrap\">\n              <span className=\"text-xs text-muted-foreground\">Active:</span>\n              {filters.category && isAllTemplatesPage && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {ALL_TEMPLATES_CATEGORIES.find(c => c.value === filters.category)?.label || filters.category}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => updateFilters({ category: null })}\n                  />\n                </Badge>\n              )}\n              {filters.region && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {REGION_FILTERS.find(r => r.value === filters.region)?.label || filters.region}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => updateFilters({ region: null })}\n                  />\n                </Badge>\n              )}\n              {filters.subcategory && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {subcategories.find(s => s.value === filters.subcategory)?.label || filters.subcategory}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => updateFilters({ subcategory: null })}\n                  />\n                </Badge>\n              )}\n              {filters.type && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {TEMPLATE_TYPES.find(t => t.value === filters.type)?.label}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => updateFilters({ type: null })}\n                  />\n                </Badge>\n              )}\n              {filters.orientation && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {ORIENTATION_OPTIONS.find(o => o.value === filters.orientation)?.label}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => updateFilters({ orientation: null })}\n                  />\n                </Badge>\n              )}\n              {filters.photo && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {PHOTO_OPTIONS.find(p => p.value === filters.photo)?.label}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => updateFilters({ photo: null })}\n                  />\n                </Badge>\n              )}\n              {filters.sort && (\n                <Badge variant=\"secondary\" className=\"gap-1 text-xs\">\n                  {SORT_OPTIONS.find(s => s.value === filters.sort)?.label}\n                  <X \n                    className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                    onClick={() => updateFilters({ sort: null })}\n                  />\n                </Badge>\n              )}\n              <button\n                onClick={clearAllFilters}\n                className=\"text-xs text-primary hover:text-primary/80 font-medium hover:underline\"\n                data-testid=\"button-clear-filters-inline\"\n              >\n                Clear all\n              </button>\n            </div>\n          )}\n\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-20\" data-testid=\"loading-templates\">\n              <div className=\"text-center\">\n                <Loader2 className=\"w-10 h-10 text-primary animate-spin mx-auto mb-4\" />\n                <p className=\"text-muted-foreground\">Loading templates...</p>\n              </div>\n            </div>\n          ) : error ? (\n            <Card className=\"p-10 text-center\" data-testid=\"error-templates\">\n              <div className=\"max-w-md mx-auto\">\n                <div className=\"w-14 h-14 rounded-full bg-destructive/10 flex items-center justify-center mx-auto mb-4\">\n                  <X className=\"w-7 h-7 text-destructive\" />\n                </div>\n                <h3 className=\"font-playfair text-xl font-bold text-foreground mb-2\">\n                  Failed to Load Templates\n                </h3>\n                <p className=\"text-muted-foreground text-sm mb-5\">\n                  {error instanceof Error ? error.message : \"An error occurred while loading templates\"}\n                </p>\n                <Button onClick={() => window.location.reload()} data-testid=\"button-retry\">\n                  Try Again\n                </Button>\n              </div>\n            </Card>\n          ) : templates.length === 0 ? (\n            <Card className=\"p-10 text-center\" data-testid=\"empty-templates\">\n              <div className=\"max-w-md mx-auto\">\n                <h3 className=\"font-playfair text-xl font-bold text-foreground mb-2\">\n                  No Templates Found\n                </h3>\n                <p className=\"text-muted-foreground text-sm mb-5\">\n                  Try adjusting your filters to see more results\n                </p>\n                <Button onClick={clearAllFilters} variant=\"outline\" data-testid=\"button-clear-filters-empty\">\n                  Clear Filters\n                </Button>\n              </div>\n            </Card>\n          ) : (\n            <>\n              <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n                {templates.map((template: any) => (\n                  <TemplateCard\n                    key={template.id}\n                    id={template.id}\n                    title={template.title}\n                    slug={template.slug}\n                    category={template.category}\n                    duration={template.duration}\n                    thumbnailUrl={template.thumbnailUrl}\n                    demoVideoUrl={template.demoVideoUrl}\n                    templateType={template.templateType}\n                    isPremium={template.isPremium}\n                    pageCount={template.pageCount}\n                    price={template.price}\n                  />\n                ))}\n                \n                {isFetchingNextPage && (\n                  <>\n                    {[...Array(5)].map((_, i) => (\n                      <div key={`skeleton-${i}`} className=\"space-y-2\">\n                        <Skeleton className=\"aspect-[3/4] w-full rounded-lg\" />\n                        <Skeleton className=\"h-4 w-3/4\" />\n                        <Skeleton className=\"h-3 w-1/2\" />\n                      </div>\n                    ))}\n                  </>\n                )}\n              </div>\n\n              <div \n                ref={loadMoreRef} \n                className=\"h-10 flex items-center justify-center mt-6\"\n                data-testid=\"infinite-scroll-trigger\"\n              >\n                {isFetchingNextPage && (\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                    <span className=\"text-sm\">Loading more...</span>\n                  </div>\n                )}\n                {!hasNextPage && templates.length > 0 && (\n                  <p className=\"text-sm text-muted-foreground\">\n                    You've seen all {totalCount} templates\n                  </p>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":39594,"size_tokens":null},"client/src/pages/Pricing.tsx":{"content":"import { SEOHead } from \"@/components/SEOHead\";\nimport { PricingCard } from \"@/components/PricingCard\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\n\nexport default function Pricing() {\n  const pricingTiers = [\n    {\n      name: \"Free\",\n      price: 0,\n      description: \"Perfect for trying out our platform\",\n      features: [\n        \"1 video invitation per month\",\n        \"720p HD quality\",\n        \"Basic templates (50+)\",\n        \"WeddingInvite.ai watermark\",\n        \"WhatsApp sharing\",\n        \"Community support\",\n      ],\n      ctaText: \"Get Started Free\",\n      ctaUrl: \"/templates\",\n    },\n    {\n      name: \"Personal\",\n      price: 29,\n      period: \"video\",\n      description: \"Best for individual events\",\n      features: [\n        \"Unlimited customization\",\n        \"4K Ultra HD quality\",\n        \"All templates (500+)\",\n        \"No watermark\",\n        \"All sharing platforms\",\n        \"AI voiceover (10+ languages)\",\n        \"Custom music upload\",\n        \"Priority support\",\n        \"Commercial use rights\",\n      ],\n      isPopular: true,\n      ctaText: \"Create Video\",\n      ctaUrl: \"/templates\",\n    },\n    {\n      name: \"Pro Creator\",\n      price: 99,\n      period: \"month\",\n      description: \"For event planners and professionals\",\n      features: [\n        \"Everything in Personal\",\n        \"10 videos per month\",\n        \"Advanced AI editing\",\n        \"Brand customization\",\n        \"Team collaboration (3 members)\",\n        \"Analytics dashboard\",\n        \"Client management\",\n        \"Bulk export options\",\n        \"Priority rendering\",\n        \"Dedicated account manager\",\n      ],\n      ctaText: \"Start Pro Trial\",\n      ctaUrl: \"/templates\",\n    },\n    {\n      name: \"Premium Studio\",\n      price: 299,\n      description: \"Custom cinematic video creation\",\n      features: [\n        \"Fully custom video production\",\n        \"Professional videographer\",\n        \"Script writing service\",\n        \"Professional voiceover artist\",\n        \"Original music composition\",\n        \"Unlimited revisions\",\n        \"7-10 day delivery\",\n        \"Full commercial rights\",\n        \"Dedicated project manager\",\n      ],\n      ctaText: \"Request Custom Video\",\n      ctaUrl: \"/contact\",\n    },\n  ];\n\n  const faqs = [\n    {\n      question: \"What file formats are supported?\",\n      answer: \"All videos are exported in MP4 format (H.264 codec) optimized for social media platforms. You can download in 1080p HD or 4K UHD quality depending on your plan.\",\n    },\n    {\n      question: \"How long does it take to create a video?\",\n      answer: \"With our AI-powered editor, you can create and customize a video invitation in just 10-15 minutes. Rendering typically takes 2-5 minutes depending on video length and quality.\",\n    },\n    {\n      question: \"Can I get a refund?\",\n      answer: \"We offer a 14-day money-back guarantee on all paid plans. If you're not satisfied with your video, contact our support team for a full refund - no questions asked.\",\n    },\n    {\n      question: \"How many revisions are included?\",\n      answer: \"Personal and Pro Creator plans include unlimited self-service revisions. Premium Studio package includes unlimited revisions with our team until you're 100% satisfied.\",\n    },\n    {\n      question: \"Which languages are supported for AI voiceover?\",\n      answer: \"We support 20+ languages including English, Hindi, Tamil, Telugu, Punjabi, Arabic, Spanish, French, Mandarin, and more. Multiple accent options available for each language.\",\n    },\n    {\n      question: \"Can I use my own music?\",\n      answer: \"Yes! Personal, Pro Creator, and Premium Studio plans allow you to upload your own music. Please ensure you have proper rights to use the music in your video.\",\n    },\n    {\n      question: \"What's included in Premium Studio?\",\n      answer: \"Our Premium Studio service includes a dedicated videographer, script writer, professional voiceover artist, original music composition, and unlimited revisions until perfect. Delivery in 7-10 days.\",\n    },\n    {\n      question: \"Can I share videos on WhatsApp?\",\n      answer: \"Absolutely! All plans include optimized export for WhatsApp, Instagram Reels, Instagram Stories, TikTok, Facebook, and general download for any platform.\",\n    },\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title=\"Pricing Plans - Video Invitation Creator\"\n        description=\"Choose the perfect plan for creating cinematic video invitations. From free trial to premium custom video production. 14-day money-back guarantee.\"\n        keywords=\"video invitation pricing, wedding video cost, invitation creator plans, premium video production\"\n      />\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-gradient-to-b from-background to-card\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h1 className=\"font-playfair text-5xl lg:text-6xl font-bold text-foreground mb-4\">\n              Choose Your Plan\n            </h1>\n            <p className=\"text-muted-foreground text-lg lg:text-xl max-w-2xl mx-auto\">\n              Create stunning video invitations at any budget. Start free or unlock premium features.\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8 mb-16\">\n            {pricingTiers.map((tier) => (\n              <PricingCard key={tier.name} {...tier} />\n            ))}\n          </div>\n\n          <div className=\"max-w-4xl mx-auto\">\n            <h2 className=\"font-playfair text-3xl lg:text-4xl font-bold text-foreground mb-8 text-center\">\n              Frequently Asked Questions\n            </h2>\n            <Accordion type=\"single\" collapsible className=\"w-full\">\n              {faqs.map((faq, index) => (\n                <AccordionItem key={index} value={`item-${index}`}>\n                  <AccordionTrigger className=\"text-left font-semibold text-foreground\">\n                    {faq.question}\n                  </AccordionTrigger>\n                  <AccordionContent className=\"text-muted-foreground\">\n                    {faq.answer}\n                  </AccordionContent>\n                </AccordionItem>\n              ))}\n            </Accordion>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":6338,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"server/objectAcl.ts":{"content":"import { File } from \"@google-cloud/storage\";\n\nconst ACL_POLICY_METADATA_KEY = \"custom:aclPolicy\";\n\nexport enum ObjectAccessGroupType {}\n\nexport interface ObjectAccessGroup {\n  type: ObjectAccessGroupType;\n  id: string;\n}\n\nexport enum ObjectPermission {\n  READ = \"read\",\n  WRITE = \"write\",\n}\n\nexport interface ObjectAclRule {\n  group: ObjectAccessGroup;\n  permission: ObjectPermission;\n}\n\nexport interface ObjectAclPolicy {\n  owner: string;\n  visibility: \"public\" | \"private\";\n  aclRules?: Array<ObjectAclRule>;\n}\n\nfunction isPermissionAllowed(\n  requested: ObjectPermission,\n  granted: ObjectPermission,\n): boolean {\n  if (requested === ObjectPermission.READ) {\n    return [ObjectPermission.READ, ObjectPermission.WRITE].includes(granted);\n  }\n  return granted === ObjectPermission.WRITE;\n}\n\nabstract class BaseObjectAccessGroup implements ObjectAccessGroup {\n  constructor(\n    public readonly type: ObjectAccessGroupType,\n    public readonly id: string,\n  ) {}\n\n  public abstract hasMember(userId: string): Promise<boolean>;\n}\n\nfunction createObjectAccessGroup(\n  group: ObjectAccessGroup,\n): BaseObjectAccessGroup {\n  switch (group.type) {\n    default:\n      throw new Error(`Unknown access group type: ${group.type}`);\n  }\n}\n\nexport async function setObjectAclPolicy(\n  objectFile: File,\n  aclPolicy: ObjectAclPolicy,\n): Promise<void> {\n  const [exists] = await objectFile.exists();\n  if (!exists) {\n    throw new Error(`Object not found: ${objectFile.name}`);\n  }\n\n  await objectFile.setMetadata({\n    metadata: {\n      [ACL_POLICY_METADATA_KEY]: JSON.stringify(aclPolicy),\n    },\n  });\n}\n\nexport async function getObjectAclPolicy(\n  objectFile: File,\n): Promise<ObjectAclPolicy | null> {\n  const [metadata] = await objectFile.getMetadata();\n  const aclPolicy = metadata?.metadata?.[ACL_POLICY_METADATA_KEY];\n  if (!aclPolicy) {\n    return null;\n  }\n  return JSON.parse(aclPolicy as string);\n}\n\nexport async function canAccessObject({\n  userId,\n  objectFile,\n  requestedPermission,\n}: {\n  userId?: string;\n  objectFile: File;\n  requestedPermission: ObjectPermission;\n}): Promise<boolean> {\n  const aclPolicy = await getObjectAclPolicy(objectFile);\n  if (!aclPolicy) {\n    return false;\n  }\n\n  if (\n    aclPolicy.visibility === \"public\" &&\n    requestedPermission === ObjectPermission.READ\n  ) {\n    return true;\n  }\n\n  if (!userId) {\n    return false;\n  }\n\n  if (aclPolicy.owner === userId) {\n    return true;\n  }\n\n  for (const rule of aclPolicy.aclRules || []) {\n    const accessGroup = createObjectAccessGroup(rule.group);\n    if (\n      (await accessGroup.hasMember(userId)) &&\n      isPermissionAllowed(requestedPermission, rule.permission)\n    ) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","path":null,"size_bytes":2707,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"client/src/pages/Editor.tsx":{"content":"import { useRoute, useLocation } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useState, useRef, useEffect, useCallback } from \"react\";\nimport type { Template, Music as MusicType } from \"@shared/schema\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { \n  Loader2, X, Download, Eye, ArrowLeft, ChevronLeft, ChevronRight, \n  Upload, Image as ImageIcon, Crop, ZoomIn, ZoomOut, Check, \n  GripVertical, Music, Play, Pause, MoveDown, Trash2, Undo2, Redo2, AlertTriangle,\n  Sparkles, CreditCard, Volume2, VolumeX\n} from \"lucide-react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { AuthModal } from \"@/components/AuthModal\";\nimport { PaymentModal as PaymentModalComponent } from \"@/components/PaymentModal\";\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  TouchSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent,\n} from \"@dnd-kit/core\";\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  useSortable,\n  verticalListSortingStrategy,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\n\ninterface EditableField {\n  id: string;\n  type: 'text' | 'textarea' | 'image';\n  label: string;\n  defaultValue?: string;\n  maxLength?: number;\n}\n\ninterface CropBox {\n  srcX: number;\n  srcY: number;\n  srcWidth: number;\n  srcHeight: number;\n  canvasWidth: number;\n  canvasHeight: number;\n}\n\nfunction computeCropBox(\n  imgWidth: number,\n  imgHeight: number,\n  aspectRatio: string,\n  zoomPercent: number\n): CropBox {\n  const zoomFactor = Math.max(1, zoomPercent / 100);\n\n  let targetAspect = 1;\n  if (aspectRatio === '16:9') targetAspect = 16 / 9;\n  else if (aspectRatio === '9:16') targetAspect = 9 / 16;\n  else if (aspectRatio === '1:1') targetAspect = 1;\n  else targetAspect = imgWidth / imgHeight;\n\n  const canvasWidth = 800;\n  const canvasHeight = Math.round(canvasWidth / targetAspect);\n\n  const imgAspect = imgWidth / imgHeight;\n  let baseSrcWidth, baseSrcHeight;\n\n  if (imgAspect > targetAspect) {\n    baseSrcHeight = imgHeight;\n    baseSrcWidth = baseSrcHeight * targetAspect;\n  } else {\n    baseSrcWidth = imgWidth;\n    baseSrcHeight = baseSrcWidth / targetAspect;\n  }\n\n  const srcWidth = baseSrcWidth / zoomFactor;\n  const srcHeight = baseSrcHeight / zoomFactor;\n\n  const srcX = (imgWidth - baseSrcWidth) / 2 + (baseSrcWidth - srcWidth) / 2;\n  const srcY = (imgHeight - baseSrcHeight) / 2 + (baseSrcHeight - srcHeight) / 2;\n\n  return { srcX, srcY, srcWidth, srcHeight, canvasWidth, canvasHeight };\n}\n\ninterface CropModalProps {\n  imageUrl: string;\n  onConfirm: (croppedImage: string) => void;\n  onCancel: () => void;\n}\n\nfunction CropModal({ imageUrl, onConfirm, onCancel }: CropModalProps) {\n  const [zoom, setZoom] = useState([100]);\n  const [aspectRatio, setAspectRatio] = useState<'16:9' | '9:16' | '1:1' | 'free'>('9:16');\n  const [previewUrl, setPreviewUrl] = useState<string>('');\n  const previewCanvasRef = useRef<HTMLCanvasElement>(null);\n\n  const updatePreview = () => {\n    const canvas = previewCanvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n\n    img.onload = () => {\n      const cropBox = computeCropBox(img.width, img.height, aspectRatio, zoom[0]);\n\n      canvas.width = cropBox.canvasWidth;\n      canvas.height = cropBox.canvasHeight;\n\n      if (ctx) {\n        ctx.drawImage(\n          img,\n          cropBox.srcX, cropBox.srcY, cropBox.srcWidth, cropBox.srcHeight,\n          0, 0, cropBox.canvasWidth, cropBox.canvasHeight\n        );\n        setPreviewUrl(canvas.toDataURL('image/png'));\n      }\n    };\n\n    img.src = imageUrl;\n  };\n\n  useEffect(() => {\n    updatePreview();\n  }, [zoom, aspectRatio, imageUrl]);\n\n  const handleConfirm = () => {\n    if (previewUrl) {\n      onConfirm(previewUrl);\n    }\n  };\n\n  return (\n    <Dialog open onOpenChange={(open) => !open && onCancel()}>\n      <DialogContent className=\"max-w-3xl\">\n        <DialogHeader>\n          <DialogTitle>Crop & Resize Image</DialogTitle>\n          <DialogDescription>\n            Adjust zoom and crop area for your image\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          <canvas ref={previewCanvasRef} className=\"hidden\" />\n          \n          <div className=\"relative bg-muted rounded-md overflow-hidden flex items-center justify-center min-h-[300px]\">\n            {previewUrl ? (\n              <img \n                src={previewUrl}\n                alt=\"Crop preview\"\n                className=\"max-w-full max-h-[400px] object-contain\"\n              />\n            ) : (\n              <p className=\"text-muted-foreground\">Loading preview...</p>\n            )}\n          </div>\n\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center justify-between\">\n              <Label className=\"flex items-center gap-2\">\n                <ZoomOut className=\"w-4 h-4\" />\n                Zoom\n                <ZoomIn className=\"w-4 h-4\" />\n              </Label>\n              <span className=\"text-sm text-muted-foreground\">{zoom[0]}%</span>\n            </div>\n            <Slider\n              value={zoom}\n              onValueChange={setZoom}\n              min={100}\n              max={200}\n              step={5}\n              data-testid=\"slider-zoom\"\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>Aspect Ratio</Label>\n            <div className=\"flex gap-2\">\n              {(['9:16', '16:9', '1:1', 'free'] as const).map((ratio) => (\n                <Button\n                  key={ratio}\n                  variant={aspectRatio === ratio ? 'default' : 'outline'}\n                  size=\"sm\"\n                  onClick={() => setAspectRatio(ratio)}\n                  data-testid={`button-aspect-${ratio}`}\n                >\n                  {ratio === 'free' ? 'Free' : ratio}\n                </Button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={onCancel} data-testid=\"button-crop-cancel\">\n            Cancel\n          </Button>\n          <Button onClick={handleConfirm} data-testid=\"button-crop-confirm\">\n            <Crop className=\"w-4 h-4 mr-2\" />\n            Apply Crop\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\ninterface ImageUploadFieldProps {\n  fieldName: string;\n  preview: string | null;\n  onSelect: (file: File) => void;\n  onRemove: () => void;\n}\n\nfunction ImageUploadField({ fieldName, preview, onSelect, onRemove }: ImageUploadFieldProps) {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [showCropModal, setShowCropModal] = useState(false);\n  const [tempImageUrl, setTempImageUrl] = useState<string | null>(null);\n  const [tempFile, setTempFile] = useState<File | null>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file && file.type.startsWith('image/')) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setTempImageUrl(reader.result as string);\n        setTempFile(file);\n        setShowCropModal(true);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleCropConfirm = (croppedDataUrl: string) => {\n    fetch(croppedDataUrl)\n      .then(res => res.blob())\n      .then(blob => {\n        const croppedFile = new File([blob], tempFile?.name || 'cropped-image.png', { type: 'image/png' });\n        onSelect(croppedFile);\n        setShowCropModal(false);\n        setTempImageUrl(null);\n        setTempFile(null);\n      });\n  };\n\n  const handleCropCancel = () => {\n    setShowCropModal(false);\n    setTempImageUrl(null);\n    setTempFile(null);\n  };\n\n  const handleUploadClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  return (\n    <>\n      {showCropModal && tempImageUrl && (\n        <CropModal\n          imageUrl={tempImageUrl}\n          onConfirm={handleCropConfirm}\n          onCancel={handleCropCancel}\n        />\n      )}\n      <div className=\"space-y-2\">\n        {preview ? (\n          <div className=\"relative aspect-[9/16] rounded-md overflow-hidden bg-muted border border-border\">\n            <img \n              src={preview} \n              alt={`Preview for ${fieldName}`}\n              className=\"w-full h-full object-cover\"\n              data-testid={`img-preview-${fieldName}`}\n            />\n            <div className=\"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\n              <Button\n                variant=\"secondary\"\n                size=\"sm\"\n                onClick={handleUploadClick}\n                data-testid={`button-replace-${fieldName}`}\n              >\n                <Upload className=\"w-3 h-3 mr-1\" />\n                Replace\n              </Button>\n              <Button\n                variant=\"destructive\"\n                size=\"sm\"\n                onClick={onRemove}\n                data-testid={`button-remove-${fieldName}`}\n              >\n                <X className=\"w-3 h-3 mr-1\" />\n                Remove\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <div\n            className=\"aspect-[9/16] bg-muted rounded-md flex flex-col items-center justify-center border-2 border-dashed border-border cursor-pointer hover-elevate active-elevate-2 transition-colors\"\n            onClick={handleUploadClick}\n            data-testid={`dropzone-${fieldName}`}\n          >\n            <ImageIcon className=\"w-6 h-6 text-muted-foreground mb-2\" />\n            <p className=\"text-xs text-muted-foreground font-medium\">Click to upload</p>\n          </div>\n        )}\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          className=\"hidden\"\n          onChange={handleFileChange}\n          data-testid={`input-file-${fieldName}`}\n        />\n      </div>\n    </>\n  );\n}\n\ninterface PreviewLoadingScreenProps {\n  progress: number;\n  onClose: () => void;\n}\n\nfunction PreviewLoadingScreen({ progress, onClose }: PreviewLoadingScreenProps) {\n  return (\n    <div className=\"fixed inset-0 bg-background/95 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-lg p-6\">\n        <div className=\"text-center space-y-4\">\n          <div className=\"flex justify-center\">\n            <div className=\"relative w-24 h-24\">\n              <svg className=\"transform -rotate-90 w-24 h-24\">\n                <circle cx=\"48\" cy=\"48\" r=\"40\" stroke=\"currentColor\" strokeWidth=\"6\" fill=\"transparent\" className=\"text-muted\" />\n                <circle\n                  cx=\"48\" cy=\"48\" r=\"40\" stroke=\"currentColor\" strokeWidth=\"6\" fill=\"transparent\"\n                  strokeDasharray={`${2 * Math.PI * 40}`}\n                  strokeDashoffset={`${2 * Math.PI * 40 * (1 - progress / 100)}`}\n                  className=\"text-primary transition-all duration-500\"\n                  strokeLinecap=\"round\"\n                />\n              </svg>\n              <div className=\"absolute inset-0 flex items-center justify-center\">\n                <span className=\"text-2xl font-bold text-foreground\">{progress}%</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-primary/10 border border-primary/20 rounded-md p-3\">\n            <p className=\"text-primary font-medium text-sm\">\n              Creating your video... Please wait!\n            </p>\n          </div>\n\n          <div className=\"text-left space-y-2 text-sm\">\n            <div className=\"flex items-center gap-2 text-muted-foreground\">\n              <Check className=\"w-4 h-4 text-green-500\" />\n              <span>Video will be ready in 2-3 minutes</span>\n            </div>\n            <div className=\"flex items-center gap-2 text-muted-foreground\">\n              <Check className=\"w-4 h-4 text-green-500\" />\n              <span>Pay only when you like the preview</span>\n            </div>\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\ninterface PreviewModalProps {\n  previewUrl: string;\n  onClose: () => void;\n  onDownload: () => void;\n  downloadEnabled: boolean;\n}\n\nfunction PreviewModal({ previewUrl, onClose, onDownload, downloadEnabled }: PreviewModalProps) {\n  return (\n    <Dialog open={true} onOpenChange={(open) => { if (!open) onClose(); }}>\n      <DialogContent \n        className=\"max-w-2xl\"\n        onPointerDownOutside={onClose}\n        onEscapeKeyDown={onClose}\n        data-testid=\"modal-preview-generated\"\n      >\n        <DialogHeader>\n          <DialogTitle>Preview</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          <div className=\"relative bg-muted rounded-md overflow-hidden flex items-center justify-center\">\n            <img \n              src={previewUrl}\n              alt=\"Preview\"\n              className=\"max-w-full max-h-[60vh] object-contain\"\n              data-testid=\"preview-modal-image\"\n            />\n          </div>\n\n          <div className=\"bg-primary/10 text-primary rounded-md p-3 text-sm text-center\">\n            This is a preview. The final video will be high quality without watermark.\n          </div>\n        </div>\n\n        <DialogFooter className=\"gap-2\">\n          <Button variant=\"outline\" onClick={onClose} data-testid=\"button-close-preview\">Close</Button>\n          <Button onClick={onDownload} disabled={!downloadEnabled} data-testid=\"button-download-hd\">\n            <Download className=\"w-4 h-4 mr-2\" />\n            Download HD\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction isUUID(str: string): boolean {\n  const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n  return uuidRegex.test(str);\n}\n\ninterface SortablePageItemProps {\n  page: any;\n  index: number;\n  isFirst: boolean;\n  isLast: boolean;\n  previewUrl?: string;\n}\n\nfunction SortablePageItem({ page, index, isFirst, isLast, previewUrl }: SortablePageItemProps) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: page.id });\n\n  const style = {\n    transform: transform ? `translate3d(${transform.x}px, ${transform.y}px, 0)` : undefined,\n    transition,\n    zIndex: isDragging ? 10 : 1,\n  };\n\n  // Use preview URL if available, otherwise fall back to thumbnail\n  const imageUrl = previewUrl || page.thumbnailUrl;\n\n  return (\n    <div ref={setNodeRef} style={style} className=\"flex flex-col items-center w-full\">\n      <div\n        {...attributes}\n        {...listeners}\n        className={`relative rounded-xl overflow-hidden cursor-grab active:cursor-grabbing transition-all touch-none select-none ${\n          isDragging \n            ? 'opacity-95 shadow-2xl ring-2 ring-primary scale-[1.02]' \n            : 'hover:ring-2 hover:ring-primary/50 shadow-md'\n        }`}\n        style={{ touchAction: 'none' }}\n        data-testid={`reorder-page-${index}`}\n      >\n        {/* Responsive page thumbnail - smaller on mobile, larger on desktop */}\n        <div className=\"w-28 xs:w-32 sm:w-40 md:w-44 aspect-[9/16] bg-muted flex-shrink-0\">\n          <img\n            src={imageUrl}\n            alt={page.pageName || `Page ${page.pageNumber}`}\n            className=\"w-full h-full object-cover pointer-events-none\"\n            draggable={false}\n          />\n        </div>\n        \n        {/* Page number badge */}\n        <div className=\"absolute bottom-2 left-1/2 -translate-x-1/2 bg-background/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-sm\">\n          <span className=\"text-xs font-semibold text-foreground\">Page {page.pageNumber}</span>\n        </div>\n        \n        {/* Drag handle indicator */}\n        <div className=\"absolute top-2 left-1/2 -translate-x-1/2 bg-background/80 backdrop-blur-sm rounded-full px-2 py-0.5\">\n          <GripVertical className=\"w-4 h-4 text-muted-foreground\" />\n        </div>\n      </div>\n      \n      {/* Simple connector line between pages */}\n      {!isLast && (\n        <div className=\"flex flex-col items-center py-3 sm:py-4\">\n          <div className=\"w-0.5 h-6 sm:h-8 bg-gradient-to-b from-border to-transparent rounded-full\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface ReorderPagesModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  pages: any[];\n  onConfirm: (newOrder: string[]) => void;\n  pagePreviewUrls?: Record<string, string>;\n}\n\nfunction ReorderPagesModal({ isOpen, onClose, pages, onConfirm, pagePreviewUrls = {} }: ReorderPagesModalProps) {\n  const [orderedPages, setOrderedPages] = useState(pages);\n\n  useEffect(() => {\n    setOrderedPages(pages);\n  }, [pages]);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: {\n        delay: 150,\n        tolerance: 8,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n\n    if (over && active.id !== over.id) {\n      setOrderedPages((items) => {\n        const oldIndex = items.findIndex((item) => item.id === active.id);\n        const newIndex = items.findIndex((item) => item.id === over.id);\n        return arrayMove(items, oldIndex, newIndex);\n      });\n    }\n  };\n\n  const handleConfirm = () => {\n    onConfirm(orderedPages.map((p) => p.id));\n    onClose();\n  };\n\n  const handleCancel = () => {\n    setOrderedPages(pages);\n    onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && handleCancel()}>\n      <DialogContent className=\"w-[95vw] max-w-lg sm:max-w-xl md:max-w-2xl h-[90vh] sm:h-[85vh] max-h-[90vh] p-0 overflow-hidden rounded-2xl\" hideCloseButton>\n        <DialogHeader className=\"sr-only\">\n          <DialogTitle>Re-order Pages</DialogTitle>\n        </DialogHeader>\n        {/* Header - Fixed at top */}\n        <div className=\"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 border-b bg-background/95 backdrop-blur-sm sticky top-0 z-10\">\n          <div className=\"flex flex-col\">\n            <h2 className=\"text-base sm:text-lg font-semibold\" aria-hidden=\"true\">Re-order Pages</h2>\n            <p className=\"text-xs text-muted-foreground hidden sm:block\">Drag to rearrange</p>\n          </div>\n          <div className=\"flex items-center gap-1 sm:gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleCancel}\n              className=\"h-8 px-3 text-xs sm:text-sm\"\n              data-testid=\"button-cancel-reorder\"\n            >\n              Cancel\n            </Button>\n            <Button\n              size=\"sm\"\n              onClick={handleConfirm}\n              className=\"h-8 px-3 text-xs sm:text-sm\"\n              data-testid=\"button-confirm-reorder\"\n            >\n              <Check className=\"w-4 h-4 mr-1 sm:mr-2\" />\n              Done\n            </Button>\n          </div>\n        </div>\n\n        {/* Scrollable content area */}\n        <ScrollArea className=\"flex-1 h-[calc(90vh-64px)] sm:h-[calc(85vh-72px)]\">\n          <div className=\"flex flex-col items-center py-6 sm:py-8 px-4 sm:px-6\">\n            {/* Mobile instruction */}\n            <div className=\"flex items-center gap-2 bg-muted/50 rounded-full px-4 py-2 mb-6\">\n              <GripVertical className=\"w-4 h-4 text-muted-foreground\" />\n              <p className=\"text-xs sm:text-sm text-muted-foreground\">Hold and drag to reorder</p>\n            </div>\n            \n            <DndContext\n              sensors={sensors}\n              collisionDetection={closestCenter}\n              onDragEnd={handleDragEnd}\n            >\n              <SortableContext\n                items={orderedPages.map((p) => p.id)}\n                strategy={verticalListSortingStrategy}\n              >\n                <div className=\"flex flex-col items-center gap-0 w-full max-w-xs sm:max-w-sm\">\n                  {orderedPages.map((page, index) => (\n                    <SortablePageItem\n                      key={page.id}\n                      page={page}\n                      index={index}\n                      isFirst={index === 0}\n                      isLast={index === orderedPages.length - 1}\n                      previewUrl={pagePreviewUrls[page.id]}\n                    />\n                  ))}\n                </div>\n              </SortableContext>\n            </DndContext>\n            \n            {/* Bottom padding for scroll */}\n            <div className=\"h-8\" />\n          </div>\n        </ScrollArea>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default function Editor() {\n  const [, params] = useRoute(\"/editor/:slug\");\n  const [location, navigate] = useLocation();\n  const slug = params?.slug;\n  const isEditingProject = slug ? isUUID(slug) : false;\n  \n  const searchParams = new URLSearchParams(window.location.search);\n  const fromPage = searchParams.get('from');\n\n  const [currentPageIndex, setCurrentPageIndex] = useState(0);\n  const [fieldValues, setFieldValues] = useState<Record<string, string>>({});\n  const [imageFiles, setImageFiles] = useState<Record<string, File>>({});\n  const [imagePreviews, setImagePreviews] = useState<Record<string, string>>({});\n  const [projectId, setProjectId] = useState<string | null>((isEditingProject && slug) ? slug : null);\n  const [showReorderModal, setShowReorderModal] = useState(false);\n  const [orderedPageIds, setOrderedPageIds] = useState<string[]>([]);\n  const [zoom, setZoom] = useState(100);\n  \n  // Pan/drag state for zoomed preview\n  const [panPosition, setPanPosition] = useState({ x: 0, y: 0 });\n  const [isPanning, setIsPanning] = useState(false);\n  const [panStart, setPanStart] = useState({ x: 0, y: 0 });\n  const previewContainerRef = useRef<HTMLDivElement>(null);\n  const previewCardRef = useRef<HTMLDivElement>(null);\n  \n  const [showPreviewLoading, setShowPreviewLoading] = useState(false);\n  const [previewProgress, setPreviewProgress] = useState(0);\n  const [showPreviewModal, setShowPreviewModal] = useState(false);\n  const [previewUrl, setPreviewUrl] = useState<string>('');\n  const [downloadEnabled, setDownloadEnabled] = useState(false);\n  const [downloadUrl, setDownloadUrl] = useState<string>('');\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [pendingPreview, setPendingPreview] = useState(false);\n  const [isAuthVerifying, setIsAuthVerifying] = useState(false);\n  \n  // Delete confirmation state\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [pageToDelete, setPageToDelete] = useState<{ id: string; index: number } | null>(null);\n  \n  // Preview coming soon modal\n  const [showPreviewComingSoon, setShowPreviewComingSoon] = useState(false);\n  \n  // Mobile UI state\n  const [showMobileEditSheet, setShowMobileEditSheet] = useState(false);\n  const [isMobileView, setIsMobileView] = useState(false);\n  \n  // Detect mobile viewport\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobileView(window.innerWidth < 768); // md breakpoint\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n  \n  // Page preview state - tracks preview index per page (cycles 0-3) and rendered preview URLs\n  const [pagePreviewIndices, setPagePreviewIndices] = useState<Record<string, number>>({});\n  const [pagePreviewUrls, setPagePreviewUrls] = useState<Record<string, string>>({});\n  const [isPreviewLoading, setIsPreviewLoading] = useState(false);\n  \n  // Music modal state\n  const [showMusicModal, setShowMusicModal] = useState(false);\n  const [selectedMusicId, setSelectedMusicId] = useState<string | null>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [audioProgress, setAudioProgress] = useState(0);\n  const [audioDurationSeconds, setAudioDurationSeconds] = useState(0);\n  const [audioCurrentSeconds, setAudioCurrentSeconds] = useState(0);\n  const [customMusicFile, setCustomMusicFile] = useState<File | null>(null);\n  const [customMusicUrl, setCustomMusicUrl] = useState<string | null>(null);\n  const [isMuted, setIsMuted] = useState(false);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n  const musicFileInputRef = useRef<HTMLInputElement>(null);\n  const customMusicUrlRef = useRef<string | null>(null); // Track URL for cleanup\n  \n  // Helper to check if custom music is active (either local file or any saved URL from server)\n  // Treat any non-null customMusicUrl as custom music (handles /api/media/, absolute URLs, signed URLs, etc.)\n  const hasCustomMusic = customMusicFile !== null || customMusicUrl !== null;\n  \n  // Fetch music library\n  const { data: musicLibrary, isLoading: musicLoading } = useQuery<{ music: MusicType[] }>({\n    queryKey: [\"/api/music\"],\n  });\n  \n  const formatTime = (seconds: number) => {\n    // Handle edge cases: NaN, Infinity, undefined, or negative values\n    if (!Number.isFinite(seconds) || seconds < 0) {\n      return '0:00';\n    }\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  \n  // Get current music URL based on selection\n  const getCurrentMusicUrl = useCallback(() => {\n    if (customMusicUrl) return customMusicUrl;\n    if (selectedMusicId && musicLibrary?.music) {\n      const track = musicLibrary.music.find(m => m.id === selectedMusicId);\n      if (track) return `/api/media/${track.url}`;\n    }\n    return null;\n  }, [selectedMusicId, musicLibrary, customMusicUrl]);\n  \n  // Get current music name\n  const getCurrentMusicName = useCallback(() => {\n    if (customMusicFile) return customMusicFile.name;\n    // Check for any saved custom music URL (from server)\n    if (customMusicUrl) {\n      return 'Custom Music';\n    }\n    if (selectedMusicId && musicLibrary?.music) {\n      const track = musicLibrary.music.find(m => m.id === selectedMusicId);\n      return track?.name || 'Default Music';\n    }\n    return 'No music selected';\n  }, [selectedMusicId, musicLibrary, customMusicFile, customMusicUrl]);\n  \n  // Get current music duration from library (for stock tracks) or from audio element (for custom uploads)\n  const getDisplayDuration = useCallback(() => {\n    if (selectedMusicId && musicLibrary?.music && !customMusicFile) {\n      const track = musicLibrary.music.find(m => m.id === selectedMusicId);\n      if (track) return track.duration;\n    }\n    // For custom uploads or when audio metadata is available\n    return audioDurationSeconds;\n  }, [selectedMusicId, musicLibrary, customMusicFile, audioDurationSeconds]);\n  \n  // Helper to safely revoke object URL\n  const revokeCustomMusicUrl = useCallback(() => {\n    if (customMusicUrlRef.current) {\n      URL.revokeObjectURL(customMusicUrlRef.current);\n      customMusicUrlRef.current = null;\n    }\n  }, []);\n  \n  // Upload custom music to object storage\n  const uploadCustomMusicToStorage = async (projId: string, file: File): Promise<string> => {\n    // Read file as base64\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = async () => {\n        try {\n          const base64Data = (reader.result as string).split(',')[1]; // Remove data:audio/... prefix\n          \n          const response = await apiRequest(\"POST\", `/api/projects/${projId}/music/upload`, {\n            audioData: base64Data,\n            filename: file.name,\n            mimeType: file.type,\n          });\n          \n          if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.error || \"Failed to upload music\");\n          }\n          \n          const data = await response.json();\n          resolve(data.musicUrl);\n        } catch (error) {\n          console.error(\"Error uploading music:\", error);\n          reject(error);\n        }\n      };\n      reader.onerror = () => reject(new Error(\"Failed to read file\"));\n      reader.readAsDataURL(file);\n    });\n  };\n  \n  const handleMusicFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file && file.type.startsWith('audio/')) {\n      // Revoke previous custom URL if exists\n      revokeCustomMusicUrl();\n      \n      setCustomMusicFile(file);\n      // Create object URL for playback\n      const url = URL.createObjectURL(file);\n      customMusicUrlRef.current = url; // Track for cleanup\n      setCustomMusicUrl(url);\n      setSelectedMusicId(null); // Clear stock music selection\n      // Reset playback state\n      setIsPlaying(false);\n      setAudioProgress(0);\n      setAudioCurrentSeconds(0);\n      toast({ title: \"Music uploaded\", description: file.name });\n    }\n  };\n  \n  const handleSelectStockMusic = (musicId: string) => {\n    // Revoke custom URL if switching to stock music\n    revokeCustomMusicUrl();\n    setSelectedMusicId(musicId);\n    setCustomMusicFile(null);\n    setCustomMusicUrl(null);\n    setIsPlaying(false);\n    setAudioProgress(0);\n    setAudioCurrentSeconds(0);\n    \n    // Use duration from library instead of relying on streamed audio metadata\n    if (musicLibrary?.music) {\n      const track = musicLibrary.music.find(m => m.id === musicId);\n      if (track) {\n        setAudioDurationSeconds(track.duration);\n      }\n    }\n  };\n  \n  // Cleanup audio when modal closes (preserves selection, just stops playback)\n  const handleMusicModalClose = useCallback(() => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n    }\n    setIsPlaying(false);\n    setAudioProgress(0);\n    setAudioCurrentSeconds(0);\n    setAudioDurationSeconds(0);\n    setIsMuted(false);\n    setShowMusicModal(false);\n  }, []);\n  \n  // Cleanup object URLs on unmount\n  useEffect(() => {\n    return () => {\n      revokeCustomMusicUrl();\n    };\n  }, [revokeCustomMusicUrl]);\n  \n  const togglePlayPause = () => {\n    if (!audioRef.current) return;\n    \n    // Guard against missing source\n    const currentSrc = getCurrentMusicUrl();\n    if (!currentSrc) {\n      toast({ title: \"No music selected\", description: \"Please select or upload music first.\" });\n      return;\n    }\n    \n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play().catch((error) => {\n        console.warn('Audio playback error:', error);\n        setIsPlaying(false);\n      });\n    }\n  };\n  \n  const toggleMute = () => {\n    if (audioRef.current) {\n      audioRef.current.muted = !isMuted;\n      setIsMuted(!isMuted);\n    }\n  };\n  \n  const handleSeek = (value: number[]) => {\n    const duration = getDisplayDuration();\n    if (audioRef.current && duration > 0) {\n      const newTime = (value[0] / 100) * duration;\n      audioRef.current.currentTime = newTime;\n      setAudioCurrentSeconds(newTime);\n      setAudioProgress(value[0]);\n    }\n  };\n  \n  // Get current music URL - memoized\n  const currentMusicUrl = getCurrentMusicUrl();\n  \n  // Audio event handlers - use currentMusicUrl as dependency to re-attach when source changes\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    \n    const handleTimeUpdate = () => {\n      const currentTime = audio.currentTime;\n      setAudioCurrentSeconds(currentTime);\n      \n      // Use the display duration (from library or audio metadata) for progress calculation\n      const duration = audioDurationSeconds > 0 ? audioDurationSeconds : (audio.duration || 0);\n      if (duration > 0) {\n        setAudioProgress((currentTime / duration) * 100);\n      }\n    };\n    \n    const handleLoadedMetadata = () => {\n      // Only update duration if we don't already have it from the library\n      if (audio.duration && Number.isFinite(audio.duration)) {\n        setAudioDurationSeconds(audio.duration);\n      }\n    };\n    \n    const handleDurationChange = () => {\n      if (audio.duration && Number.isFinite(audio.duration)) {\n        setAudioDurationSeconds(audio.duration);\n      }\n    };\n    \n    const handleCanPlay = () => {\n      // Ensure duration is set when audio can play\n      if (audio.duration && Number.isFinite(audio.duration) && audioDurationSeconds === 0) {\n        setAudioDurationSeconds(audio.duration);\n      }\n    };\n    \n    const handlePlay = () => setIsPlaying(true);\n    const handlePause = () => setIsPlaying(false);\n    const handleEnded = () => {\n      setIsPlaying(false);\n      setAudioProgress(0);\n      setAudioCurrentSeconds(0);\n    };\n    \n    const handleError = (e: Event) => {\n      console.warn('Audio error:', e);\n      setIsPlaying(false);\n    };\n    \n    audio.addEventListener('timeupdate', handleTimeUpdate);\n    audio.addEventListener('loadedmetadata', handleLoadedMetadata);\n    audio.addEventListener('durationchange', handleDurationChange);\n    audio.addEventListener('canplay', handleCanPlay);\n    audio.addEventListener('play', handlePlay);\n    audio.addEventListener('pause', handlePause);\n    audio.addEventListener('ended', handleEnded);\n    audio.addEventListener('error', handleError);\n    \n    return () => {\n      audio.removeEventListener('timeupdate', handleTimeUpdate);\n      audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      audio.removeEventListener('durationchange', handleDurationChange);\n      audio.removeEventListener('canplay', handleCanPlay);\n      audio.removeEventListener('play', handlePlay);\n      audio.removeEventListener('pause', handlePause);\n      audio.removeEventListener('ended', handleEnded);\n      audio.removeEventListener('error', handleError);\n    };\n  }, [currentMusicUrl, audioDurationSeconds]);\n  \n  // Reload audio when source changes\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    \n    // Reset playback state when source changes\n    setAudioProgress(0);\n    setAudioCurrentSeconds(0);\n    setIsPlaying(false);\n    // Note: Don't reset duration here - handleSelectStockMusic sets it from library\n    // Only reset if we don't have a selected track\n    if (!selectedMusicId && !customMusicFile) {\n      setAudioDurationSeconds(0);\n    }\n    \n    if (currentMusicUrl) {\n      // Force reload the audio with the new source\n      audio.load();\n    }\n  }, [currentMusicUrl, selectedMusicId, customMusicFile]);\n  \n  // Undo/Redo history\n  type HistoryAction = \n    | { type: 'pages'; previousPageIds: string[]; previousPageIndex: number }\n    | { type: 'image'; fieldId: string; previousUrl: string | undefined }\n    | { type: 'text'; fieldId: string; previousValue: string };\n  \n  const [undoStack, setUndoStack] = useState<HistoryAction[]>([]);\n  const [redoStack, setRedoStack] = useState<HistoryAction[]>([]);\n  const [lastTextSnapshot, setLastTextSnapshot] = useState<Record<string, string>>({});\n  \n  const pushToHistory = (action: HistoryAction) => {\n    setUndoStack(prev => [...prev, action]);\n    setRedoStack([]); // Clear redo stack when new action is pushed\n  };\n  \n  const handleUndo = () => {\n    if (undoStack.length === 0) return;\n    \n    const action = undoStack[undoStack.length - 1];\n    setUndoStack(prev => prev.slice(0, -1));\n    \n    if (action.type === 'pages') {\n      // Save current state to redo\n      setRedoStack(prev => [...prev, {\n        type: 'pages',\n        previousPageIds: orderedPageIds,\n        previousPageIndex: currentPageIndex,\n      }]);\n      setOrderedPageIds(action.previousPageIds);\n      setCurrentPageIndex(Math.min(action.previousPageIndex, action.previousPageIds.length - 1));\n      toast({ title: \"Undone\", description: \"Page changes reverted.\" });\n    } else if (action.type === 'image') {\n      setRedoStack(prev => [...prev, {\n        type: 'image',\n        fieldId: action.fieldId,\n        previousUrl: imagePreviews[action.fieldId],\n      }]);\n      if (action.previousUrl) {\n        setImagePreviews(prev => ({ ...prev, [action.fieldId]: action.previousUrl! }));\n      } else {\n        setImagePreviews(prev => {\n          const newPreviews = { ...prev };\n          delete newPreviews[action.fieldId];\n          return newPreviews;\n        });\n      }\n      toast({ title: \"Undone\", description: \"Image change reverted.\" });\n    } else if (action.type === 'text') {\n      setRedoStack(prev => [...prev, {\n        type: 'text',\n        fieldId: action.fieldId,\n        previousValue: fieldValues[action.fieldId] || '',\n      }]);\n      setFieldValues(prev => ({ ...prev, [action.fieldId]: action.previousValue }));\n      toast({ title: \"Undone\", description: \"Text change reverted.\" });\n    }\n  };\n  \n  const handleRedo = () => {\n    if (redoStack.length === 0) return;\n    \n    const action = redoStack[redoStack.length - 1];\n    setRedoStack(prev => prev.slice(0, -1));\n    \n    if (action.type === 'pages') {\n      setUndoStack(prev => [...prev, {\n        type: 'pages',\n        previousPageIds: orderedPageIds,\n        previousPageIndex: currentPageIndex,\n      }]);\n      setOrderedPageIds(action.previousPageIds);\n      setCurrentPageIndex(Math.min(action.previousPageIndex, action.previousPageIds.length - 1));\n      toast({ title: \"Redone\", description: \"Page changes restored.\" });\n    } else if (action.type === 'image') {\n      setUndoStack(prev => [...prev, {\n        type: 'image',\n        fieldId: action.fieldId,\n        previousUrl: imagePreviews[action.fieldId],\n      }]);\n      if (action.previousUrl) {\n        setImagePreviews(prev => ({ ...prev, [action.fieldId]: action.previousUrl! }));\n      } else {\n        setImagePreviews(prev => {\n          const newPreviews = { ...prev };\n          delete newPreviews[action.fieldId];\n          return newPreviews;\n        });\n      }\n      toast({ title: \"Redone\", description: \"Image change restored.\" });\n    } else if (action.type === 'text') {\n      setUndoStack(prev => [...prev, {\n        type: 'text',\n        fieldId: action.fieldId,\n        previousValue: fieldValues[action.fieldId] || '',\n      }]);\n      setFieldValues(prev => ({ ...prev, [action.fieldId]: action.previousValue }));\n      toast({ title: \"Redone\", description: \"Text change restored.\" });\n    }\n  };\n  \n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n\n  // Reset pan position when zoom changes or page changes\n  useEffect(() => {\n    setPanPosition({ x: 0, y: 0 });\n  }, [zoom, currentPageIndex]);\n\n  // Window-level listeners to ensure panning ends even if mouse leaves container or window loses focus\n  useEffect(() => {\n    const handleGlobalMouseUp = () => {\n      setIsPanning(false);\n    };\n    \n    const handleWindowBlur = () => {\n      setIsPanning(false);\n    };\n    \n    window.addEventListener('mouseup', handleGlobalMouseUp);\n    window.addEventListener('pointerup', handleGlobalMouseUp);\n    window.addEventListener('pointercancel', handleGlobalMouseUp);\n    window.addEventListener('blur', handleWindowBlur);\n    \n    return () => {\n      window.removeEventListener('mouseup', handleGlobalMouseUp);\n      window.removeEventListener('pointerup', handleGlobalMouseUp);\n      window.removeEventListener('pointercancel', handleGlobalMouseUp);\n      window.removeEventListener('blur', handleWindowBlur);\n    };\n  }, []);\n\n  // Pan handlers for Photoshop-style drag navigation\n  const handlePanStart = (e: React.MouseEvent) => {\n    if (zoom <= 100) return; // Only enable panning when zoomed in\n    \n    // Only start panning if clicking on the preview area (container, card, or image)\n    // Exclude interactive form elements\n    const target = e.target as HTMLElement;\n    const tagName = target.tagName.toLowerCase();\n    \n    // Don't start pan on interactive elements\n    if (['input', 'button', 'textarea', 'select', 'a'].includes(tagName)) {\n      return;\n    }\n    \n    // Check if the click is within the preview area\n    const isInPreviewArea = previewContainerRef.current?.contains(target);\n    if (!isInPreviewArea) return;\n    \n    e.preventDefault();\n    setIsPanning(true);\n    setPanStart({ x: e.clientX - panPosition.x, y: e.clientY - panPosition.y });\n  };\n\n  const handlePanMove = (e: React.MouseEvent) => {\n    if (!isPanning || zoom <= 100) return;\n    e.preventDefault();\n    \n    const container = previewContainerRef.current;\n    const card = previewCardRef.current;\n    if (!container || !card) return;\n    \n    // Calculate new pan position\n    let newX = e.clientX - panStart.x;\n    let newY = e.clientY - panStart.y;\n    \n    // Get actual dimensions of container and card\n    const containerRect = container.getBoundingClientRect();\n    const cardRect = card.getBoundingClientRect();\n    \n    // Calculate how much the card extends beyond the container in each direction\n    // This is the actual visible overflow that we can pan through\n    const overflowX = Math.max(0, cardRect.width - containerRect.width);\n    const overflowY = Math.max(0, cardRect.height - containerRect.height);\n    \n    // Max pan is half the overflow (centered starting position)\n    const maxPanX = overflowX / 2;\n    const maxPanY = overflowY / 2;\n    \n    // Clamp pan position to bounds\n    newX = Math.max(-maxPanX, Math.min(maxPanX, newX));\n    newY = Math.max(-maxPanY, Math.min(maxPanY, newY));\n    \n    setPanPosition({ x: newX, y: newY });\n  };\n\n  const handlePanEnd = () => {\n    setIsPanning(false);\n  };\n\n  const { data: projectData, isLoading: projectIsLoading } = useQuery({\n    queryKey: [\"/api/projects\", slug],\n    queryFn: async () => {\n      const token = localStorage.getItem('auth_token');\n      const response = await fetch(`/api/projects/${slug}`, {\n        headers: { \"Authorization\": `Bearer ${token}` },\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch project\");\n      return response.json();\n    },\n    enabled: isEditingProject,\n    staleTime: 0, // Always get fresh project data\n    refetchOnMount: 'always', // Force refetch when mounting editor\n  });\n\n  const { data: templateData, isLoading: templateIsLoading, error } = useQuery<Template & { pages?: any[] }>({\n    queryKey: [\"/api/templates\", isEditingProject ? projectData?.templateId : slug],\n    queryFn: async () => {\n      const templateId = isEditingProject ? projectData?.templateId : slug;\n      const response = await fetch(`/api/templates/${templateId}`);\n      if (!response.ok) throw new Error(\"Failed to fetch template\");\n      return response.json();\n    },\n    enabled: isEditingProject ? !!projectData?.templateId : !!slug,\n  });\n\n  const isLoading = isEditingProject ? (projectIsLoading || templateIsLoading) : templateIsLoading;\n\n  useEffect(() => {\n    if (projectData) {\n      // Load customization data\n      if (projectData.customization) {\n        const newFieldValues: Record<string, string> = {};\n        if (projectData.customization.pages) {\n          for (const [pageId, fields] of Object.entries(projectData.customization.pages)) {\n            if (typeof fields === 'object') {\n              for (const [fieldId, value] of Object.entries(fields as Record<string, any>)) {\n                newFieldValues[`${pageId}_${fieldId}`] = value || '';\n              }\n            }\n          }\n        }\n        setFieldValues(newFieldValues);\n        \n        if (projectData.customization.images) {\n          setImagePreviews(projectData.customization.images);\n        }\n        \n        // Load saved page order (includes deletions and reordering)\n        if (projectData.customization.pageOrder && Array.isArray(projectData.customization.pageOrder)) {\n          setOrderedPageIds(projectData.customization.pageOrder);\n        }\n        \n        // Load saved page preview URLs (rendered previews)\n        if (projectData.customization.pagePreviewUrls) {\n          setPagePreviewUrls(projectData.customization.pagePreviewUrls);\n        }\n      }\n      \n      // Load music selection from existing project\n      // Priority: selectedMusicId > customMusicUrl > selectedMusic (hydrated) > template default\n      if (projectData.selectedMusicId) {\n        setSelectedMusicId(projectData.selectedMusicId);\n        setCustomMusicUrl(null);\n        setCustomMusicFile(null);\n      } else if (projectData.customMusicUrl) {\n        // Project has custom music - set the URL for playback\n        setCustomMusicUrl(projectData.customMusicUrl);\n        setSelectedMusicId(null);\n        // Note: customMusicFile stays null since the file is already on server\n      } else if (projectData.selectedMusic?.id) {\n        // Use hydrated selectedMusic if available (for display consistency)\n        setSelectedMusicId(projectData.selectedMusic.id);\n        setCustomMusicUrl(null);\n        setCustomMusicFile(null);\n      }\n      \n      // Check if project is already paid - enable Download button\n      if (projectData.paidAt) {\n        setDownloadEnabled(true);\n        // Set download URL from project or template\n        const url = projectData.finalUrl || projectData.previewUrl;\n        if (url) {\n          setDownloadUrl(url);\n        }\n      }\n    }\n  }, [projectData]);\n\n  useEffect(() => {\n    if (templateData?.pages) {\n      templateData.pages.forEach((page) => {\n        if (page.thumbnailUrl) {\n          const thumbnailImg = new Image();\n          thumbnailImg.src = page.thumbnailUrl;\n        }\n        const backgroundMedia = page.media?.find((m: any) => m.position === 'background');\n        if (backgroundMedia?.url) {\n          const bgImg = new Image();\n          bgImg.src = backgroundMedia.url;\n        }\n      });\n      \n      // Set default page order:\n      // - For new templates: use all template pages in order\n      // - For editing projects: use saved pageOrder, or fall back to template pages if not saved (older projects)\n      if (orderedPageIds.length === 0) {\n        setOrderedPageIds(templateData.pages.map((p: any) => p.id));\n      }\n    }\n    \n    // Initialize default music for video templates\n    // For new templates: use template's default music\n    // For editing projects: only use template default if project has no music saved (fallback for older projects)\n    if (templateData && (templateData as any).defaultMusic && !selectedMusicId && !customMusicUrl) {\n      setSelectedMusicId((templateData as any).defaultMusic.id);\n    }\n  }, [templateData, selectedMusicId, customMusicUrl, isEditingProject, orderedPageIds.length]);\n\n  const handleReorderConfirm = (newOrder: string[]) => {\n    // Save current state for undo\n    pushToHistory({\n      type: 'pages',\n      previousPageIds: orderedPageIds,\n      previousPageIndex: currentPageIndex,\n    });\n    setOrderedPageIds(newOrder);\n    setCurrentPageIndex(0);\n    toast({\n      title: \"Pages reordered\",\n      description: \"The page order has been updated.\",\n    });\n  };\n  \n  // Handle page deletion from sidebar\n  const handleDeletePageClick = (pageId: string, index: number) => {\n    if (orderedPageIds.length <= 1) {\n      toast({\n        title: \"Cannot delete\",\n        description: \"You must have at least one page.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    setPageToDelete({ id: pageId, index });\n    setShowDeleteConfirm(true);\n  };\n  \n  const confirmDeletePage = () => {\n    if (!pageToDelete) return;\n    \n    // Save current state for undo\n    pushToHistory({\n      type: 'pages',\n      previousPageIds: orderedPageIds,\n      previousPageIndex: currentPageIndex,\n    });\n    \n    const newPageIds = orderedPageIds.filter(id => id !== pageToDelete.id);\n    setOrderedPageIds(newPageIds);\n    \n    // Adjust current page index if needed\n    if (currentPageIndex >= newPageIds.length) {\n      setCurrentPageIndex(Math.max(0, newPageIds.length - 1));\n    } else if (currentPageIndex > pageToDelete.index) {\n      setCurrentPageIndex(currentPageIndex - 1);\n    }\n    \n    toast({\n      title: \"Page deleted\",\n      description: \"The page has been removed. Use Undo to restore it.\",\n    });\n    \n    setShowDeleteConfirm(false);\n    setPageToDelete(null);\n  };\n\n  const { data: user } = useQuery({\n    queryKey: [\"/api/auth/user\"],\n  });\n\n  const saveProjectMutation = useMutation({\n    mutationFn: async () => {\n      const token = localStorage.getItem('auth_token');\n      if (!token) {\n        throw new Error(\"Not authenticated\");\n      }\n\n      const allPages = templateData!.pages || [];\n      const customizationData: Record<string, any> = {\n        pages: {},\n        images: {},\n        pageOrder: orderedPageIds, // Save the current page order (includes deletions)\n      };\n\n      // Save field values for all pages (in case user undoes deletion later)\n      for (const page of allPages) {\n        const pageFieldValues: Record<string, string> = {};\n        for (const field of page.editableFields) {\n          const fieldKey = `${page.id}_${field.id}`;\n          const value = fieldValues[fieldKey] || field.defaultValue || '';\n          pageFieldValues[field.id] = value;\n        }\n        customizationData.pages[page.id] = pageFieldValues;\n      }\n\n      customizationData.images = imagePreviews;\n      \n      // Include rendered page preview URLs if any exist\n      if (Object.keys(pagePreviewUrls).length > 0) {\n        customizationData.pagePreviewUrls = pagePreviewUrls;\n      }\n\n      // Prepare music data\n      // If custom music file is selected (not yet uploaded), we'll upload after project creation\n      // If stock music is selected, include selectedMusicId\n      // If custom music URL is already on server (editing), preserve it\n      // If no music changed, the backend will use template's default music\n      let musicPayload: { selectedMusicId?: string | null; customMusicUrl?: string | null } = {};\n      \n      if (customMusicFile) {\n        // Custom music will be uploaded after project creation\n        // Don't send selectedMusicId since we're using custom\n        musicPayload.selectedMusicId = null;\n      } else if (customMusicUrl && !customMusicUrl.startsWith('blob:')) {\n        // Custom music is already on server (from previous save) - preserve it\n        // Check it's not a blob URL (local preview) - server URLs can be /api/media/*, absolute URLs, etc.\n        musicPayload.customMusicUrl = customMusicUrl;\n        musicPayload.selectedMusicId = null;\n      } else if (selectedMusicId) {\n        musicPayload.selectedMusicId = selectedMusicId;\n      }\n\n      if (projectId) {\n        // First update project with customization\n        const response = await apiRequest(\"PUT\", `/api/projects/${projectId}`, {\n          customization: customizationData,\n          status: \"preview_requested\",\n          ...musicPayload,\n        });\n        \n        // If custom music file exists, upload it now\n        if (customMusicFile) {\n          await uploadCustomMusicToStorage(projectId, customMusicFile);\n        }\n        \n        return response.json();\n      } else {\n        // Create new project\n        const response = await apiRequest(\"POST\", \"/api/projects\", {\n          templateId: templateData!.id,\n          customization: customizationData,\n          status: \"preview_requested\",\n          ...musicPayload,\n        });\n        const newProject = await response.json();\n        setProjectId(newProject.id);\n        \n        // If custom music file exists, upload it now using the new project ID\n        if (customMusicFile) {\n          await uploadCustomMusicToStorage(newProject.id, customMusicFile);\n        }\n        \n        return newProject;\n      }\n    },\n    onSuccess: () => {\n      // Invalidate My Templates cache so new/updated project appears immediately\n      queryClient.invalidateQueries({ queryKey: [\"/api/projects/mine\"] });\n      startPreviewGeneration();\n    },\n    onError: (error: Error) => {\n      if (error.message === \"Not authenticated\") {\n        setPendingPreview(true);\n        setShowAuthModal(true);\n      } else {\n        toast({\n          title: \"Error\",\n          description: error.message,\n          variant: \"destructive\",\n        });\n      }\n    },\n  });\n\n  const startPreviewGeneration = () => {\n    setShowPreviewLoading(true);\n    setPreviewProgress(0);\n    \n    const interval = setInterval(() => {\n      setPreviewProgress((prev) => {\n        if (prev >= 100) {\n          clearInterval(interval);\n          setShowPreviewLoading(false);\n          setPreviewUrl(templateData?.pages?.[0]?.thumbnailUrl || '');\n          setShowPreviewModal(true);\n          // Enable Download button after generation completes\n          // (clicking it will open payment modal since downloadUrl is not set yet)\n          setDownloadEnabled(true);\n          return 100;\n        }\n        return prev + 10;\n      });\n    }, 300);\n  };\n\n  const handleAuthSuccess = () => {\n    setShowAuthModal(false);\n    if (pendingPreview) {\n      setPendingPreview(false);\n      saveProjectMutation.mutate();\n    }\n  };\n\n  // Handle page preview - renders current page with customizations\n  // Does NOT require authentication - just cycles through preview images\n  const handlePreviewPage = async () => {\n    const currentPage = pages[currentPageIndex];\n    if (!currentPage) return;\n    \n    setIsPreviewLoading(true);\n    \n    try {\n      const currentIndex = pagePreviewIndices[currentPage.id] || 0;\n      \n      // Build customization data for this page\n      const pageFieldValues: Record<string, string> = {};\n      for (const field of currentPage.editableFields || []) {\n        const fieldKey = `${currentPage.id}_${field.id}`;\n        const value = fieldValues[fieldKey] || field.defaultValue || '';\n        pageFieldValues[field.id] = value;\n      }\n      \n      const response = await fetch(\"/api/preview/page\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          projectId: projectId || undefined,\n          templateId: templateData?.id,\n          pageId: currentPage.id,\n          previewIndex: currentIndex,\n          customization: {\n            pageOrder: orderedPageIds,\n            pages: { [currentPage.id]: pageFieldValues },\n            images: imagePreviews,\n          },\n        }),\n      });\n      \n      const result = await response.json();\n      \n      if (result.success) {\n        // Update the preview URL for this page\n        setPagePreviewUrls(prev => ({\n          ...prev,\n          [currentPage.id]: result.previewUrl,\n        }));\n        \n        // Update the preview index for next cycle\n        setPagePreviewIndices(prev => ({\n          ...prev,\n          [currentPage.id]: result.nextIndex,\n        }));\n        \n        toast({\n          title: \"Preview Generated\",\n          description: \"Page preview has been updated.\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Preview error:\", error);\n      toast({\n        title: \"Preview Failed\",\n        description: \"Failed to generate page preview. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsPreviewLoading(false);\n    }\n  };\n\n  const handleGenerateClick = () => {\n    // Check if user is logged in first\n    const token = localStorage.getItem('auth_token');\n    if (!token) {\n      setPendingPreview(true);\n      setShowAuthModal(true);\n      return;\n    }\n    \n    // Trigger the save project mutation which handles the full flow:\n    // Save → Generating modal → Preview modal → Download button → Payment\n    saveProjectMutation.mutate();\n  };\n\n  const handleDownload = () => {\n    setShowPreviewModal(false);\n    \n    // If download is already enabled (payment complete), trigger actual download\n    if (downloadEnabled && downloadUrl) {\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = `${template?.templateName?.replace(/[^a-zA-Z0-9]/g, '_') || 'Video'}_WeddingInvite.mp4`;\n      link.target = '_blank';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      toast({\n        title: \"Download Started\",\n        description: \"Your video is being downloaded.\",\n      });\n      return;\n    }\n    \n    // Otherwise, open payment modal\n    setShowPaymentModal(true);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"h-screen flex items-center justify-center bg-background\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  if (error || !templateData) {\n    return (\n      <div className=\"h-screen flex flex-col items-center justify-center bg-background gap-4\">\n        <p className=\"text-destructive\">Template not found</p>\n        <Button onClick={() => navigate(\"/templates\")}>Browse Templates</Button>\n      </div>\n    );\n  }\n\n  const template = templateData;\n  const rawPages = template.pages || [];\n  \n  const orderedPages = orderedPageIds.length > 0\n    ? orderedPageIds.map((id) => rawPages.find((p: any) => p.id === id)).filter(Boolean)\n    : rawPages;\n  \n  const pages = orderedPages;\n  const currentPage = pages[currentPageIndex];\n  const editableFields = currentPage?.editableFields || [];\n\n  const getFieldValue = (fieldId: string) => {\n    const key = `${currentPage.id}_${fieldId}`;\n    if (fieldValues[key] !== undefined) {\n      return fieldValues[key];\n    }\n    const field = editableFields.find((f: EditableField) => f.id === fieldId);\n    return field?.defaultValue || '';\n  };\n\n  const handleFieldChange = (fieldId: string, value: string) => {\n    const key = `${currentPage.id}_${fieldId}`;\n    const currentValue = fieldValues[key] || '';\n    \n    // Track text changes at word boundaries (when space is typed or field loses word)\n    const currentWords = currentValue.trim().split(/\\s+/).filter(w => w);\n    const newWords = value.trim().split(/\\s+/).filter(w => w);\n    const lastSnapshot = lastTextSnapshot[key] || '';\n    \n    // Save to history when a word is completed (space typed) or word deleted\n    if (currentWords.length !== newWords.length || \n        (value.endsWith(' ') && !currentValue.endsWith(' '))) {\n      if (lastSnapshot !== currentValue) {\n        pushToHistory({\n          type: 'text',\n          fieldId: key,\n          previousValue: lastSnapshot,\n        });\n        setLastTextSnapshot(prev => ({ ...prev, [key]: currentValue }));\n      }\n    }\n    \n    setFieldValues((prev) => ({ ...prev, [key]: value }));\n  };\n  \n  // Handle text field blur to save final state\n  const handleFieldBlur = (fieldId: string) => {\n    const key = `${currentPage.id}_${fieldId}`;\n    const currentValue = fieldValues[key] || '';\n    const lastSnapshot = lastTextSnapshot[key] || '';\n    \n    if (lastSnapshot !== currentValue && currentValue !== '') {\n      pushToHistory({\n        type: 'text',\n        fieldId: key,\n        previousValue: lastSnapshot,\n      });\n      setLastTextSnapshot(prev => ({ ...prev, [key]: currentValue }));\n    }\n  };\n\n  const handleImageSelect = (fieldId: string, file: File) => {\n    const key = `${currentPage.id}_${fieldId}`;\n    \n    // Save previous image for undo\n    const previousUrl = imagePreviews[key];\n    pushToHistory({\n      type: 'image',\n      fieldId: key,\n      previousUrl: previousUrl,\n    });\n    \n    setImageFiles((prev) => ({ ...prev, [key]: file }));\n    \n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImagePreviews((prev) => ({ ...prev, [key]: reader.result as string }));\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleImageRemove = (fieldId: string) => {\n    const key = `${currentPage.id}_${fieldId}`;\n    setImageFiles((prev) => {\n      const newFiles = { ...prev };\n      delete newFiles[key];\n      return newFiles;\n    });\n    setImagePreviews((prev) => {\n      const newPreviews = { ...prev };\n      delete newPreviews[key];\n      return newPreviews;\n    });\n  };\n\n  const getImagePreview = (fieldId: string): string | null => {\n    const key = `${currentPage.id}_${fieldId}`;\n    return imagePreviews[key] || null;\n  };\n\n  const goToNextPage = () => {\n    if (currentPageIndex < pages.length - 1) {\n      setCurrentPageIndex(currentPageIndex + 1);\n    }\n  };\n\n  const goToPreviousPage = () => {\n    if (currentPageIndex > 0) {\n      setCurrentPageIndex(currentPageIndex - 1);\n    }\n  };\n\n  // Use rendered preview URL if available, otherwise fall back to template media\n  const backgroundImage = (currentPage && pagePreviewUrls[currentPage.id]) ||\n    currentPage?.media?.find((m: any) => m.position === 'background')?.url || \n    currentPage?.media?.find((m: any) => m.type === 'image')?.url || \n    currentPage?.thumbnailUrl || '';\n\n  return (\n    <div className=\"h-screen flex flex-col bg-background overflow-hidden\" data-testid=\"editor-page\">\n      {showPreviewLoading && (\n        <PreviewLoadingScreen progress={previewProgress} onClose={() => setShowPreviewLoading(false)} />\n      )}\n\n      {showPreviewModal && (\n        <PreviewModal\n          previewUrl={previewUrl}\n          onClose={() => setShowPreviewModal(false)}\n          onDownload={handleDownload}\n          downloadEnabled={true}\n        />\n      )}\n\n      <AuthModal isOpen={showAuthModal} onClose={() => setShowAuthModal(false)} onSuccess={handleAuthSuccess} />\n\n      <ReorderPagesModal\n        isOpen={showReorderModal}\n        onClose={() => setShowReorderModal(false)}\n        pages={pages}\n        onConfirm={handleReorderConfirm}\n        pagePreviewUrls={pagePreviewUrls}\n      />\n\n      {projectId && (\n        <PaymentModalComponent\n          isOpen={showPaymentModal}\n          onClose={() => setShowPaymentModal(false)}\n          projectId={projectId}\n          templateName={template.templateName}\n          amount={template.price}\n          currency={template.currency}\n          onSuccess={() => {\n            setDownloadEnabled(true);\n            // Set download URL from template if not already set\n            if (!downloadUrl && template.previewVideoUrl) {\n              setDownloadUrl(template.previewVideoUrl);\n            }\n          }}\n          onDownloadReady={(url, name) => {\n            setDownloadEnabled(true);\n            setDownloadUrl(url);\n          }}\n        />\n      )}\n\n      {/* Delete Confirmation Dialog */}\n      <AlertDialog open={showDeleteConfirm} onOpenChange={setShowDeleteConfirm}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"w-5 h-5 text-destructive\" />\n              Delete Page?\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete this page? You can use the Undo button to restore it after deletion.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setPageToDelete(null)}>Cancel</AlertDialogCancel>\n            <AlertDialogAction \n              onClick={confirmDeletePage}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              Delete Page\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Preview Coming Soon Modal */}\n      <Dialog open={showPreviewComingSoon} onOpenChange={setShowPreviewComingSoon}>\n        <DialogContent className=\"max-w-sm\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Eye className=\"w-5 h-5 text-primary\" />\n              Preview\n            </DialogTitle>\n          </DialogHeader>\n          <div className=\"py-4 text-center\">\n            <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center\">\n              <Loader2 className=\"w-8 h-8 text-primary animate-spin\" />\n            </div>\n            <p className=\"text-foreground font-medium mb-2\">We're working on it!</p>\n            <p className=\"text-sm text-muted-foreground\">\n              Preview feature will be available soon. Stay tuned!\n            </p>\n          </div>\n          <DialogFooter>\n            <Button onClick={() => setShowPreviewComingSoon(false)} className=\"w-full\">\n              Got it\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Hidden Audio Element for playback */}\n      <audio \n        ref={audioRef} \n        src={getCurrentMusicUrl() || undefined}\n        preload=\"metadata\"\n      />\n\n      {/* Upload Music Modal */}\n      <Dialog open={showMusicModal} onOpenChange={(open) => {\n        if (!open) {\n          handleMusicModalClose();\n        } else {\n          setShowMusicModal(true);\n        }\n      }}>\n        <DialogContent className=\"w-[95vw] max-w-4xl p-0 overflow-hidden max-h-[90vh]\">\n          <DialogHeader className=\"sr-only\">\n            <DialogTitle>Background Music</DialogTitle>\n          </DialogHeader>\n          <ScrollArea className=\"max-h-[90vh]\">\n            <div className=\"flex flex-col lg:flex-row\">\n              {/* Left Section - Music Controls */}\n              <div className=\"flex-1 p-4 sm:p-6 border-b lg:border-b-0 lg:border-r\">\n                <h2 className=\"text-lg font-semibold mb-4 sm:mb-6\">Background Music</h2>\n                \n                {/* Current Selection Display */}\n                <div className=\"mb-4 sm:mb-6\">\n                  <Label className=\"text-sm text-muted-foreground mb-2 block\">Currently Selected</Label>\n                  <div className=\"flex items-center gap-2 p-3 rounded-md border border-border bg-muted/30\">\n                    <Music className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                    <span className=\"text-sm font-medium truncate\">{getCurrentMusicName()}</span>\n                    {hasCustomMusic && (\n                      <Badge variant=\"secondary\" className=\"ml-auto flex-shrink-0\">Custom</Badge>\n                    )}\n                  </div>\n                </div>\n                \n                {/* Saved Custom Music Section - shows when we have a server-saved custom music URL but no local file */}\n                {customMusicUrl && !customMusicFile && (\n                  <div className=\"mb-4 sm:mb-6\">\n                    <Label className=\"text-sm text-muted-foreground mb-2 block\">Your Uploaded Music</Label>\n                    <div className=\"flex items-center gap-3 p-3 rounded-md border border-primary bg-primary/5\">\n                      <div className=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-primary text-primary-foreground\">\n                        <Music className=\"w-4 h-4\" />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium truncate\">Custom Music</p>\n                        <p className=\"text-xs text-muted-foreground\">Previously uploaded</p>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => {\n                          revokeCustomMusicUrl(); // Clean up any blob URLs\n                          setCustomMusicUrl(null);\n                          setCustomMusicFile(null);\n                        }}\n                        className=\"flex-shrink-0 text-muted-foreground hover:text-destructive\"\n                        data-testid=\"button-remove-saved-music\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </Button>\n                      <Check className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                    </div>\n                  </div>\n                )}\n                \n                {/* Audio Player */}\n                <div className=\"bg-muted/30 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6\">\n                  <div className=\"flex items-center gap-3\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-10 w-10 rounded-full bg-background shadow-sm flex-shrink-0\"\n                      onClick={togglePlayPause}\n                      disabled={!getCurrentMusicUrl()}\n                      data-testid=\"button-play-music\"\n                    >\n                      {isPlaying ? (\n                        <Pause className=\"w-4 h-4\" />\n                      ) : (\n                        <Play className=\"w-4 h-4 ml-0.5\" />\n                      )}\n                    </Button>\n                    \n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-1 text-xs text-muted-foreground mb-2\">\n                        <span>{formatTime(audioCurrentSeconds)}</span>\n                        <span>/</span>\n                        <span>{formatTime(getDisplayDuration())}</span>\n                      </div>\n                      <Slider\n                        value={[audioProgress]}\n                        onValueChange={handleSeek}\n                        max={100}\n                        step={0.1}\n                        disabled={!getCurrentMusicUrl()}\n                        className=\"cursor-pointer\"\n                        data-testid=\"slider-audio-progress\"\n                      />\n                    </div>\n                    \n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\" \n                      className=\"h-8 w-8 flex-shrink-0\"\n                      onClick={toggleMute}\n                      disabled={!getCurrentMusicUrl()}\n                      data-testid=\"button-mute-music\"\n                    >\n                      {isMuted ? (\n                        <VolumeX className=\"w-4 h-4\" />\n                      ) : (\n                        <Volume2 className=\"w-4 h-4\" />\n                      )}\n                    </Button>\n                  </div>\n                </div>\n                \n                {/* Music Library */}\n                <div className=\"mb-4 sm:mb-6\">\n                  <Label className=\"text-sm text-muted-foreground mb-2 block\">Music Library</Label>\n                  {musicLoading ? (\n                    <div className=\"flex items-center justify-center py-8\">\n                      <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n                    </div>\n                  ) : (\n                    <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                      {musicLibrary?.music?.map((track) => (\n                        <div\n                          key={track.id}\n                          onClick={() => handleSelectStockMusic(track.id)}\n                          className={`flex items-center gap-3 p-3 rounded-md border cursor-pointer transition-colors ${\n                            selectedMusicId === track.id && !hasCustomMusic\n                              ? 'border-primary bg-primary/5'\n                              : 'border-border hover:border-muted-foreground/50'\n                          }`}\n                          data-testid={`music-track-${track.id}`}\n                        >\n                          <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${\n                            selectedMusicId === track.id && !hasCustomMusic\n                              ? 'bg-primary text-primary-foreground'\n                              : 'bg-muted'\n                          }`}>\n                            <Music className=\"w-4 h-4\" />\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-sm font-medium truncate\">{track.name}</p>\n                            <p className=\"text-xs text-muted-foreground capitalize\">{track.category} • {track.duration}s</p>\n                          </div>\n                          {selectedMusicId === track.id && !hasCustomMusic && (\n                            <Check className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n                \n                {/* Upload Button */}\n                <input\n                  ref={musicFileInputRef}\n                  type=\"file\"\n                  accept=\"audio/*\"\n                  className=\"hidden\"\n                  onChange={handleMusicFileChange}\n                  data-testid=\"input-music-file\"\n                />\n                <Button \n                  variant=\"outline\"\n                  className=\"w-full mb-4 sm:mb-6\"\n                  onClick={() => musicFileInputRef.current?.click()}\n                  data-testid=\"button-upload-custom-music\"\n                >\n                  <Upload className=\"w-4 h-4 mr-2\" />\n                  Upload Music\n                </Button>\n                \n                {/* Action Buttons */}\n                <div className=\"flex flex-wrap items-center gap-2 sm:gap-3\">\n                  <Button \n                    onClick={() => {\n                      handleMusicModalClose();\n                      toast({ title: \"Music saved\", description: \"Your music selection has been saved.\" });\n                    }}\n                    data-testid=\"button-save-music\"\n                  >\n                    <Check className=\"w-4 h-4 mr-2\" />\n                    Save Selection\n                  </Button>\n                  <Button \n                    variant=\"outline\" \n                    onClick={handleMusicModalClose}\n                    data-testid=\"button-cancel-music\"\n                  >\n                    Cancel\n                  </Button>\n                </div>\n              </div>\n              \n              {/* Right Section - Info Panel */}\n              <div className=\"w-full lg:w-80 bg-muted/20 p-4 sm:p-6\">\n                <h3 className=\"font-medium mb-4\">Music Tips</h3>\n                <div className=\"space-y-3 sm:space-y-4\">\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                      <Check className=\"w-3 h-3 text-white\" />\n                    </div>\n                    <p className=\"text-xs sm:text-sm text-foreground\">\n                      Choose from our curated music library or upload your own track.\n                    </p>\n                  </div>\n                  \n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                      <Check className=\"w-3 h-3 text-white\" />\n                    </div>\n                    <p className=\"text-xs sm:text-sm text-foreground\">\n                      Music should be <strong>30 seconds or longer</strong> for best results.\n                    </p>\n                  </div>\n                  \n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                      <Check className=\"w-3 h-3 text-white\" />\n                    </div>\n                    <p className=\"text-xs sm:text-sm text-foreground\">\n                      Supported formats: <strong>MP3, WAV, AAC, M4A</strong>\n                    </p>\n                  </div>\n                  \n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                      <Check className=\"w-3 h-3 text-white\" />\n                    </div>\n                    <p className=\"text-xs sm:text-sm text-foreground\">\n                      Preview your music before generating the video.\n                    </p>\n                  </div>\n                  \n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"w-5 h-5 rounded-full bg-primary flex items-center justify-center flex-shrink-0 mt-0.5\">\n                      <Music className=\"w-3 h-3 text-primary-foreground\" />\n                    </div>\n                    <p className=\"text-xs sm:text-sm text-foreground\">\n                      The selected music will be added as background audio to your video invitation.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ScrollArea>\n        </DialogContent>\n      </Dialog>\n\n      {/* Top Header - Desktop */}\n      <header className=\"hidden md:flex h-14 border-b bg-card items-center justify-between px-4 flex-shrink-0\">\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => fromPage === 'my-templates' ? navigate('/my-templates') : navigate(`/template/${template.slug}`)}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          \n          {/* Undo/Redo Buttons */}\n          <div className=\"flex items-center gap-1 border-l pl-2 ml-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handleUndo}\n              disabled={undoStack.length === 0}\n              title=\"Undo (Ctrl+Z)\"\n              data-testid=\"button-undo\"\n            >\n              <Undo2 className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handleRedo}\n              disabled={redoStack.length === 0}\n              title=\"Redo (Ctrl+Y)\"\n              data-testid=\"button-redo\"\n            >\n              <Redo2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-3\">\n          {/* Show music button only for video templates */}\n          {template?.templateType === 'video' && (\n            <Button \n              variant=\"outline\" \n              size=\"sm\"\n              onClick={() => setShowMusicModal(true)}\n              className=\"border-border\"\n              data-testid=\"button-upload-music\"\n            >\n              <Music className=\"w-4 h-4 mr-2\" />\n              {selectedMusicId || hasCustomMusic ? 'Change Music' : 'Add Music'}\n            </Button>\n          )}\n          <Button \n            size=\"sm\" \n            onClick={handleGenerateClick}\n            disabled={saveProjectMutation.isPending}\n            className=\"relative overflow-visible bg-gradient-to-r from-primary via-primary to-amber-500 hover:from-primary/90 hover:via-primary/90 hover:to-amber-500/90 text-primary-foreground px-5 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 font-semibold\"\n            data-testid=\"button-generate\"\n          >\n            {saveProjectMutation.isPending ? (\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n            ) : (\n              <Sparkles className=\"w-4 h-4 mr-2\" />\n            )}\n            Generate\n            <span className=\"absolute -top-1 -right-1 flex h-3 w-3\">\n              <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75\"></span>\n              <span className=\"relative inline-flex rounded-full h-3 w-3 bg-amber-500\"></span>\n            </span>\n          </Button>\n          <Button \n            variant=\"outline\"\n            size=\"sm\" \n            disabled={!downloadEnabled}\n            onClick={handleDownload}\n            className={!downloadEnabled ? \"opacity-50 cursor-not-allowed\" : \"\"}\n            data-testid=\"button-download\"\n          >\n            <Download className=\"w-4 h-4 mr-2\" />\n            Download\n          </Button>\n        </div>\n      </header>\n\n      {/* Top Header - Mobile: Simplified with back, undo/redo, and generate */}\n      <header className=\"flex md:hidden h-12 border-b bg-card items-center justify-between px-3 flex-shrink-0\">\n        <div className=\"flex items-center gap-1\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-9 w-9\"\n            onClick={() => fromPage === 'my-templates' ? navigate('/my-templates') : navigate(`/template/${template.slug}`)}\n            data-testid=\"button-back-mobile\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          \n          {/* Undo/Redo */}\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8\"\n            onClick={handleUndo}\n            disabled={undoStack.length === 0}\n            data-testid=\"button-undo-mobile\"\n          >\n            <Undo2 className=\"w-4 h-4\" />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8\"\n            onClick={handleRedo}\n            disabled={redoStack.length === 0}\n            data-testid=\"button-redo-mobile\"\n          >\n            <Redo2 className=\"w-4 h-4\" />\n          </Button>\n        </div>\n        \n        {/* Music button (icon only) for video templates */}\n        <div className=\"flex items-center gap-2\">\n          {template?.templateType === 'video' && (\n            <Button \n              variant=\"outline\" \n              size=\"icon\"\n              className=\"h-8 w-8\"\n              onClick={() => setShowMusicModal(true)}\n              data-testid=\"button-music-mobile\"\n            >\n              <Music className=\"w-4 h-4\" />\n            </Button>\n          )}\n          \n          {/* Generate button */}\n          <Button \n            size=\"sm\" \n            onClick={handleGenerateClick}\n            disabled={saveProjectMutation.isPending}\n            className=\"relative overflow-visible bg-gradient-to-r from-primary via-primary to-amber-500 hover:from-primary/90 hover:via-primary/90 hover:to-amber-500/90 text-primary-foreground px-3 shadow-lg font-semibold text-xs h-8\"\n            data-testid=\"button-generate-mobile\"\n          >\n            {saveProjectMutation.isPending ? (\n              <Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />\n            ) : (\n              <Sparkles className=\"w-3 h-3 mr-1\" />\n            )}\n            Generate\n            <span className=\"absolute -top-0.5 -right-0.5 flex h-2 w-2\">\n              <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75\"></span>\n              <span className=\"relative inline-flex rounded-full h-2 w-2 bg-amber-500\"></span>\n            </span>\n          </Button>\n        </div>\n      </header>\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 flex min-h-0\">\n        {/* Left Panel - Pages/Clips - DESKTOP ONLY */}\n        <div className=\"hidden md:flex w-36 lg:w-44 border-r bg-card flex-col flex-shrink-0\">\n          <div className=\"p-3 border-b\">\n            <Button \n              variant=\"default\" \n              size=\"sm\" \n              className=\"w-full text-xs\"\n              onClick={() => setShowReorderModal(true)}\n              data-testid=\"button-reorder-pages\"\n            >\n              <GripVertical className=\"w-3 h-3 mr-1\" />\n              Re-Order Pages\n            </Button>\n          </div>\n          \n          <ScrollArea className=\"flex-1\">\n            <div className=\"p-2 space-y-2\">\n              {pages.map((page, index) => (\n                <div\n                  key={page.id}\n                  className=\"relative\"\n                  data-testid={`page-container-${index}`}\n                >\n                  {/* Delete button - always visible in top right */}\n                  {pages.length > 1 && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleDeletePageClick(page.id, index);\n                      }}\n                      className=\"absolute -top-1 -right-1 z-10 w-5 h-5 rounded-full bg-destructive text-destructive-foreground flex items-center justify-center shadow-md hover:bg-destructive/80 transition-colors\"\n                      data-testid={`button-delete-page-${index}`}\n                      title=\"Delete page\"\n                    >\n                      <Trash2 className=\"w-3 h-3\" />\n                    </button>\n                  )}\n                  \n                  <div\n                    onClick={() => setCurrentPageIndex(index)}\n                    className={`w-full relative rounded-lg overflow-hidden transition-all cursor-pointer ${\n                      currentPageIndex === index\n                        ? 'ring-2 ring-primary shadow-md'\n                        : 'hover:ring-1 hover:ring-muted-foreground/30'\n                    }`}\n                    data-testid={`page-thumbnail-${index}`}\n                  >\n                    <div className=\"aspect-[9/16] bg-muted relative\">\n                      <img\n                        src={pagePreviewUrls[page.id] || page.thumbnailUrl}\n                        alt={page.pageName}\n                        className=\"w-full h-full object-cover\"\n                        loading=\"eager\"\n                      />\n                      {currentPageIndex === index && (\n                        <div className=\"absolute inset-0 bg-primary/10\" />\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </ScrollArea>\n        </div>\n\n        {/* Center Panel - Preview */}\n        <div className=\"flex-1 flex flex-col min-w-0 bg-muted/20\">\n          {/* Preview Area - with pan/drag support when zoomed (desktop only) */}\n          <div \n            ref={previewContainerRef}\n            className=\"flex-1 flex items-center justify-center p-2 md:p-4 min-h-0 overflow-hidden\"\n            style={{\n              cursor: !isMobileView && zoom > 100 ? (isPanning ? 'grabbing' : 'grab') : 'default',\n            }}\n            onMouseDown={!isMobileView ? handlePanStart : undefined}\n            onMouseMove={!isMobileView ? handlePanMove : undefined}\n            onMouseUp={!isMobileView ? handlePanEnd : undefined}\n            onMouseLeave={!isMobileView ? handlePanEnd : undefined}\n          >\n            <div \n              ref={previewCardRef}\n              className=\"relative bg-white dark:bg-card rounded-lg shadow-xl overflow-hidden select-none\"\n              style={isMobileView ? {\n                width: 'auto',\n                height: '100%',\n                maxWidth: '100%',\n                maxHeight: 'calc(100% - 10px)',\n                aspectRatio: '9/16',\n              } : {\n                width: `${280 * (zoom / 100)}px`,\n                height: `${280 * (zoom / 100) * (16 / 9)}px`,\n                maxWidth: zoom <= 100 ? '100%' : 'none',\n                maxHeight: zoom <= 100 ? 'calc(100% - 20px)' : 'none',\n                transform: `translate(${panPosition.x}px, ${panPosition.y}px)`,\n                transition: isPanning ? 'none' : 'transform 0.1s ease-out',\n              }}\n              data-testid=\"preview-container\"\n            >\n              {backgroundImage ? (\n                <img\n                  src={backgroundImage}\n                  alt={`Page ${currentPage?.pageNumber}`}\n                  className=\"absolute inset-0 w-full h-full object-cover pointer-events-none\"\n                  draggable={false}\n                  data-testid=\"page-preview-image\"\n                />\n              ) : (\n                <div className=\"absolute inset-0 bg-gradient-to-br from-muted to-muted-foreground/20 flex items-center justify-center\">\n                  <p className=\"text-muted-foreground text-sm\">No preview</p>\n                </div>\n              )}\n              \n              {/* Preview Loading Overlay */}\n              {isPreviewLoading && (\n                <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm flex flex-col items-center justify-center z-10\">\n                  <div className=\"bg-card/90 rounded-xl p-4 md:p-6 flex flex-col items-center gap-2 md:gap-3 shadow-lg\">\n                    <Loader2 className=\"w-6 h-6 md:w-8 md:h-8 animate-spin text-primary\" />\n                    <p className=\"text-xs md:text-sm font-medium text-foreground\">Generating Preview...</p>\n                    <p className=\"text-xs text-muted-foreground hidden md:block\">Rendering page with your customizations</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Bottom Controls - DESKTOP */}\n          <div className=\"hidden md:flex h-16 border-t bg-card items-center justify-between px-4 flex-shrink-0\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={goToPreviousPage}\n              disabled={currentPageIndex === 0}\n              data-testid=\"button-back-page\"\n            >\n              <ArrowLeft className=\"w-4 h-4 mr-1\" />\n              Back\n            </Button>\n\n            <div className=\"flex items-center gap-4\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handlePreviewPage}\n                disabled={isPreviewLoading}\n                data-testid=\"button-preview\"\n              >\n                {isPreviewLoading ? (\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                ) : (\n                  <Eye className=\"w-4 h-4 mr-2\" />\n                )}\n                {isPreviewLoading ? 'Rendering...' : 'Preview'}\n              </Button>\n              \n              {/* Zoom Controls */}\n              <div className=\"flex items-center gap-2 bg-muted rounded-md px-2 py-1\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7\"\n                  onClick={() => setZoom(Math.max(50, zoom - 25))}\n                  disabled={zoom <= 50}\n                  data-testid=\"button-zoom-out\"\n                >\n                  <ZoomOut className=\"w-4 h-4\" />\n                </Button>\n                <span className=\"text-xs font-medium w-10 text-center\">{zoom}%</span>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7\"\n                  onClick={() => setZoom(Math.min(200, zoom + 25))}\n                  disabled={zoom >= 200}\n                  data-testid=\"button-zoom-in\"\n                >\n                  <ZoomIn className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n\n            <Button\n              variant=\"default\"\n              size=\"sm\"\n              onClick={goToNextPage}\n              disabled={currentPageIndex === pages.length - 1}\n              data-testid=\"button-next-page\"\n            >\n              Next\n              <ChevronRight className=\"w-4 h-4 ml-1\" />\n            </Button>\n          </div>\n\n          {/* Mobile Bottom UI - Horizontal page strip, toolbar, and controls */}\n          <div className=\"flex md:hidden flex-col border-t bg-card flex-shrink-0\">\n            {/* Horizontal Page Thumbnails Strip */}\n            <div className=\"h-20 border-b overflow-x-auto\">\n              <div className=\"flex items-center gap-2 px-3 py-2 h-full\">\n                {pages.map((page, index) => (\n                  <div\n                    key={page.id}\n                    onClick={() => setCurrentPageIndex(index)}\n                    className={`relative flex-shrink-0 rounded-lg overflow-hidden transition-all cursor-pointer ${\n                      currentPageIndex === index\n                        ? 'ring-2 ring-primary shadow-md scale-105'\n                        : 'ring-1 ring-border opacity-70'\n                    }`}\n                    data-testid={`mobile-page-${index}`}\n                  >\n                    <div className=\"w-10 aspect-[9/16] bg-muted\">\n                      <img\n                        src={pagePreviewUrls[page.id] || page.thumbnailUrl}\n                        alt={page.pageName}\n                        className=\"w-full h-full object-cover\"\n                        loading=\"eager\"\n                      />\n                    </div>\n                    {/* Page number indicator */}\n                    <div className=\"absolute bottom-0.5 left-1/2 -translate-x-1/2 bg-background/90 rounded px-1\">\n                      <span className=\"text-[8px] font-medium\">{index + 1}</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Mobile Toolbar - Re-order, Edit Fields, Preview */}\n            <div className=\"h-14 flex items-center justify-around px-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"flex flex-col items-center gap-0.5 h-auto py-1.5 px-3\"\n                onClick={() => setShowReorderModal(true)}\n                data-testid=\"button-reorder-mobile\"\n              >\n                <GripVertical className=\"w-5 h-5\" />\n                <span className=\"text-[10px]\">Reorder</span>\n              </Button>\n              \n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"flex flex-col items-center gap-0.5 h-auto py-1.5 px-3\"\n                onClick={() => setShowMobileEditSheet(true)}\n                data-testid=\"button-edit-mobile\"\n              >\n                <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" />\n                  <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\n                </svg>\n                <span className=\"text-[10px]\">Edit</span>\n              </Button>\n              \n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"flex flex-col items-center gap-0.5 h-auto py-1.5 px-3\"\n                onClick={handlePreviewPage}\n                disabled={isPreviewLoading}\n                data-testid=\"button-preview-mobile\"\n              >\n                {isPreviewLoading ? (\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\n                ) : (\n                  <Eye className=\"w-5 h-5\" />\n                )}\n                <span className=\"text-[10px]\">{isPreviewLoading ? 'Loading' : 'Preview'}</span>\n              </Button>\n              \n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"flex flex-col items-center gap-0.5 h-auto py-1.5 px-3\"\n                disabled={!downloadEnabled}\n                onClick={handleDownload}\n                data-testid=\"button-download-mobile\"\n              >\n                <Download className=\"w-5 h-5\" />\n                <span className=\"text-[10px]\">Download</span>\n              </Button>\n            </div>\n\n            {/* Page Navigation */}\n            <div className=\"h-11 border-t flex items-center justify-between px-4\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-8\"\n                onClick={goToPreviousPage}\n                disabled={currentPageIndex === 0}\n                data-testid=\"button-prev-mobile\"\n              >\n                <ChevronLeft className=\"w-4 h-4 mr-1\" />\n                Back\n              </Button>\n              \n              <span className=\"text-xs text-muted-foreground\">\n                Page {currentPageIndex + 1} of {pages.length}\n              </span>\n              \n              <Button\n                variant=\"default\"\n                size=\"sm\"\n                className=\"h-8\"\n                onClick={goToNextPage}\n                disabled={currentPageIndex === pages.length - 1}\n                data-testid=\"button-next-mobile\"\n              >\n                Next\n                <ChevronRight className=\"w-4 h-4 ml-1\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Panel - Edit Fields - DESKTOP ONLY */}\n        <div className=\"hidden md:flex w-72 lg:w-80 border-l bg-card flex-col flex-shrink-0\">\n          <div className=\"p-4 border-b\">\n            <h2 className=\"font-semibold text-foreground text-sm\">Edit Fields</h2>\n            <p className=\"text-xs text-muted-foreground\">Page {currentPageIndex + 1} of {pages.length}</p>\n          </div>\n          \n          <ScrollArea className=\"flex-1\">\n            <div className=\"p-4 space-y-4\">\n              {editableFields.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <p className=\"text-muted-foreground text-sm\">No editable fields on this page</p>\n                </div>\n              ) : (\n                editableFields.filter((field: EditableField) => field?.id).map((field: EditableField, index: number) => (\n                  <div key={index} className=\"space-y-2\" data-testid={`field-${field.id}`}>\n                    <Label htmlFor={field.id} className=\"text-xs font-medium\">\n                      {field.label || field.id}\n                    </Label>\n                    \n                    {field.type === 'textarea' ? (\n                      <>\n                        <Textarea\n                          id={field.id}\n                          value={getFieldValue(field.id)}\n                          onChange={(e) => handleFieldChange(field.id, e.target.value)}\n                          onBlur={() => handleFieldBlur(field.id)}\n                          maxLength={field.maxLength}\n                          rows={3}\n                          className=\"resize-none text-sm\"\n                          data-testid={`input-${field.id}`}\n                        />\n                        {field.maxLength && (\n                          <div className=\"flex justify-end\">\n                            <span className=\"text-xs text-muted-foreground\">\n                              {getFieldValue(field.id).length}/{field.maxLength}\n                            </span>\n                          </div>\n                        )}\n                      </>\n                    ) : field.type === 'image' ? (\n                      <ImageUploadField\n                        fieldName={field.id}\n                        preview={getImagePreview(field.id)}\n                        onSelect={(file) => handleImageSelect(field.id, file)}\n                        onRemove={() => handleImageRemove(field.id)}\n                      />\n                    ) : (\n                      <>\n                        <Input\n                          id={field.id}\n                          type=\"text\"\n                          value={getFieldValue(field.id)}\n                          onChange={(e) => handleFieldChange(field.id, e.target.value)}\n                          onBlur={() => handleFieldBlur(field.id)}\n                          maxLength={field.maxLength}\n                          className=\"text-sm\"\n                          data-testid={`input-${field.id}`}\n                        />\n                        {field.maxLength && (\n                          <div className=\"flex justify-end\">\n                            <span className=\"text-xs text-muted-foreground\">\n                              {getFieldValue(field.id).length}/{field.maxLength}\n                            </span>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                ))\n              )}\n            </div>\n          </ScrollArea>\n        </div>\n      </div>\n\n      {/* Mobile Edit Sheet - Slide up from bottom */}\n      <Dialog open={showMobileEditSheet} onOpenChange={setShowMobileEditSheet}>\n        <DialogContent \n          className=\"w-full max-w-none h-[70vh] fixed bottom-0 top-auto translate-y-0 rounded-t-2xl rounded-b-none p-0 gap-0 border-t border-x border-b-0 md:hidden\" \n          style={{ maxHeight: '70vh' }}\n          hideCloseButton\n        >\n          <DialogHeader className=\"sr-only\">\n            <DialogTitle>Edit Fields</DialogTitle>\n          </DialogHeader>\n          \n          {/* Header with handle bar and close */}\n          <div className=\"flex items-center justify-between px-4 py-3 border-b bg-background\">\n            <div className=\"flex items-center gap-3\">\n              {/* Handle bar indicator */}\n              <div className=\"w-8 h-1 bg-muted-foreground/30 rounded-full\" />\n              <div>\n                <h2 className=\"font-semibold text-foreground text-sm\">Edit Fields</h2>\n                <p className=\"text-xs text-muted-foreground\">Page {currentPageIndex + 1} of {pages.length}</p>\n              </div>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-8 w-8\"\n              onClick={() => setShowMobileEditSheet(false)}\n              data-testid=\"button-close-edit-sheet\"\n            >\n              <X className=\"w-5 h-5\" />\n            </Button>\n          </div>\n          \n          {/* Content */}\n          <ScrollArea className=\"flex-1 h-[calc(75vh-80px)]\">\n            <div className=\"p-4 space-y-4\">\n              {editableFields.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <p className=\"text-muted-foreground text-sm\">No editable fields on this page</p>\n                </div>\n              ) : (\n                editableFields.filter((field: EditableField) => field?.id).map((field: EditableField, index: number) => (\n                  <div key={index} className=\"space-y-2\" data-testid={`mobile-field-${field.id}`}>\n                    <Label htmlFor={`mobile-${field.id}`} className=\"text-sm font-medium\">\n                      {field.label || field.id}\n                    </Label>\n                    \n                    {field.type === 'textarea' ? (\n                      <>\n                        <Textarea\n                          id={`mobile-${field.id}`}\n                          value={getFieldValue(field.id)}\n                          onChange={(e) => handleFieldChange(field.id, e.target.value)}\n                          onBlur={() => handleFieldBlur(field.id)}\n                          maxLength={field.maxLength}\n                          rows={4}\n                          className=\"resize-none text-base\"\n                          data-testid={`mobile-input-${field.id}`}\n                        />\n                        {field.maxLength && (\n                          <div className=\"flex justify-end\">\n                            <span className=\"text-xs text-muted-foreground\">\n                              {getFieldValue(field.id).length}/{field.maxLength}\n                            </span>\n                          </div>\n                        )}\n                      </>\n                    ) : field.type === 'image' ? (\n                      <ImageUploadField\n                        fieldName={field.id}\n                        preview={getImagePreview(field.id)}\n                        onSelect={(file) => handleImageSelect(field.id, file)}\n                        onRemove={() => handleImageRemove(field.id)}\n                      />\n                    ) : (\n                      <>\n                        <Input\n                          id={`mobile-${field.id}`}\n                          type=\"text\"\n                          value={getFieldValue(field.id)}\n                          onChange={(e) => handleFieldChange(field.id, e.target.value)}\n                          onBlur={() => handleFieldBlur(field.id)}\n                          maxLength={field.maxLength}\n                          className=\"text-base h-11\"\n                          data-testid={`mobile-input-${field.id}`}\n                        />\n                        {field.maxLength && (\n                          <div className=\"flex justify-end\">\n                            <span className=\"text-xs text-muted-foreground\">\n                              {getFieldValue(field.id).length}/{field.maxLength}\n                            </span>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                ))\n              )}\n              \n              {/* Bottom padding for safe area */}\n              <div className=\"h-6\" />\n            </div>\n          </ScrollArea>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","path":null,"size_bytes":105069,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/pages/Examples.tsx":{"content":"import { SEOHead } from \"@/components/SEOHead\";\nimport { TestimonialCard } from \"@/components/TestimonialCard\";\nimport { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Play } from \"lucide-react\";\nimport homepageHero from \"@assets/generated_images/Homepage_cinematic_wedding_hero_efb94fa0.png\";\nimport indianPunjabiHero from \"@assets/generated_images/Indian_Punjabi_wedding_culture_b8245c44.png\";\nimport arabicHero from \"@assets/generated_images/Arabic_UAE_wedding_culture_5fdde5ea.png\";\nimport nigerianHero from \"@assets/generated_images/Nigerian_traditional_wedding_culture_733beed6.png\";\nimport engagementHero from \"@assets/generated_images/Engagement_category_hero_image_e98e3800.png\";\nimport luxuryHero from \"@assets/generated_images/Premium_luxury_category_hero_5c811c21.png\";\n\nexport default function Examples() {\n  const examples = [\n    {\n      id: \"1\",\n      title: \"Sarah & Michael's Wedding\",\n      category: \"Classic American Wedding\",\n      videoUrl: homepageHero,\n      description: \"Elegant church ceremony with romantic garden reception\",\n    },\n    {\n      id: \"2\",\n      title: \"Priya & Raj's Punjabi Wedding\",\n      category: \"Indian Punjabi Wedding\",\n      videoUrl: indianPunjabiHero,\n      description: \"Vibrant celebration with traditional Bhangra and colorful ceremonies\",\n    },\n    {\n      id: \"3\",\n      title: \"Fatima & Ahmed's Nikah\",\n      category: \"Arabic Wedding\",\n      videoUrl: arabicHero,\n      description: \"Luxurious UAE wedding with gold decor and elegant traditions\",\n    },\n    {\n      id: \"4\",\n      title: \"Chioma & Emeka's Traditional Wedding\",\n      category: \"Nigerian Wedding\",\n      videoUrl: nigerianHero,\n      description: \"Colorful Nigerian celebration with Ankara fabrics and traditional dances\",\n    },\n    {\n      id: \"5\",\n      title: \"Emma & James' Engagement\",\n      category: \"Engagement Announcement\",\n      videoUrl: engagementHero,\n      description: \"Romantic sunset proposal announcement with personal photos\",\n    },\n    {\n      id: \"6\",\n      title: \"Sofia's Quinceañera\",\n      category: \"Quinceañera\",\n      videoUrl: luxuryHero,\n      description: \"Beautiful 15th birthday celebration with pink and gold theme\",\n    },\n  ];\n\n  const testimonials = [\n    {\n      id: \"1\",\n      name: \"Priya & Raj Sharma\",\n      event: \"Wedding\",\n      date: \"Dec 2024\",\n      rating: 5,\n      quote: \"WeddingInvite.ai transformed our wedding invitations into a cinematic masterpiece. Our guests were absolutely blown away by the quality and cultural authenticity!\",\n    },\n    {\n      id: \"2\",\n      name: \"Sarah & Michael Chen\",\n      event: \"Engagement\",\n      date: \"Nov 2024\",\n      rating: 5,\n      quote: \"The AI customization made it so easy to create professional-looking video invitations. Saved us thousands compared to hiring a videographer. Worth every penny!\",\n    },\n    {\n      id: \"3\",\n      name: \"Fatima Al-Hassan\",\n      event: \"Wedding\",\n      date: \"Oct 2024\",\n      rating: 5,\n      quote: \"Perfect cultural accuracy for our traditional Arabic wedding. The templates captured our heritage beautifully and the 4K quality was stunning.\",\n    },\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title=\"Customer Examples - Real Video Invitations\"\n        description=\"See real customer video invitation examples created with WeddingInvite.ai. Browse wedding, engagement, and event videos from happy customers worldwide.\"\n        keywords=\"video invitation examples, customer videos, wedding invitation samples, real examples\"\n      />\n\n      <div className=\"relative min-h-[60vh] flex items-center justify-center overflow-hidden\" data-testid=\"hero-examples\">\n        <div className=\"absolute inset-0 z-0\">\n          <img\n            src={homepageHero}\n            alt=\"Customer Examples\"\n            className=\"w-full h-full object-cover\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/80\" />\n        </div>\n\n        <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32 text-center\">\n          <h1 className=\"font-playfair text-5xl sm:text-6xl lg:text-7xl font-bold text-white mb-6 leading-tight\">\n            Customer Examples\n          </h1>\n          <p className=\"text-white/90 text-lg lg:text-xl max-w-3xl mx-auto leading-relaxed\">\n            See real video invitations created by couples and event planners using WeddingInvite.ai\n          </p>\n        </div>\n      </div>\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-4\">\n              Real Videos from Real Events\n            </h2>\n            <p className=\"text-muted-foreground text-lg lg:text-xl max-w-2xl mx-auto\">\n              Browse video invitations created by our happy customers across different cultures and celebrations\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 mb-16\">\n            {examples.map((example) => (\n              <Card key={example.id} className=\"group overflow-hidden hover-elevate active-elevate-2 transition-all duration-300\" data-testid={`example-${example.id}`}>\n                <div className=\"relative aspect-[9/16] overflow-hidden bg-muted\">\n                  <img\n                    src={example.videoUrl}\n                    alt={example.title}\n                    className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\"\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/0 to-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n                  <div className=\"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    <Button\n                      size=\"lg\"\n                      className=\"w-16 h-16 rounded-full bg-primary/90 backdrop-blur-sm\"\n                      data-testid={`button-play-${example.id}`}\n                    >\n                      <Play className=\"w-8 h-8 text-primary-foreground fill-current ml-1\" />\n                    </Button>\n                  </div>\n                  <Badge className=\"absolute top-3 right-3 bg-black/60 backdrop-blur-sm text-white border-none\">\n                    {example.category}\n                  </Badge>\n                </div>\n                <div className=\"p-6\">\n                  <h3 className=\"font-playfair text-lg lg:text-xl font-bold text-foreground mb-2\">\n                    {example.title}\n                  </h3>\n                  <p className=\"text-muted-foreground text-sm\">\n                    {example.description}\n                  </p>\n                </div>\n              </Card>\n            ))}\n          </div>\n\n          <div className=\"text-center mb-16\">\n            <h3 className=\"font-playfair text-3xl lg:text-4xl font-bold text-foreground mb-8\">\n              What Our Customers Say\n            </h3>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8\">\n            {testimonials.map((testimonial) => (\n              <TestimonialCard key={testimonial.id} {...testimonial} />\n            ))}\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":7553,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"design_guidelines.md":{"content":"# WeddingInvite.ai Design Guidelines\n\n## Design Approach\n**Reference-Based Cinematic Premium**: Drawing inspiration from Airbnb's elegant card layouts, Netflix's video-first interface, and luxury wedding platforms. This is a high-touch, emotionally-driven platform where visual excellence directly impacts conversion.\n\n## Core Design Principles\n1. **Cinematic First**: Every page should feel like a premium experience with generous whitespace, elegant animations, and video-centric layouts\n2. **Cultural Respect**: Design elements should adapt to showcase diverse cultural aesthetics authentically\n3. **Trust Through Polish**: Premium finish in every detail signals professional quality of video output\n\n## Typography System\n\n**Font Families** (Google Fonts):\n- Primary: Playfair Display (headings, elegant serif)\n- Secondary: Inter (body text, clean sans-serif)\n- Accent: Cormorant Garamond (decorative elements)\n\n**Hierarchy**:\n- H1 Hero: text-6xl lg:text-7xl, Playfair Display, font-bold\n- H1 Page: text-5xl lg:text-6xl, Playfair Display, font-bold\n- H2 Section: text-4xl lg:text-5xl, Playfair Display, font-semibold\n- H3 Component: text-2xl lg:text-3xl, Playfair Display, font-semibold\n- Body Large: text-lg lg:text-xl, Inter, font-normal\n- Body: text-base lg:text-lg, Inter, font-normal\n- Caption: text-sm, Inter, font-medium\n\n## Layout System\n\n**Spacing Scale**: Use Tailwind units of 4, 6, 8, 12, 16, 20, 24, 32 for consistency\n- Section padding: py-16 md:py-24 lg:py-32\n- Component spacing: gap-8 lg:gap-12\n- Card padding: p-6 lg:p-8\n- Element margins: mb-4, mb-6, mb-8\n\n**Container Widths**:\n- Full-width sections: w-full with inner max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\n- Content sections: max-w-6xl mx-auto\n- Text content: max-w-3xl mx-auto\n- Template grids: max-w-7xl mx-auto\n\n**Grid System**:\n- Template grids: grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\n- Feature sections: grid-cols-1 md:grid-cols-2 lg:grid-cols-3\n- Category cards: grid-cols-2 md:grid-cols-3 lg:grid-cols-4\n- Culture showcases: grid-cols-1 md:grid-cols-2\n\n## Component Library\n\n### Navigation\n- Sticky header with blur backdrop (backdrop-blur-md)\n- Logo left, main nav center, \"Create Invite\" CTA right\n- Mobile: hamburger menu with slide-in drawer\n- Transparent on hero, solid on scroll\n\n### Hero Sections\n\n**Homepage Hero** (100vh):\n- Full-screen video background with subtle overlay\n- Centered content with large heading + tagline + dual CTAs\n- Animated scroll indicator at bottom\n\n**Page Heroes** (60-80vh):\n- Background imagery relevant to page theme\n- Layered content (breadcrumbs, heading, description, CTA)\n- Cultural pages: authentic cultural imagery/patterns\n\n### Template Cards\n- Aspect ratio 9:16 for video previews (portrait)\n- Hover: subtle lift (scale-105) + shadow increase\n- Preview thumbnail with play icon overlay\n- Title, category tag, duration badge\n- \"Use Template\" CTA button with blur background when on image\n\n### Filter System (Templates Hub)\n- Horizontal scrollable filter chips on mobile\n- Multi-row filter bar on desktop\n- Active filters show count badge\n- Smooth filter transitions\n\n### Video Preview Components\n- Autoplay on hover (desktop) or tap (mobile)\n- Muted by default with unmute option\n- Loading skeleton with shimmer\n- Fullscreen option icon\n\n### Category Sections\n- Large category cards with background imagery\n- Icon + title + count + description\n- 2-column on tablet, 3-4 column on desktop\n\n### Cultural Showcase\n- Featured culture cards with traditional patterns/colors\n- Region name in local script + English\n- Representative iconography\n- Template count indicator\n\n### Testimonial Cards\n- Customer photo (circular, bordered)\n- Quote in italic\n- Name + event type + date\n- 5-star rating display\n- Video testimonials with play button\n\n### Pricing Cards\n- Equal height cards with outline highlighting featured plan\n- Header section with plan name + price\n- Feature list with checkmarks\n- CTA button (primary for featured, secondary for others)\n- \"Most Popular\" badge on recommended plan\n\n### Process Flow (How It Works)\n- Large numbered circles (1, 2, 3)\n- Step title + description\n- Connecting lines/arrows between steps\n- Visual representation (icon or image) per step\n\n### Footer\n- Multi-column layout: Company, Resources, Culture, Countries, Legal\n- Newsletter signup with email input + button\n- Social media icons\n- Trust badges (secure, money-back, support)\n- Secondary navigation links\n\n## Page-Specific Layouts\n\n### Homepage Sections (in order):\n1. Cinematic video hero (100vh)\n2. Why Choose Us (3-4 feature cards)\n3. Popular Categories (6-8 category cards)\n4. Featured Templates (8-12 template grid)\n5. Cultural Showcase (6-8 culture cards)\n6. How It Works (3 steps)\n7. Testimonials (carousel or 3-column grid)\n8. Final CTA section with video background\n9. Rich footer\n\n### Templates Hub:\n- Filter bar (sticky below nav)\n- Template count + sort options\n- Template grid (infinite scroll or pagination)\n- Side category navigation (desktop)\n\n### Template Detail:\n- Large video preview (hero-sized)\n- Title + description + metadata\n- \"What you can customize\" section with icons\n- Related templates carousel\n- Sticky \"Use Template\" CTA\n\n### Culture/Country Pages:\n- Cultural hero with authentic imagery\n- SEO intro paragraph (max-w-3xl)\n- Cultural symbols/traditions showcase\n- Template grid filtered to that culture\n- Related cultures sidebar\n\n## Images\n\n**Hero Images Needed**:\n- Homepage: Cinematic wedding video still (couple in elegant setting)\n- Templates Hub: Collage of various video templates\n- Wedding Category: Romantic wedding ceremony\n- Engagement: Couple proposal moment\n- Each Culture Page: Authentic cultural wedding imagery (traditional attire, ceremonies)\n- Each Country Page: Landmark or cultural wedding scene from that country\n- Premium/Luxury: High-end venue or luxury wedding details\n- Enterprise: Professional event setup\n\n**Supporting Images**:\n- Template card thumbnails (video stills)\n- Customer testimonial photos\n- Cultural pattern overlays/backgrounds\n- Icon illustrations for features\n\n## Animations (Minimal & Purposeful)\n\n**Use only**:\n- Fade-in on scroll for sections (once)\n- Smooth hover transforms on cards\n- Page transition fades\n- Video preview autoplay\n- CTA button subtle pulse (only on primary hero CTA)\n\n**Avoid**: Excessive parallax, continuous animations, distracting effects\n\n## Accessibility\n- Focus indicators on all interactive elements\n- ARIA labels on video controls, filters\n- Semantic HTML throughout\n- Keyboard navigation support\n- Alt text on all images\n- High contrast text on backgrounds\n\n## Mobile-First Considerations\n- Touch-friendly target sizes (min 44x44px)\n- Simplified navigation drawer\n- Stacked layouts (single column) on mobile\n- Larger tap targets for filters\n- WhatsApp share button prominent on mobile\n- Optimized video loading for mobile bandwidth","path":null,"size_bytes":6864,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"client/src/pages/Cultures.tsx":{"content":"import { SEOHead } from \"@/components/SEOHead\";\nimport { HeroSection } from \"@/components/HeroSection\";\nimport { CultureCard } from \"@/components/CultureCard\";\nimport indianPunjabiHero from \"@assets/generated_images/Indian_Punjabi_wedding_culture_b8245c44.png\";\nimport tamilHero from \"@assets/generated_images/Tamil_wedding_culture_page_3a868c20.png\";\nimport arabicHero from \"@assets/generated_images/Arabic_UAE_wedding_culture_5fdde5ea.png\";\nimport nigerianHero from \"@assets/generated_images/Nigerian_traditional_wedding_culture_733beed6.png\";\nimport quinceaneraHero from \"@assets/generated_images/Quinceañera_culture_page_hero_f3e1cb71.png\";\nimport koreanHero from \"@assets/generated_images/korean_hanbok_wedding_ceremony.png\";\nimport chineseHero from \"@assets/generated_images/chinese_tea_ceremony_wedding.png\";\n\nexport default function Cultures() {\n  const cultures = [\n    {\n      id: \"1\",\n      name: \"Indian Weddings\",\n      localName: \"भारतीय विवाह\",\n      slug: \"indian-wedding-video-invitation\",\n      description: \"Rich traditions and vibrant celebrations across diverse Indian cultures\",\n      heroImageUrl: indianPunjabiHero,\n      templateCount: 120,\n    },\n    {\n      id: \"2\",\n      name: \"Punjabi Weddings\",\n      localName: \"ਪੰਜਾਬੀ ਵਿਆਹ\",\n      slug: \"indian-wedding-video-invitation/punjabi\",\n      description: \"Vibrant Punjabi celebrations with Bhangra and colorful traditions\",\n      heroImageUrl: indianPunjabiHero,\n      templateCount: 45,\n    },\n    {\n      id: \"3\",\n      name: \"Tamil Weddings\",\n      localName: \"தமிழ் திருமணம்\",\n      slug: \"indian-wedding-video-invitation/tamil\",\n      description: \"Traditional Tamil ceremonies honoring Dravidian heritage\",\n      heroImageUrl: tamilHero,\n      templateCount: 38,\n    },\n    {\n      id: \"4\",\n      name: \"Arabic Weddings\",\n      localName: \"الزفاف العربي\",\n      slug: \"arabic-wedding-video-uae-saudi\",\n      description: \"Luxurious Middle Eastern wedding traditions\",\n      heroImageUrl: arabicHero,\n      templateCount: 55,\n    },\n    {\n      id: \"5\",\n      name: \"Nigerian Weddings\",\n      localName: \"Ìgbéyàwó Nàìjíríà\",\n      slug: \"nigerian-traditional-wedding-video\",\n      description: \"Colorful African cultural celebrations\",\n      heroImageUrl: nigerianHero,\n      templateCount: 48,\n    },\n    {\n      id: \"6\",\n      name: \"Quinceañera\",\n      localName: \"Quinceañera\",\n      slug: \"quinceanera-video-invitation\",\n      description: \"Latin American coming-of-age celebrations\",\n      heroImageUrl: quinceaneraHero,\n      templateCount: 40,\n    },\n    {\n      id: \"7\",\n      name: \"Chinese Weddings\",\n      localName: \"中国婚礼\",\n      slug: \"chinese-tea-ceremony-video\",\n      description: \"Traditional Chinese tea ceremonies and customs\",\n      heroImageUrl: chineseHero,\n      templateCount: 36,\n    },\n    {\n      id: \"8\",\n      name: \"Korean Weddings\",\n      localName: \"한국 결혼식\",\n      slug: \"korean-pyebaek-video\",\n      description: \"Elegant Korean Hanbok ceremonies\",\n      heroImageUrl: koreanHero,\n      templateCount: 30,\n    },\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title=\"Cultural Wedding Video Invitations - 50+ Global Cultures\"\n        description=\"Explore authentic video invitation templates for 50+ cultures worldwide. Indian, Arabic, Nigerian, Chinese, Korean, and more cultural wedding traditions.\"\n        keywords=\"cultural wedding videos, Indian wedding invitation, Arabic wedding, Nigerian wedding, traditional wedding videos\"\n      />\n\n      <HeroSection\n        title=\"Celebrate Every Culture\"\n        description=\"Authentic video invitation templates honoring wedding traditions from around the world. Find templates designed specifically for your cultural heritage.\"\n        backgroundImage={indianPunjabiHero}\n        height=\"large\"\n        primaryCTA={{\n          text: \"Explore Cultures\",\n          href: \"#cultures\",\n        }}\n      />\n\n      <section className=\"py-12 lg:py-16 bg-background\" id=\"cultures\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h2 className=\"font-playfair text-4xl lg:text-5xl font-bold text-foreground mb-4\">\n              Browse by Culture\n            </h2>\n            <p className=\"text-muted-foreground text-lg lg:text-xl max-w-2xl mx-auto\">\n              Each culture has unique traditions, symbols, and celebrations. Our templates honor these authentic customs with cultural accuracy and respect.\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8\">\n            {cultures.map((culture) => (\n              <CultureCard key={culture.id} {...culture} />\n            ))}\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":4864,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/pages/FAQ.tsx":{"content":"import { SEOHead } from \"@/components/SEOHead\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\nimport { Card } from \"@/components/ui/card\";\n\nexport default function FAQ() {\n  const categories = [\n    {\n      title: \"Getting Started\",\n      faqs: [\n        {\n          question: \"How do I create my first video invitation?\",\n          answer: \"Simply browse our template library, select a template you love, click 'Use Template', and follow the customization wizard. Add your event details, upload photos, select music, and preview your video. The entire process takes about 10-15 minutes!\",\n        },\n        {\n          question: \"Do I need video editing experience?\",\n          answer: \"Not at all! WeddingInvite.ai is designed for everyone. Our AI-powered editor handles all the technical aspects automatically. Just add your content and let our platform create a professional video for you.\",\n        },\n        {\n          question: \"Can I try before I buy?\",\n          answer: \"Yes! We offer a free plan that lets you create 1 video per month in 720p HD quality. It's perfect for testing our platform before committing to a paid plan.\",\n        },\n      ],\n    },\n    {\n      title: \"Features & Customization\",\n      faqs: [\n        {\n          question: \"What can I customize in the templates?\",\n          answer: \"You can customize text (names, dates, venues, messages), upload your own photos, choose or upload music, select AI voiceover language and accent, adjust colors to match your theme, and control scene timing and transitions.\",\n        },\n        {\n          question: \"How many photos can I add?\",\n          answer: \"The number of photos depends on the template, typically ranging from 5-15 photos. Each template is designed to showcase your photos beautifully without overwhelming viewers.\",\n        },\n        {\n          question: \"Can I use my own music?\",\n          answer: \"Yes! Personal, Pro Creator, and Premium Studio plans allow you to upload your own music. Please ensure you have the rights to use the music. We also offer a curated library of licensed music.\",\n        },\n        {\n          question: \"Which languages are supported for AI voiceover?\",\n          answer: \"We support 20+ languages including English, Hindi, Tamil, Telugu, Punjabi, Bengali, Gujarati, Marathi, Arabic, Spanish, French, Mandarin, Portuguese, and more. Multiple accent options are available for each language.\",\n        },\n      ],\n    },\n    {\n      title: \"Pricing & Plans\",\n      faqs: [\n        {\n          question: \"What's included in the Free plan?\",\n          answer: \"The Free plan includes 1 video per month in 720p HD quality, access to 50+ basic templates, WhatsApp sharing, and community support. Videos include a small WeddingInvite.ai watermark.\",\n        },\n        {\n          question: \"What's the difference between Personal and Pro Creator?\",\n          answer: \"Personal ($29/video) is perfect for individual events with unlimited customization and 4K quality. Pro Creator ($99/month) is designed for professionals, offering 10 videos/month, advanced AI editing, team collaboration, client management, and analytics.\",\n        },\n        {\n          question: \"Do you offer refunds?\",\n          answer: \"Yes! We offer a 14-day money-back guarantee on all paid plans. If you're not satisfied with your video, contact our support team for a full refund - no questions asked.\",\n        },\n        {\n          question: \"Can I upgrade or downgrade my plan?\",\n          answer: \"Yes, you can change your plan at any time. Upgrades take effect immediately, and downgrades will apply at the start of your next billing cycle.\",\n        },\n      ],\n    },\n    {\n      title: \"Technical & Delivery\",\n      faqs: [\n        {\n          question: \"What file formats do you support?\",\n          answer: \"All videos are exported in MP4 format (H.264 codec) optimized for social media platforms. You can download in 1080p HD or 4K UHD quality depending on your plan.\",\n        },\n        {\n          question: \"How long does rendering take?\",\n          answer: \"Most videos render in 2-5 minutes depending on length and quality. 4K videos may take up to 10 minutes. Pro Creator members get priority rendering for faster turnaround.\",\n        },\n        {\n          question: \"Can I share on WhatsApp?\",\n          answer: \"Absolutely! All videos are optimized for WhatsApp sharing. We provide the right file size and format for seamless sharing. Videos are also optimized for Instagram Reels, Instagram Stories, TikTok, and Facebook.\",\n        },\n        {\n          question: \"What video quality do you offer?\",\n          answer: \"Free plan offers 720p HD. Paid plans include 1080p Full HD and 4K Ultra HD options. All videos are rendered at 30fps for smooth playback across devices.\",\n        },\n      ],\n    },\n    {\n      title: \"Support & Revisions\",\n      faqs: [\n        {\n          question: \"How many revisions can I make?\",\n          answer: \"Personal and Pro Creator plans include unlimited self-service revisions. You can edit and re-render your video as many times as needed. Premium Studio package includes unlimited revisions with our team.\",\n        },\n        {\n          question: \"What if I need help?\",\n          answer: \"We offer email support for all users (response within 24 hours), priority support for paid plans (response within 4 hours), and dedicated account managers for Enterprise clients. We also have detailed video tutorials and help articles.\",\n        },\n        {\n          question: \"Can you create a custom template for me?\",\n          answer: \"Yes! Our Premium Studio service ($299) includes custom video production with a professional videographer, script writing, original music composition, and unlimited revisions. Delivery in 7-10 days.\",\n        },\n      ],\n    },\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title=\"FAQ - Frequently Asked Questions\"\n        description=\"Find answers to common questions about WeddingInvite.ai. Learn about pricing, features, file formats, customization options, and more.\"\n        keywords=\"WeddingInvite.ai FAQ, video invitation questions, help, support, frequently asked questions\"\n      />\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-gradient-to-b from-background to-card\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h1 className=\"font-playfair text-5xl lg:text-6xl font-bold text-foreground mb-4\">\n              Frequently Asked Questions\n            </h1>\n            <p className=\"text-muted-foreground text-lg lg:text-xl\">\n              Everything you need to know about WeddingInvite.ai\n            </p>\n          </div>\n\n          <div className=\"space-y-12\">\n            {categories.map((category, categoryIndex) => (\n              <Card key={categoryIndex} className=\"p-8\">\n                <h2 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-6\">\n                  {category.title}\n                </h2>\n                <Accordion type=\"single\" collapsible className=\"w-full\">\n                  {category.faqs.map((faq, faqIndex) => (\n                    <AccordionItem key={faqIndex} value={`item-${categoryIndex}-${faqIndex}`}>\n                      <AccordionTrigger className=\"text-left font-semibold text-foreground\">\n                        {faq.question}\n                      </AccordionTrigger>\n                      <AccordionContent className=\"text-muted-foreground\">\n                        {faq.answer}\n                      </AccordionContent>\n                    </AccordionItem>\n                  ))}\n                </Accordion>\n              </Card>\n            ))}\n          </div>\n\n          <Card className=\"mt-12 p-8 lg:p-12 text-center bg-primary/5\">\n            <h2 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-4\">\n              Still Have Questions?\n            </h2>\n            <p className=\"text-muted-foreground text-lg mb-6\">\n              Can't find the answer you're looking for? Our support team is here to help.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <a\n                href=\"/contact\"\n                className=\"inline-flex items-center justify-center rounded-md bg-primary text-primary-foreground px-6 py-3 font-semibold hover-elevate active-elevate-2 transition-all\"\n                data-testid=\"link-contact-support\"\n              >\n                Contact Support\n              </a>\n              <a\n                href=\"mailto:support@weddinginvite.ai\"\n                className=\"inline-flex items-center justify-center rounded-md border border-border bg-background text-foreground px-6 py-3 font-semibold hover-elevate active-elevate-2 transition-all\"\n                data-testid=\"link-email-support\"\n              >\n                Email Us\n              </a>\n            </div>\n          </Card>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":9081,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n  --background: 35 20% 98%;\n  --foreground: 220 25% 12%;\n  --border: 35 15% 88%;\n  --card: 35 18% 97%;\n  --card-foreground: 220 25% 12%;\n  --card-border: 35 12% 90%;\n  --sidebar: 35 15% 95%;\n  --sidebar-foreground: 220 20% 14%;\n  --sidebar-border: 35 12% 88%;\n  --sidebar-primary: 350 65% 45%;\n  --sidebar-primary-foreground: 35 20% 98%;\n  --sidebar-accent: 35 18% 88%;\n  --sidebar-accent-foreground: 220 18% 18%;\n  --sidebar-ring: 350 65% 45%;\n  --popover: 35 15% 96%;\n  --popover-foreground: 220 20% 14%;\n  --popover-border: 35 12% 86%;\n  --primary: 350 65% 45%;\n  --primary-foreground: 35 20% 98%;\n  --secondary: 220 40% 92%;\n  --secondary-foreground: 220 30% 16%;\n  --muted: 35 12% 90%;\n  --muted-foreground: 220 15% 38%;\n  --accent: 42 88% 65%;\n  --accent-foreground: 220 30% 16%;\n  --destructive: 0 72% 38%;\n  --destructive-foreground: 0 20% 98%;\n  --input: 35 10% 72%;\n  --ring: 350 65% 45%;\n  --chart-1: 350 65% 45%;\n  --chart-2: 42 88% 65%;\n  --chart-3: 220 40% 50%;\n  --chart-4: 280 50% 55%;\n  --chart-5: 160 45% 45%;\n  --font-sans: Inter, sans-serif;\n  --font-serif: Playfair Display, serif;\n  --font-mono: ui-monospace, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(30 5% 20% / 0.02);\n  --shadow-xs: 0px 2px 0px 0px hsl(30 5% 20% / 0.03);\n  --shadow-sm: 0px 2px 0px 0px hsl(30 5% 20% / 0.03), 0px 1px 2px -1px hsl(30 5% 20% / 0.05);\n  --shadow: 0px 2px 0px 0px hsl(30 5% 20% / 0.04), 0px 1px 2px -1px hsl(30 5% 20% / 0.06);\n  --shadow-md: 0px 2px 0px 0px hsl(30 5% 20% / 0.05), 0px 2px 4px -1px hsl(30 5% 20% / 0.08);\n  --shadow-lg: 0px 2px 0px 0px hsl(30 5% 20% / 0.06), 0px 4px 6px -1px hsl(30 5% 20% / 0.10);\n  --shadow-xl: 0px 2px 0px 0px hsl(30 5% 20% / 0.08), 0px 8px 10px -1px hsl(30 5% 20% / 0.12);\n  --shadow-2xl: 0px 2px 0px 0px hsl(30 5% 20% / 0.10);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n  --background: 220 30% 8%;\n  --foreground: 35 18% 96%;\n  --border: 220 20% 18%;\n  --card: 220 25% 10%;\n  --card-foreground: 35 18% 96%;\n  --card-border: 220 20% 14%;\n  --sidebar: 220 28% 12%;\n  --sidebar-foreground: 35 18% 92%;\n  --sidebar-border: 220 22% 16%;\n  --sidebar-primary: 350 60% 55%;\n  --sidebar-primary-foreground: 35 18% 98%;\n  --sidebar-accent: 220 20% 16%;\n  --sidebar-accent-foreground: 35 15% 88%;\n  --sidebar-ring: 350 60% 55%;\n  --popover: 220 25% 14%;\n  --popover-foreground: 35 18% 92%;\n  --popover-border: 220 20% 18%;\n  --primary: 350 60% 55%;\n  --primary-foreground: 35 18% 98%;\n  --secondary: 220 35% 18%;\n  --secondary-foreground: 35 15% 90%;\n  --muted: 220 20% 16%;\n  --muted-foreground: 35 12% 70%;\n  --accent: 42 80% 58%;\n  --accent-foreground: 220 25% 12%;\n  --destructive: 0 65% 48%;\n  --destructive-foreground: 0 15% 98%;\n  --input: 220 18% 28%;\n  --ring: 350 60% 55%;\n  --chart-1: 350 60% 60%;\n  --chart-2: 42 80% 70%;\n  --chart-3: 220 45% 60%;\n  --chart-4: 280 50% 65%;\n  --chart-5: 160 45% 55%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(30 5% 0% / 0.15);\n  --shadow-xs: 0px 2px 0px 0px hsl(30 5% 0% / 0.20);\n  --shadow-sm: 0px 2px 0px 0px hsl(30 5% 0% / 0.20), 0px 1px 2px -1px hsl(30 5% 0% / 0.25);\n  --shadow: 0px 2px 0px 0px hsl(30 5% 0% / 0.25), 0px 1px 2px -1px hsl(30 5% 0% / 0.30);\n  --shadow-md: 0px 2px 0px 0px hsl(30 5% 0% / 0.30), 0px 2px 4px -1px hsl(30 5% 0% / 0.35);\n  --shadow-lg: 0px 2px 0px 0px hsl(30 5% 0% / 0.35), 0px 4px 6px -1px hsl(30 5% 0% / 0.40);\n  --shadow-xl: 0px 2px 0px 0px hsl(30 5% 0% / 0.40), 0px 8px 10px -1px hsl(30 5% 0% / 0.45);\n  --shadow-2xl: 0px 2px 0px 0px hsl(30 5% 0% / 0.50);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n\n/* Utility class to hide scrollbar but keep scrolling */\n.scrollbar-hide {\n  -ms-overflow-style: none;  /* IE and Edge */\n  scrollbar-width: none;  /* Firefox */\n}\n.scrollbar-hide::-webkit-scrollbar {\n  display: none;  /* Chrome, Safari and Opera */\n}\n","path":null,"size_bytes":10952,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 3000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3892,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[280px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-3 pr-6 shadow-md transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-xs font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-xs opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/Footer.tsx":{"content":"import { Link } from \"wouter\";\nimport { Sparkles, Facebook, Instagram, Twitter, Youtube } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\n\nexport function Footer() {\n  const companyLinks = [\n    { label: \"About Us\", href: \"/about\" },\n    { label: \"How It Works\", href: \"/how-it-works\" },\n    // TODO: Re-enable after MVP - Monthly subscription pricing\n    // { label: \"Pricing\", href: \"/pricing\" },\n    { label: \"Enterprise\", href: \"/enterprise\" },\n    { label: \"Contact\", href: \"/contact\" },\n  ];\n\n  const resourceLinks = [\n    { label: \"Templates\", href: \"/templates\" },\n    { label: \"Examples\", href: \"/examples\" },\n    { label: \"Blog\", href: \"/blog\" },\n    { label: \"FAQ\", href: \"/faq\" },\n  ];\n\n  const cultureLinks = [\n    { label: \"Indian Weddings\", href: \"/culture/indian-wedding-video-invitation\" },\n    { label: \"Arabic Weddings\", href: \"/culture/arabic-wedding-video-uae-saudi\" },\n    { label: \"Punjabi Weddings\", href: \"/culture/punjabi\" },\n    { label: \"Nigerian Weddings\", href: \"/culture/nigerian-traditional-wedding-video\" },\n    { label: \"All Cultures\", href: \"/culture\" },\n  ];\n\n  const countryLinks = [\n    { label: \"India\", href: \"/countries/india\" },\n    { label: \"UAE\", href: \"/countries/uae\" },\n    { label: \"Saudi Arabia\", href: \"/countries/saudi-arabia\" },\n  ];\n\n  return (\n    <footer className=\"bg-card border-t border-card-border mt-24\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 lg:gap-12\">\n          <div className=\"lg:col-span-2\">\n            <Link \n              href=\"/\"\n              className=\"flex items-center gap-2 mb-4 hover-elevate active-elevate-2 rounded-md px-2 py-2 -ml-2 inline-flex\"\n              data-testid=\"link-footer-logo\"\n            >\n              <Sparkles className=\"w-6 h-6 text-primary\" />\n              <span className=\"font-playfair text-xl font-bold text-foreground\">\n                WeddingInvite.ai\n              </span>\n            </Link>\n            <p className=\"text-muted-foreground mb-6 text-sm lg:text-base max-w-xs\">\n              Create stunning, AI-powered cinematic video invitations for your special moments. Culturally accurate and instantly shareable.\n            </p>\n            <div className=\"flex items-center gap-3\">\n              <Button variant=\"ghost\" size=\"icon\" className=\"hover-elevate active-elevate-2\" data-testid=\"link-facebook\">\n                <Facebook className=\"w-5 h-5\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" className=\"hover-elevate active-elevate-2\" data-testid=\"link-instagram\">\n                <Instagram className=\"w-5 h-5\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" className=\"hover-elevate active-elevate-2\" data-testid=\"link-twitter\">\n                <Twitter className=\"w-5 h-5\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" className=\"hover-elevate active-elevate-2\" data-testid=\"link-youtube\">\n                <Youtube className=\"w-5 h-5\" />\n              </Button>\n            </div>\n          </div>\n\n          <div>\n            <h3 className=\"font-playfair text-base lg:text-lg font-semibold mb-4 text-foreground\">Company</h3>\n            <ul className=\"space-y-3\">\n              {companyLinks.map((link) => (\n                <li key={link.href}>\n                  <Link \n                    href={link.href}\n                    className=\"text-sm lg:text-base text-muted-foreground hover:text-foreground transition-colors hover-elevate active-elevate-2 inline-block px-2 py-1 -ml-2 rounded-md\"\n                    data-testid={`link-footer-${link.label.toLowerCase().replace(/\\s+/g, \"-\")}`}\n                  >\n                    {link.label}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div>\n            <h3 className=\"font-playfair text-base lg:text-lg font-semibold mb-4 text-foreground\">Resources</h3>\n            <ul className=\"space-y-3\">\n              {resourceLinks.map((link) => (\n                <li key={link.href}>\n                  <Link \n                    href={link.href}\n                    className=\"text-sm lg:text-base text-muted-foreground hover:text-foreground transition-colors hover-elevate active-elevate-2 inline-block px-2 py-1 -ml-2 rounded-md\"\n                    data-testid={`link-footer-${link.label.toLowerCase().replace(/\\s+/g, \"-\")}`}\n                  >\n                    {link.label}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div>\n            <h3 className=\"font-playfair text-base lg:text-lg font-semibold mb-4 text-foreground\">Cultures</h3>\n            <ul className=\"space-y-3\">\n              {cultureLinks.map((link) => (\n                <li key={link.href}>\n                  <Link \n                    href={link.href}\n                    className=\"text-sm lg:text-base text-muted-foreground hover:text-foreground transition-colors hover-elevate active-elevate-2 inline-block px-2 py-1 -ml-2 rounded-md\"\n                    data-testid={`link-footer-${link.label.toLowerCase().replace(/\\s+/g, \"-\")}`}\n                  >\n                    {link.label}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div>\n            <h3 className=\"font-playfair text-base lg:text-lg font-semibold mb-4 text-foreground\">Countries</h3>\n            <ul className=\"space-y-3\">\n              {countryLinks.map((link) => (\n                <li key={link.href}>\n                  <Link \n                    href={link.href}\n                    className=\"text-sm lg:text-base text-muted-foreground hover:text-foreground transition-colors hover-elevate active-elevate-2 inline-block px-2 py-1 -ml-2 rounded-md\"\n                    data-testid={`link-footer-${link.label.toLowerCase().replace(/\\s+/g, \"-\")}`}\n                  >\n                    {link.label}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n\n        <div className=\"border-t border-border mt-12 pt-8\">\n          <div className=\"flex flex-col md:flex-row justify-between items-center gap-4\">\n            <p className=\"text-sm text-muted-foreground text-center md:text-left\">\n              © 2024 WeddingInvite.ai. All rights reserved.\n            </p>\n            <div className=\"flex gap-6\">\n              <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\" data-testid=\"link-privacy\">\n                Privacy Policy\n              </a>\n              <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\" data-testid=\"link-terms\">\n                Terms of Service\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","path":null,"size_bytes":7014,"size_tokens":null},"client/src/pages/Blog.tsx":{"content":"import { SEOHead } from \"@/components/SEOHead\";\nimport { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Link } from \"wouter\";\nimport { Calendar, User, ArrowRight } from \"lucide-react\";\nimport homepageHero from \"@assets/generated_images/Homepage_cinematic_wedding_hero_efb94fa0.png\";\nimport indianPunjabiHero from \"@assets/generated_images/Indian_Punjabi_wedding_culture_b8245c44.png\";\nimport arabicHero from \"@assets/generated_images/Arabic_UAE_wedding_culture_5fdde5ea.png\";\n\nexport default function Blog() {\n  const articles = [\n    {\n      id: \"1\",\n      title: \"10 Wedding Video Invitation Trends for 2024\",\n      slug: \"wedding-video-invitation-trends-2024\",\n      excerpt: \"Discover the hottest trends in wedding video invitations, from AI-generated content to culturally authentic designs.\",\n      author: \"Sophia Martinez\",\n      category: \"Trends\",\n      publishedAt: \"Dec 15, 2024\",\n      thumbnailUrl: homepageHero,\n    },\n    {\n      id: \"2\",\n      title: \"Guide to Planning a Traditional Indian Wedding\",\n      slug: \"traditional-indian-wedding-planning-guide\",\n      excerpt: \"Everything you need to know about planning an authentic Indian wedding celebration with traditional ceremonies and modern touches.\",\n      author: \"Priya Sharma\",\n      category: \"Cultural Guides\",\n      publishedAt: \"Dec 10, 2024\",\n      thumbnailUrl: indianPunjabiHero,\n    },\n    {\n      id: \"3\",\n      title: \"How to Create Cinematic Wedding Videos on Budget\",\n      slug: \"create-cinematic-wedding-videos-budget\",\n      excerpt: \"Professional tips for creating stunning cinematic wedding video invitations without breaking the bank.\",\n      author: \"Michael Chen\",\n      category: \"Tips & Tricks\",\n      publishedAt: \"Dec 5, 2024\",\n      thumbnailUrl: homepageHero,\n    },\n    {\n      id: \"4\",\n      title: \"Arabic Wedding Traditions: A Complete Guide\",\n      slug: \"arabic-wedding-traditions-complete-guide\",\n      excerpt: \"Explore the rich traditions of Arabic weddings from engagement to Zaffa procession and everything in between.\",\n      author: \"Fatima Al-Hassan\",\n      category: \"Cultural Guides\",\n      publishedAt: \"Nov 28, 2024\",\n      thumbnailUrl: arabicHero,\n    },\n    {\n      id: \"5\",\n      title: \"5 Ways AI is Revolutionizing Wedding Invitations\",\n      slug: \"ai-revolutionizing-wedding-invitations\",\n      excerpt: \"How artificial intelligence is transforming the way couples create and share their wedding invitations.\",\n      author: \"David Park\",\n      category: \"Technology\",\n      publishedAt: \"Nov 20, 2024\",\n      thumbnailUrl: homepageHero,\n    },\n    {\n      id: \"6\",\n      title: \"Nigerian Wedding Customs: Colors, Dances, and Joy\",\n      slug: \"nigerian-wedding-customs-guide\",\n      excerpt: \"A vibrant journey through Nigerian wedding traditions, from Ankara fabrics to traditional dances.\",\n      author: \"Chioma Okonkwo\",\n      category: \"Cultural Guides\",\n      publishedAt: \"Nov 15, 2024\",\n      thumbnailUrl: indianPunjabiHero,\n    },\n  ];\n\n  return (\n    <>\n      <SEOHead\n        title=\"Wedding Blog - Tips, Trends & Cultural Guides\"\n        description=\"Expert wedding planning tips, video invitation trends, and cultural wedding guides. Learn how to create perfect wedding celebrations.\"\n        keywords=\"wedding blog, wedding tips, cultural wedding guides, video invitation trends, wedding planning\"\n      />\n\n      <section className=\"py-16 md:py-24 lg:py-32 bg-gradient-to-b from-background to-card\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12 lg:mb-16\">\n            <h1 className=\"font-playfair text-5xl lg:text-6xl font-bold text-foreground mb-4\">\n              Wedding Blog\n            </h1>\n            <p className=\"text-muted-foreground text-lg lg:text-xl max-w-2xl mx-auto\">\n              Expert tips, cultural guides, and inspiration for your perfect celebration\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8\">\n            {articles.map((article) => (\n              <Card key={article.id} className=\"group overflow-hidden transition-all duration-300\" data-testid={`article-${article.id}`}>\n                <Link href={`/blog/${article.slug}`} className=\"block hover-elevate active-elevate-2\">\n                  <div className=\"relative aspect-[16/10] overflow-hidden bg-muted\">\n                    <img\n                      src={article.thumbnailUrl}\n                      alt={article.title}\n                      className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\"\n                    />\n                    <Badge className=\"absolute top-3 left-3 bg-primary text-primary-foreground\">\n                      {article.category}\n                    </Badge>\n                  </div>\n                  <div className=\"p-6\">\n                    <h3 className=\"font-playfair text-xl lg:text-2xl font-bold text-foreground mb-3 line-clamp-2 group-hover:text-primary transition-colors\">\n                      {article.title}\n                    </h3>\n                    <p className=\"text-muted-foreground mb-4 line-clamp-2\">\n                      {article.excerpt}\n                    </p>\n                    <div className=\"flex items-center gap-4 text-sm text-muted-foreground mb-4\">\n                      <span className=\"flex items-center gap-1\">\n                        <User className=\"w-4 h-4\" />\n                        {article.author}\n                      </span>\n                      <span className=\"flex items-center gap-1\">\n                        <Calendar className=\"w-4 h-4\" />\n                        {article.publishedAt}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-2 text-primary font-medium group-hover:gap-3 transition-all\">\n                      Read More\n                      <ArrowRight className=\"w-4 h-4\" />\n                    </div>\n                  </div>\n                </Link>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":6166,"size_tokens":null},"client/src/components/CategoryCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Link } from \"wouter\";\nimport { ArrowRight } from \"lucide-react\";\n\ninterface CategoryCardProps {\n  name: string;\n  slug: string;\n  description: string;\n  heroImageUrl: string;\n  templateCount: number;\n  icon?: React.ReactNode;\n}\n\nexport function CategoryCard({\n  name,\n  slug,\n  description,\n  heroImageUrl,\n  templateCount,\n  icon,\n}: CategoryCardProps) {\n  return (\n    <Card className=\"group overflow-hidden transition-all duration-300\" data-testid={`card-category-${slug}`}>\n      <Link href={`/categories/${slug}`} className=\"block hover-elevate active-elevate-2\">\n        <div className=\"relative aspect-[16/10] overflow-hidden bg-muted\">\n          <img\n            src={heroImageUrl}\n            alt={name}\n            className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent\" />\n          <div className=\"absolute inset-0 flex flex-col justify-end p-6\">\n            {icon && (\n              <div className=\"mb-3 text-white/90\">\n                {icon}\n              </div>\n            )}\n            <h3 className=\"font-playfair text-2xl lg:text-3xl font-bold text-white mb-2\">\n              {name}\n            </h3>\n            <p className=\"text-white/90 text-sm lg:text-base mb-3 line-clamp-2\">\n              {description}\n            </p>\n            <div className=\"flex items-center justify-between\">\n              <Badge className=\"bg-white/20 backdrop-blur-sm text-white border-none hover:bg-white/30\">\n                {templateCount} Templates\n              </Badge>\n              <ArrowRight className=\"w-5 h-5 text-white transform group-hover:translate-x-2 transition-transform\" />\n            </div>\n          </div>\n        </div>\n      </Link>\n    </Card>\n  );\n}\n","path":null,"size_bytes":1937,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","path":null,"size_bytes":1904,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","path":null,"size_bytes":483,"size_tokens":null},"client/src/components/AuthModal.tsx":{"content":"import { useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Loader2, ArrowLeft, Mail, Phone } from \"lucide-react\";\nimport { signInWithRedirect } from \"firebase/auth\";\nimport { auth, googleProvider } from \"@/lib/firebase\";\nimport {\n  InputOTP,\n  InputOTPGroup,\n  InputOTPSlot,\n} from \"@/components/ui/input-otp\";\n\ninterface AuthModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess?: () => void;\n}\n\ntype ViewState = \"auth\" | \"forgot-input\" | \"forgot-otp\";\n\nexport function AuthModal({ isOpen, onClose, onSuccess }: AuthModalProps) {\n  const [activeTab, setActiveTab] = useState<\"signin\" | \"signup\">(\"signin\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [viewState, setViewState] = useState<ViewState>(\"auth\");\n  const { toast } = useToast();\n\n  // Sign In form state\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSignInPassword] = useState(\"\");\n\n  // Sign Up form state\n  const [signUpName, setSignUpName] = useState(\"\");\n  const [signUpEmail, setSignUpEmail] = useState(\"\");\n  const [signUpPhone, setSignUpPhone] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const [signUpConfirmPassword, setSignUpConfirmPassword] = useState(\"\");\n\n  // Forgot Password state\n  const [forgotInput, setForgotInput] = useState(\"\");\n  const [forgotInputType, setForgotInputType] = useState<\"email\" | \"phone\" | null>(null);\n  const [otpValue, setOtpValue] = useState(\"\");\n\n  const detectInputType = (value: string): \"email\" | \"phone\" | null => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const phoneRegex = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/;\n    \n    if (emailRegex.test(value)) return \"email\";\n    if (phoneRegex.test(value.replace(/\\s/g, ''))) return \"phone\";\n    return null;\n  };\n\n  const handleSignIn = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email: signInEmail,\n          password: signInPassword,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Login failed\");\n      }\n\n      localStorage.setItem(\"auth_token\", result.token);\n      localStorage.setItem(\"user\", JSON.stringify(result.user));\n      window.dispatchEvent(new Event('authStateChanged'));\n\n      toast({\n        title: \"Signed in successfully!\",\n        description: `Welcome back, ${result.user.name}`,\n      });\n\n      setSignInEmail(\"\");\n      setSignInPassword(\"\");\n      \n      onSuccess?.();\n      onClose();\n    } catch (error) {\n      toast({\n        title: \"Login failed\",\n        description: error instanceof Error ? error.message : \"Please try again\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSignUp = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (signUpPassword !== signUpConfirmPassword) {\n      toast({\n        title: \"Passwords don't match\",\n        description: \"Please ensure both passwords are the same.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (signUpPassword.length < 6) {\n      toast({\n        title: \"Password too short\",\n        description: \"Password must be at least 6 characters long.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(\"/api/auth/signup\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: signUpName,\n          email: signUpEmail,\n          phone: signUpPhone || undefined,\n          password: signUpPassword,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Signup failed\");\n      }\n\n      localStorage.setItem(\"auth_token\", result.token);\n      localStorage.setItem(\"user\", JSON.stringify(result.user));\n      window.dispatchEvent(new Event('authStateChanged'));\n\n      toast({\n        title: \"Account created successfully!\",\n        description: `Welcome, ${signUpName}!`,\n      });\n\n      setSignUpName(\"\");\n      setSignUpEmail(\"\");\n      setSignUpPhone(\"\");\n      setSignUpPassword(\"\");\n      setSignUpConfirmPassword(\"\");\n\n      onSuccess?.();\n      onClose();\n    } catch (error) {\n      toast({\n        title: \"Signup failed\",\n        description: error instanceof Error ? error.message : \"Please try again\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    try {\n      console.log(\"[Google Auth] Button clicked - initiating redirect to Google...\");\n      await signInWithRedirect(auth, googleProvider);\n      console.log(\"[Google Auth] Redirect initiated successfully\");\n    } catch (error: any) {\n      console.error(\"[Google Auth] Failed to initiate redirect:\", error);\n      toast({\n        title: \"Google sign-in failed\",\n        description: error.message || \"Please try again\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleForgotPasswordSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    const inputType = detectInputType(forgotInput);\n    if (!inputType) {\n      toast({\n        title: \"Invalid input\",\n        description: \"Please enter a valid email address or phone number.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    setForgotInputType(inputType);\n    setViewState(\"forgot-otp\");\n  };\n\n  const handleOtpVerify = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (otpValue.length !== 6) {\n      toast({\n        title: \"Invalid OTP\",\n        description: \"Please enter a valid 6-digit OTP.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // UI-only: Show success and go back to sign in\n    toast({\n      title: \"OTP Verified\",\n      description: \"Your identity has been verified successfully.\",\n    });\n    handleBackToAuth();\n  };\n\n  const handleBackToAuth = () => {\n    setViewState(\"auth\");\n    setForgotInput(\"\");\n    setForgotInputType(null);\n    setOtpValue(\"\");\n  };\n\n  const handleClose = () => {\n    if (!isLoading) {\n      handleBackToAuth();\n      onClose();\n    }\n  };\n\n  const getMaskedContact = () => {\n    if (forgotInputType === \"email\") {\n      const [local, domain] = forgotInput.split(\"@\");\n      const maskedLocal = local.length > 3 \n        ? `${local.slice(0, 2)}${\"*\".repeat(local.length - 3)}${local.slice(-1)}`\n        : `${local[0]}${\"*\".repeat(local.length - 1)}`;\n      return `${maskedLocal}@${domain}`;\n    } else {\n      const cleaned = forgotInput.replace(/\\s/g, '');\n      return `${\"*\".repeat(cleaned.length - 4)}${cleaned.slice(-4)}`;\n    }\n  };\n\n  // Forgot Password - Enter Email/Phone\n  if (viewState === \"forgot-input\") {\n    return (\n      <Dialog open={isOpen} onOpenChange={handleClose}>\n        <DialogContent className=\"sm:max-w-[480px]\" data-testid=\"modal-forgot-password\">\n          <DialogHeader>\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={handleBackToAuth}\n                className=\"h-8 w-8\"\n                data-testid=\"button-back-to-auth\"\n              >\n                <ArrowLeft className=\"h-4 w-4\" />\n              </Button>\n              <DialogTitle className=\"text-2xl font-playfair\">\n                Forgot Password\n              </DialogTitle>\n            </div>\n            <DialogDescription>\n              Enter your email address or phone number to receive a verification code.\n            </DialogDescription>\n          </DialogHeader>\n\n          <form onSubmit={handleForgotPasswordSubmit} className=\"space-y-4 mt-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"forgot-input\">Email or Phone Number</Label>\n              <Input\n                id=\"forgot-input\"\n                type=\"text\"\n                placeholder=\"you@example.com or +91 98765 43210\"\n                value={forgotInput}\n                onChange={(e) => setForgotInput(e.target.value)}\n                required\n                data-testid=\"input-forgot-email-phone\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                We'll send a 6-digit verification code.\n              </p>\n            </div>\n            \n            <Button \n              type=\"submit\" \n              className=\"w-full\"\n              data-testid=\"button-send-otp\"\n            >\n              Send Verification Code\n            </Button>\n          </form>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  // Forgot Password - Enter OTP\n  if (viewState === \"forgot-otp\") {\n    return (\n      <Dialog open={isOpen} onOpenChange={handleClose}>\n        <DialogContent className=\"sm:max-w-[480px]\" data-testid=\"modal-otp-verify\">\n          <DialogHeader>\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => setViewState(\"forgot-input\")}\n                className=\"h-8 w-8\"\n                data-testid=\"button-back-to-forgot\"\n              >\n                <ArrowLeft className=\"h-4 w-4\" />\n              </Button>\n              <DialogTitle className=\"text-2xl font-playfair\">\n                Verify OTP\n              </DialogTitle>\n            </div>\n          </DialogHeader>\n\n          {/* OTP Sent Notification */}\n          <div className=\"flex items-center gap-3 p-4 rounded-lg bg-accent/10 border border-accent/20\">\n            {forgotInputType === \"email\" ? (\n              <Mail className=\"h-5 w-5 text-primary flex-shrink-0\" />\n            ) : (\n              <Phone className=\"h-5 w-5 text-primary flex-shrink-0\" />\n            )}\n            <div>\n              <p className=\"text-sm font-medium\">\n                OTP sent to {forgotInputType === \"email\" ? \"email\" : \"phone\"}\n              </p>\n              <p className=\"text-xs text-muted-foreground\">\n                {getMaskedContact()}\n              </p>\n            </div>\n          </div>\n\n          <form onSubmit={handleOtpVerify} className=\"space-y-5 mt-2\">\n            {/* 6-digit OTP Input */}\n            <div className=\"space-y-3\">\n              <Label>Enter 6-digit verification code</Label>\n              <div className=\"flex justify-center\">\n                <InputOTP\n                  maxLength={6}\n                  value={otpValue}\n                  onChange={(value) => setOtpValue(value)}\n                  data-testid=\"input-otp\"\n                >\n                  <InputOTPGroup>\n                    <InputOTPSlot index={0} />\n                    <InputOTPSlot index={1} />\n                    <InputOTPSlot index={2} />\n                    <InputOTPSlot index={3} />\n                    <InputOTPSlot index={4} />\n                    <InputOTPSlot index={5} />\n                  </InputOTPGroup>\n                </InputOTP>\n              </div>\n              <p className=\"text-xs text-center text-muted-foreground\">\n                Didn't receive the code?{\" \"}\n                <button\n                  type=\"button\"\n                  className=\"text-primary hover:underline\"\n                  onClick={() => {\n                    toast({\n                      title: \"OTP Resent\",\n                      description: `A new code has been sent to your ${forgotInputType}.`,\n                    });\n                  }}\n                  data-testid=\"button-resend-otp\"\n                >\n                  Resend\n                </button>\n              </p>\n            </div>\n            \n            <Button \n              type=\"submit\" \n              className=\"w-full\"\n              disabled={otpValue.length !== 6}\n              data-testid=\"button-verify-otp\"\n            >\n              Verify\n            </Button>\n          </form>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  // Main Auth View (Sign In / Sign Up)\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"sm:max-w-[480px]\" data-testid=\"modal-auth\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl font-playfair text-center\">\n            {activeTab === \"signin\" ? \"Welcome Back\" : \"Create Account\"}\n          </DialogTitle>\n          <DialogDescription className=\"text-center\">\n            {activeTab === \"signin\" \n              ? \"Sign in to continue creating your wedding invitation\" \n              : \"Join WeddingInvite.ai and create stunning video invitations\"}\n          </DialogDescription>\n        </DialogHeader>\n\n        <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as \"signin\" | \"signup\")} className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2\" data-testid=\"tabs-auth\">\n            <TabsTrigger value=\"signin\" data-testid=\"tab-signin\">Sign In</TabsTrigger>\n            <TabsTrigger value=\"signup\" data-testid=\"tab-signup\">Sign Up</TabsTrigger>\n          </TabsList>\n\n          {/* Sign In Tab */}\n          <TabsContent value=\"signin\">\n            <div className=\"space-y-4 mt-4\">\n              {/* Google Sign-In Button */}\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                className=\"w-full\"\n                onClick={handleGoogleSignIn}\n                disabled={isLoading}\n                data-testid=\"button-google-signin\"\n              >\n                <svg className=\"w-5 h-5 mr-2\" viewBox=\"0 0 24 24\">\n                  <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                  <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                  <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                  <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                </svg>\n                Continue with Google\n              </Button>\n              \n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <Separator className=\"w-full\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs uppercase\">\n                  <span className=\"bg-background px-2 text-muted-foreground\">\n                    Or continue with email\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <form onSubmit={handleSignIn} className=\"space-y-4 mt-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"signin-email\">Email</Label>\n                <Input\n                  id=\"signin-email\"\n                  type=\"email\"\n                  placeholder=\"you@example.com\"\n                  value={signInEmail}\n                  onChange={(e) => setSignInEmail(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-signin-email\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"signin-password\">Password</Label>\n                  <button\n                    type=\"button\"\n                    onClick={() => setViewState(\"forgot-input\")}\n                    className=\"text-xs text-primary hover:underline\"\n                    data-testid=\"link-forgot-password\"\n                  >\n                    Forgot Password?\n                  </button>\n                </div>\n                <Input\n                  id=\"signin-password\"\n                  type=\"password\"\n                  placeholder=\"Enter your password\"\n                  value={signInPassword}\n                  onChange={(e) => setSignInPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-signin-password\"\n                />\n              </div>\n              <Button \n                type=\"submit\" \n                className=\"w-full\" \n                disabled={isLoading}\n                data-testid=\"button-signin-submit\"\n              >\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Signing in...\n                  </>\n                ) : (\n                  \"Sign In\"\n                )}\n              </Button>\n            </form>\n          </TabsContent>\n\n          {/* Sign Up Tab */}\n          <TabsContent value=\"signup\">\n            <div className=\"space-y-4 mt-4\">\n              {/* Google Sign-In Button */}\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                className=\"w-full\"\n                onClick={handleGoogleSignIn}\n                disabled={isLoading}\n                data-testid=\"button-google-signup\"\n              >\n                <svg className=\"w-5 h-5 mr-2\" viewBox=\"0 0 24 24\">\n                  <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                  <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                  <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                  <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                </svg>\n                Continue with Google\n              </Button>\n              \n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <Separator className=\"w-full\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs uppercase\">\n                  <span className=\"bg-background px-2 text-muted-foreground\">\n                    Or sign up with email\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <form onSubmit={handleSignUp} className=\"space-y-4 mt-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"signup-name\">Full Name</Label>\n                <Input\n                  id=\"signup-name\"\n                  type=\"text\"\n                  placeholder=\"John Doe\"\n                  value={signUpName}\n                  onChange={(e) => setSignUpName(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-signup-name\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"signup-email\">Email</Label>\n                <Input\n                  id=\"signup-email\"\n                  type=\"email\"\n                  placeholder=\"you@example.com\"\n                  value={signUpEmail}\n                  onChange={(e) => setSignUpEmail(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-signup-email\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"signup-phone\">Phone Number (Optional)</Label>\n                <Input\n                  id=\"signup-phone\"\n                  type=\"tel\"\n                  placeholder=\"+91 98765 43210\"\n                  value={signUpPhone}\n                  onChange={(e) => setSignUpPhone(e.target.value)}\n                  disabled={isLoading}\n                  data-testid=\"input-signup-phone\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"signup-password\">Password</Label>\n                <Input\n                  id=\"signup-password\"\n                  type=\"password\"\n                  placeholder=\"Create a password\"\n                  value={signUpPassword}\n                  onChange={(e) => setSignUpPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-signup-password\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"signup-confirm-password\">Confirm Password</Label>\n                <Input\n                  id=\"signup-confirm-password\"\n                  type=\"password\"\n                  placeholder=\"Confirm your password\"\n                  value={signUpConfirmPassword}\n                  onChange={(e) => setSignUpConfirmPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-signup-confirm-password\"\n                />\n              </div>\n              <Button \n                type=\"submit\" \n                className=\"w-full\" \n                disabled={isLoading}\n                data-testid=\"button-signup-submit\"\n              >\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Creating account...\n                  </>\n                ) : (\n                  \"Create Account\"\n                )}\n              </Button>\n            </form>\n          </TabsContent>\n        </Tabs>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":22426,"size_tokens":null},"attached_assets/content-1763536945021.md":{"content":"10% OFF — Use INVITES10\n\n# Online invitationMaker\n\nCreate online invitations in minutes by choosing from thousands of customizable templates for weddings, birthdays, and every occasion.\n\n[Get Started for Free](https://www.247invites.com/categories/videos)\n\n![247Invites](https://www.247invites.com/assets/images/mobile-hero-banner.webp)\n\n![247Invites](https://www.247invites.com/assets/images/hero-banner.webp)\n\n## Popular Invitation Categories\n\n[Wedding](https://www.247invites.com/wedding-invitations) [Birthday](https://www.247invites.com/birthday-Invitations) [Baby & Kids](https://www.247invites.com/more-invitations) [House warming](https://www.247invites.com/housewarming-invitations)\n\n## Your Invitation, Your Style\n\nDesign digital invitations as engaging videos or classic cards. Explore our templates!\n\n![](https://www.247invites.com/assets/images/card-arrow.png)\n\nVideo  Card\n\n![247Invites](https://www.247invites.com/assets/images/type-video.webp)\n\nOur Video Invites are perfect for those who prefer elegant simplicity.\n\n- Wide range of templates\n- Customizable fonts and colors\n- Ready to download and share instantly\n- Perfect for print or digital use\n\n[edit Create Video Invitation](https://www.247invites.com/categories/videos)\n\n## Browse Invitation categories\n\nFind the perfect invitation for every occasion – from birthdays to weddings and everything in between. Explore our diverse collections now!\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/wedding-invites-cat.webp)](https://www.247invites.com/wedding-invitations)\n\n[**Wedding Invite**\\\\\nElegant video & card invites for your big day](https://www.247invites.com/wedding-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/BirthDay.webp)](https://www.247invites.com/birthday-Invitations)\n\n[**Birthday Invite**\\\\\nFun and colorful invites for all ages](https://www.247invites.com/birthday-Invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/save-date-invites-cat.webp)](https://www.247invites.com/save-the-date-invitations)\n\n[**Save the Date** \\\\\nCelebrate your engagement with charm.](https://www.247invites.com/save-the-date-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/engagement-invite-cat.webp)](https://www.247invites.com/engagement-invitations)\n\n[**Engagment Ceremony** \\\\\nCelebrate your engagement with charm.](https://www.247invites.com/engagement-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/Anniversary.webp)](https://www.247invites.com/anniversary-invitations)\n\n[**Anniversary** \\\\\nPersonalized invites for your special milestone.](https://www.247invites.com/anniversary-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/BabyShower.webp)](https://www.247invites.com/baby-shower-invitations)\n\n[**Baby Shower** \\\\\nAdorable invites to welcome your little one.](https://www.247invites.com/baby-shower-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/halfsaree.webp)](https://www.247invites.com/half-saree-ceremony-invitations)\n\n[**Half Saree Ceremony** \\\\\nGraceful invites for her traditional milestone.](https://www.247invites.com/half-saree-ceremony-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/Baptism.webp)](https://www.247invites.com/baptism-ceremony-invitations)\n\n[**Baptism Ceremony** \\\\\nHeartfelt invites for a blessed occasion.](https://www.247invites.com/baptism-ceremony-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/cat-naming-ceremony-invite.webp)](https://www.247invites.com/naming-ceremony-invitations)\n\n[**Naming Naamkaran** \\\\\nJoyful invites to announce your baby’s name.](https://www.247invites.com/naming-ceremony-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/MundanCeremony.webp)](https://www.247invites.com/mundan-ceremony-invitations)\n\n[**Mundan Ceremony** \\\\\nTraditional invites for your child’s ceremony.](https://www.247invites.com/mundan-ceremony-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/HouseWarming.webp)](https://www.247invites.com/housewarming-invitations)\n\n[**House Warming** \\\\\nWarm invites to celebrate your new home.](https://www.247invites.com/housewarming-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/Pooja.webp)](https://www.247invites.com/pooja-invitations)\n\n[**Pooja** \\\\\nSacred invites for your spiritual gathering.](https://www.247invites.com/pooja-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/Dhoti.webp)](https://www.247invites.com/dhoti-ceremony-invitations)\n\n[**Dhoti Ceremony** \\\\\nTraditional invites for this special occasion.](https://www.247invites.com/dhoti-ceremony-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/thread.webp)](https://www.247invites.com/thread-ceremony-invitations)\n\n[**Thread Ceremony** \\\\\nElegant invites for your child’s milestone.](https://www.247invites.com/thread-ceremony-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/annaprashan.webp)](https://www.247invites.com/annaprashan-ceremony-invitations)\n\n[**Annaprashan** \\\\\nSweet invites to mark your baby’s first meal.](https://www.247invites.com/annaprashan-ceremony-invitations)\n\n[![247Invites](https://prod-assets.247invites.com/assets/images/Pooja.webp)](https://www.247invites.com/ganesh-chaturthi-invitations)\n\n[**Ganesh Chaturthi** \\\\\nCelebrate your engagement with charm.](https://www.247invites.com/ganesh-chaturthi-invitations)\n\nBrowse All Categories\n\n## How IT Works\n\nLearn how to personalize your invitations in just 3 simple steps. No Skill is required!\n\n![247Invites](https://www.247invites.com/assets/images/choose-an-invite.webp)\n\n### Choose an Invite\n\nSelect Card or Video template from 1000+ beautiful designs\n\n![247Invites](https://www.247invites.com/assets/images/customize-your-invite.webp)\n\n### Customize Your Invite\n\nAdd your details, choose music, colors, and language preference\n\n![247Invites](https://www.247invites.com/assets/images/download-and-share.webp)\n\n### Download & Share\n\nGet your invite and a sharable link. Ready to wow your guests!\n\nplay\\_circle\\_filled Watch Video Tutorial\n\n## Need a Custom Invitation?  Let Us Design It!\n\nLooking for a unique and professionally designed invitation? Our expert team offers custom invitation services for any event. Provide your details, and we'll create a tailored digital or printed design that perfectly matches your vision\n\n1\n\n### Choose The Invitation Type\n\n**Event Type:** Specify the event (e.g., wedding, birthday, corporate event, baby shower)\n\n**Format:** Select the format you want (e.g., digital, print, or both)\n\n2\n\n### Provide Event Details\n\n3\n\n### Select Design Preferences\n\n4\n\n### Payment & Delivery\n\naccount\\_circle Expert Create\n\n![](https://www.247invites.com/assets/images/exper-create-flow.webp)\n\n## Caricature Traditional Wedding Invitation Video\n\nBring your celebration to life with personalized caricature videos.\n\nTap below to request your custom creation on WhatsApp!\n\n![Video Thumbnail](https://prod-assets.247invites.com/assets/images/caricature-11.webp)\n\n00:00:34\n\n### Caricature Engagement Invitation Video\n\nEngagement\n\n![Video Thumbnail](https://prod-assets.247invites.com/assets/images/caricature-12.webp)\n\n00:00:53\n\n### Caricature Indian Wedding Invitation Video\n\nWedding\n\n![Video Thumbnail](https://prod-assets.247invites.com/assets/images/caricature-13.webp)\n\n00:00:56\n\n### Caricature Wedding Invitation Video\n\nWedding\n\n![Video Thumbnail](https://prod-assets.247invites.com/assets/images/caricature-14.webp)\n\n00:00:57\n\n### Caricature Wedding Invitation Video\n\nWedding\n\nConnect Now\n\n## Frequently Asked Questions\n\nEverything you need to know about creating digital invitations\n\n### How do I create my Video Invitation? expand\\_more\n\nOnce you customize the Video and enter all your details we will\ninstantly generate a preview video(With a watermark) for you to\ncheck and verify the details before you make a final payment for\nit. Once you made a payment, the Video will be available to\ndownload. Also, you can download it from \"My Video\" at any\npreferred time.\n\n### Can I get a Preview Video? expand\\_more\n\nYes, We provide instant preview of your generated video. This will\ngive a good confidence to our customer whether they needs to go\nfor a purchase or not. Our team is working really hard in\nbackground to provide you this real time experience.\n\n\nNon of our competitors provide a live preview and there is lot\nmore hidden const involve when you go for a manual process with\nthem. But here you can all get it done in less then 5 minutes and\nwithout and hidden cost.\n\n### Can I customize the video further? expand\\_more\n\nWe create all videos as per the Preview shown above. Any changes,\naddition or removal will be considered as a customization and\ncharged based on designer effort required to complete the changes.\n\n\nFor Customization Request, contact our support at\njack@247invites.com or contact us on the whatsapp\n[Here](https://api.whatsapp.com/send?phone=918669278777&text=Hi.)\nbefore placing the order.\n\n### How to download my video invitation? expand\\_more\n\nAfter making the payment you will be redirected to the download\nvideo page instantly. From there it self you can download it and\nfor any later time video will be available in your \"My Video\"\nsection as per our privacy terms.\n\n### Can I get a copy of the Video File? expand\\_more\n\nOfcourse. You can download the copy of the Video once you it is\ncreated. You can share it on WhatsApp, Facebook, etc. just like a\nregular video file.\n\n### Is 247Invites.com secure? expand\\_more\n\nAll your images are uploaded to our secure server. The images will\nbe deleted after creating the video automatically after 10 days.\n\n\nOur payment provider is the best in the industry and provides the\nmost robust and secure payment experience.\n\nDidn’t find your answer?\n\nContact Us\n\n## What Our Customers Say\n\nDiscover why our users love creating personalized invitations with us. See their experiences and the joy they've shared through our platform\n\nVP\n\nVijai Pidinti\n\nstarstarstarstarstar\n\nCreated a Birthday Invitation video from this website and all my invitees liked the invitation video. Unique templates at affordable cost. Very Supportive staff and so just say Love it!\n\nBK\n\nBharath Kumar\n\nstarstarstarstarstar\n\nVery good service by 24Invites.. They deliver very good quality works for very less price.. And also very user friendly for a normal person also to customise the video..\n\nSM\n\nSrinivasa Mahant\n\nstarstarstarstarstar\n\nReally nice interface, ease to make an invitation card.\nGood templates and formats Thanks for quickly responding\non a query. Great customer service even on holidays :\n\nEP\n\nEsp# Pharm.D\n\nstarstarstarstarstar\n\nWow it’s great! You can creat your own video within no\ntime.They have variety of options and worthy for the\nprice.\n\nRT\n\nRishu Tyagi\n\nstarstarstarstarstar\n\nExcellent service.. that too at an affordable price.\nPlus the after sale service is also commendable. These\npeople were so helpful in helping with my twins’\nbirthday invitation Video. It was a hasslefree\nexperience with the whole customisation process. To all\nthe parents looking for a trustworthy service.. please\ngo for it… trust me.. you won’t be disappointed. Looking\nforward to work more with these people!\n\nAM\n\nAbhishek Malhotra\n\nstarstarstarstarstar\n\nWonderfull designs and beautiful work of art on website\nis done. Pocket friendly as well. The customer support\nis also brilliant. Loved the website as how quickly it\nworks. Got my invitation within 5 minutes and in HD\nquality. Loved the invitation designs and graphics as\nwell. I Will surely recommend this to my friends and\nfamily in future.\n\nNK\n\nNitin Kalamkar\n\nstarstarstarstarstar\n\nBest site for any kind of video or ecard invitation with\na reasonable price... Used the frozen template for\ndaughters birthday invite and it was amazing! Must\nrecommeded to anyone looking for video/ecard invitation\ncreation... Thanks to 247Invites team for all your\nsupport!!!\n\nBR\n\nBunty Rohra\n\nstarstarstarstarstar\n\nI have received a Video as expected, they have done\nmajority of the work on their demo videos, you guys just\nhave to fill-in your details accordingly and that's it.\nEven their customer care is very helpful, Fully\nsatisfied 🙂\n\nCM\n\nChellarao M.\n\nstarstarstarstarstar\n\nAwesome help and customization by 247 team for my\ndaughters birthday.. I am impressed about the work.\nThank you so much.\n\nKS\n\nKethavath Shankar\n\nstarstarstarstarstar\n\nHi friends here I'll tell the use the birthday vedio\nmaking website is used for me. Vedio making website is\nquiet interesting and attractive video for creating\nspecial vieos for any of ur closed person we can make\nthem impress also to surprise them I too have a got an\nidea to create a video So I hv searched this website and\nits amazing Concept.\n\nSV\n\nSakshi Verma\n\nstarstarstarstarstar\n\nFabulous team of 247Invites. They, on request made a\ncustomized theme invite for my daughters 1st birthday. I\nam highly impressed. Good work !!\n\nAA\n\nAyesha Ayyub\n\nstarstarstarstarstar\n\nIt was so easy to make and download … less than a min.\nVideo invitation turned out to be really nice and\npresentable Highly recommended ❤️\n\nRL\n\nRenu Lavania\n\nstarstarstarstarstar\n\nVery good service. High quality video creation is very\neasy through 247Invites.\n\nNV\n\nNeharika Venugopal\n\nstarstarstarstarstar\n\nVery good and really helpful team. Thank you\n\nMN\n\nMayuri Mane\n\nstarstarstarstarstar\n\nCreated naming ceremony invitation and all loved\nit.Unique templates.\n\nSM\n\nSrivalli Manayam\n\nstarstarstarstarstar\n\nTemplates are elegant with affordable prices.\n\nKA\n\nKartik Arora\n\nstarstarstarstarstar\n\nFabulous service. Recommend.\n\nSS\n\nSanchit Sood\n\nstarstarstarstarstar\n\nEasy and convenient.\n\nstarstarstarstarstar\n\nstarstarstarstarstar\n\nchevron\\_left\n\nchevron\\_right\n\n## Popular Searches\n\n[Wedding Invitation Video Maker Online  \\|](https://www.247invites.com/wedding-invitations)\n\n[Indian Wedding Invitation Video with Music  \\|](https://www.247invites.com/wedding-invitations)\n\n[Digital Wedding Invitation Video Design  \\|](https://www.247invites.com/wedding-invitations)\n\n[Traditional Indian Wedding Video Invitation  \\|](https://www.247invites.com/wedding-invitations)\n\n[Modern Wedding Video Invitation Templates  \\|](https://www.247invites.com/wedding-invitations)\n\n[Save the Date Digital Video Invitation  \\|](https://www.247invites.com/save-the-date-invitations)\n\n[Engagement Party Video Invitation Template  \\|](https://www.247invites.com/engagement-invitations)\n\n[Ring Ceremony Video Invitation with Photos  \\|](https://www.247invites.com/engagement-invitations)\n\n[Mehndi Ceremony Video Invitation Designs  \\|](https://www.247invites.com/wedding-invitations)\n\n[Haldi Function Video Invitation with Songs  \\|](https://www.247invites.com/wedding-invitations)\n\n[Sangeet Night Video Invitation Ideas  \\|](https://www.247invites.com/wedding-invitations)\n\n[Tilak Ceremony Video Invitation Cards  \\|](https://www.247invites.com/wedding-invitations)\n\n[Wedding Reception Video Invitation Template  \\|](https://www.247invites.com/wedding-invitations)\n\n[Bridal Shower Video Invitation for Friends  \\|](https://www.247invites.com/wedding-invitations)\n\n[Roka Ceremony Video Invitation Design  \\|](https://www.247invites.com/wedding-invitations)\n\n[Pre Wedding Invitation Video with Couple Photos  \\|](https://www.247invites.com/wedding-invitations)\n\n[Marathi Wedding Video Invitation Templates  \\|](https://www.247invites.com/marathi-wedding-invitations)\n\n[Traditional Marathi Theme Wedding Invitation Video  \\|](https://www.247invites.com/marathi-wedding-invitations)\n\n[Sakharpuda Video Invitation in Marathi  \\|](https://www.247invites.com/marathi-wedding-invitations)\n\n[Marathi Engagement Video Invitation Online  \\|](https://www.247invites.com/marathi-wedding-invitations)\n\n[Marathi Marriage Video Card Maker  \\|](https://www.247invites.com/marathi-wedding-invitations)\n\n[Free Marathi Wedding Video Invitation Templates  \\|](https://www.247invites.com/marathi-wedding-invitations)\n\n[Hindi Wedding Invitation Video with Music  \\|](https://www.247invites.com/wedding-invitations)\n\n[Hindi Marriage Video Invitation Maker  \\|](https://www.247invites.com/wedding-invitations)\n\n[Hindi Wedding Video Invitation Templates  \\|](https://www.247invites.com/wedding-invitations)\n\n[Punjabi Wedding Invitation Video Download  \\|](https://www.247invites.com/punjabi-wedding-invitations)\n\n[Punjabi Wedding Video Invitation Templates Free  \\|](https://www.247invites.com/punjabi-wedding-invitations)\n\n[Rajasthani Wedding Video Invitation Maker  \\|](https://www.247invites.com/rajasthani-wedding-invitations)\n\n[Marwari Theme Wedding Video Invitation  \\|](https://www.247invites.com/wedding-invitations)\n\n[South Indian Wedding Invitation Video with Traditional Music  \\|](https://www.247invites.com/south-indian-wedding-invitations)\n\n[Jain Wedding Video Invitation Templates  \\|](https://www.247invites.com/jain-wedding-invitations)\n\n[Muslim Wedding Video Invitation Templates  \\|](https://www.247invites.com/muslim-wedding-invitations)\n\n[Christian Wedding Video Invitation Templates  \\|](https://www.247invites.com/wedding-invitations)\n\n[Bengali Wedding Video Invitation Templates  \\|](https://www.247invites.com/bengali-wedding-invitations)\n\n[Housewarming Video Invitation Card Online  \\|](https://www.247invites.com/housewarming-invitations)\n\n[Grah Pravesh Video Invitation in Hindi  \\|](https://www.247invites.com/housewarming-invitations)\n\n[New Home Digital Invitation Video  \\|](https://www.247invites.com/housewarming-invitations)\n\n[Baby Shower Video Invitation with Cute Animations  \\|](https://www.247invites.com/baby-shower-invitations)\n\n[Godh Bharai Ceremony Video Invitation Templates  \\|](https://www.247invites.com/baby-shower-invitations)\n\n[Birthday Video Invitation Maker Online Free  \\|](https://www.247invites.com/birthday-invitations)\n\n[Birthday Greeting Video with Name and Photo  \\|](https://www.247invites.com/birthday-invitations)\n\n[Superhero Theme Birthday Video Invitation  \\|](https://www.247invites.com/birthday-invitations)\n\n[Anniversary Video Invitation Template Online  \\|](https://www.247invites.com/anniversary-invitations)\n\n[Happy Anniversary Video Card with Music  \\|](https://www.247invites.com/anniversary-invitations)\n\n[Devotional Function Video Invitation Templates  \\|](https://www.247invites.com/pooja-invitations)\n\n[Thank You Video Greeting for Friends & Family  \\|](https://www.247invites.com/greetings)\n\n[Congratulations Video Greeting Templates  \\|](https://www.247invites.com/greetings)\n\n[Birthday Wishes Video Greeting for Whatsapp  \\|](https://www.247invites.com/birthday-invitations)\n\n[Free Greeting Video Templates Online  \\|](https://www.247invites.com/greetings)\n\n[Create Personalized Greeting Videos Online  \\|](https://www.247invites.com/greetings)\n\n[Wedding Video Invitation Maker Tool  \\|](https://www.247invites.com/greetings)\n\n[Custom Wedding Invitation Video Online  \\|](https://www.247invites.com/categories/videos)\n\n[Premium Wedding Video Invitation Designs  \\|](https://www.247invites.com/wedding-invitations)\n\n[Online Video Invitation Maker Free  \\|](https://www.247invites.com/categories/videos)\n\n[Free Video Invitation Templates for All Occasions  \\|](https://www.247invites.com/categories/videos)\n\n[Buy Premium Invitation Video Online  \\|](https://www.247invites.com/categories/videos)\n\n[Digital Invitation Card Maker Online  \\|](https://www.247invites.com/categories/videos)\n\n[Video Greeting Maker Online Free  \\|](https://www.247invites.com/categories/videos)\n\n[Marathi Wedding Invitation Video with Traditional Theme  \\|](https://www.247invites.com/marathi-wedding-invitations)\n\n[Haldi Ceremony Video Invitation with Bollywood Songs  \\|](https://www.247invites.com/wedding-invitations)\n\n[Punjabi Wedding Invitation Video Download Free  \\|](https://www.247invites.com/punjabi-wedding-invitations)\n\n[Free Engagement Video Invitation Template in Hindi  \\|](https://www.247invites.com/engagement-invitations)\n\n[Housewarming Invitation Video in Marathi Language  \\|](https://www.247invites.com/housewarming-invitations)\n\n[Digital Save the Date Video Invitation for Wedding  \\|](https://www.247invites.com/save-the-date-invitations)\n\n[Baby Shower Video Invitation Maker Online Free  \\|](https://www.247invites.com/baby-shower-invitations)\n\n[Superhero Theme Birthday Invitation Video for Kids  \\|](https://www.247invites.com/birthday-invitations)\n\n[Buy Premium Wedding Invitation Video Online  \\|](https://www.247invites.com/wedding-invitations)\n\n[Diwali Video Invitation Card Online  \\|](https://www.247invites.com/diwali-invitations)\n\n[Half Saree Ceremony Video Invitation Templates  \\|](https://www.247invites.com/half-saree-ceremony-invitations)\n\n[Baptism Video Invitation Templates for Church Ceremony  \\|](https://www.247invites.com/baptism-ceremony-invitations)\n\n[Naamkaran Ceremony Digital Invitation Video  \\|](https://www.247invites.com/naming-ceremony-invitations)\n\n[Mundan Ceremony Video Invitation Designs  \\|](https://www.247invites.com/mundan-ceremony-Invitations)\n\n[Christmas Party Video Invitation Maker  \\|](https://www.247invites.com/christmas-invitations)\n\n[Pooja Ceremony Video Invitation Templates  \\|](https://www.247invites.com/pooja-invitations)\n\n[Dhoti Ceremony Video Invitation Templates  \\|](https://www.247invites.com/dhoti-ceremony-invitations)\n\n[Thread Ceremony Digital Video Invitation  \\|](https://www.247invites.com/thread-ceremony-invitations)\n\n[Muslim Wedding Video Invitation Maker  \\|](https://www.247invites.com/muslim-wedding-invitations)\n\n[Annaprashan Ceremony Video Invitation Templates  \\|](https://www.247invites.com/annaprashan-ceremony-invitations)\n\n[Kitty Party Digital Video Invitation  \\|](https://www.247invites.com/kitty-party-invitations)\n\n[Grand Opening Video Invitation for Business  \\|](https://www.247invites.com/grand-opening-invitations)\n\n[Adult Milestone Celebration Video Invitation  \\|](https://www.247invites.com/adult-milestones-invitations)\n\n![247Invites](https://prod-assets.247invites.com/assets/images/247invites-logo.png)\n\nIntroducing 247Invites, the ultimate solution for creating stunning invitation and greeting videos instantly! Whether you're planning a birthday party, wedding, anniversary, or any special occasion, 247Invites has got you covered with its incredible features and user-friendly interface.\n\nHome\n\n[Sitemap](https://www.247invites.com/sitemap.xml) - Be A Seller\n- Contact Us\n- Customer Reviews\n\nVideo Invitations\n\n[Wedding Invitations](https://www.247invites.com/wedding-invitations) [Birthday Invitations](https://www.247invites.com/birthday-Invitations) [Video Greetings](https://www.247invites.com/greetings) [Save the Date Invitation](https://www.247invites.com/save-the-date-invitations) [Engagement Invitation](https://www.247invites.com/engagement-invitations) [Hindu Wedding Invite](https://www.247invites.com/hindu-wedding-invitations) [Birthday Invites](https://www.247invites.com/birthday-invitations) [Baby Shower Invitation](https://www.247invites.com/baby-shower-invitations) [Birthday Greetings](https://www.247invites.com/birthday-greetings) [Diwali Invitation](https://www.247invites.com/diwali-invitations) [Half Saree Invitation](https://www.247invites.com/half-saree-ceremony-invitations) [Baptism Invitation](https://www.247invites.com/baptism-ceremony-invitations) [Naming Naamkaran Invitation](https://www.247invites.com/naming-ceremony-invitations) [Mundan Invitation](https://www.247invites.com/mundan-ceremony-invitations) [Christmas Invitation](https://www.247invites.com/christmas-invitations) [House Warming Invitation](https://www.247invites.com/housewarming-invitations) [South Indian Invitation](https://www.247invites.com/south-indian-wedding-invitations) [Marathi Invitation](https://www.247invites.com/marathi-wedding-invitations) [Rajasthani Invitation](https://www.247invites.com/rajasthani-wedding-invitations) [Pooja Invitation](https://www.247invites.com/pooja-invitations) [Jain Invitation](https://www.247invites.com/jain-wedding-invitations) [Dhoti Ceremony Invitation](https://www.247invites.com/dhoti-ceremony-invitations) [Thread Ceremony Invitation](https://www.247invites.com/thread-ceremony-invitations) [Anniversary Invitation](https://www.247invites.com/anniversary-invitations) [Punjabi Invitation](https://www.247invites.com/punjabi-wedding-invitations) [Muslim Invitation](https://www.247invites.com/muslim-wedding-invitations)\n\nContact Us\n\nHave questions?\n\n[support@247invites.com](mailto:support@247invites.com)\n\nFollow Us\n\n[![247Invites Youtube](https://www.247invites.com/assets/images/new-ui/youtube-square-svgrepo.svg)](https://www.youtube.com/channel/UCK2kPHODEAl6HK2V7k8FUeA/featured)\n\n[![247Invites Facebook](https://www.247invites.com/assets/images/new-ui/facebook-svgrepo.svg)](https://www.facebook.com/247invitation)\n\n[![247Invites Instagram](https://www.247invites.com/assets/images/new-ui/instagram-svgrepo.svg)](https://www.instagram.com/247invite/)\n\n [Whatsapp](https://api.whatsapp.com/send?phone=+918669278777&text=Hi.)\n\nCopyright © 247INVITES (OPC) PRIVATE LIMITED. All Rights Reserved.","path":null,"size_bytes":25368,"size_tokens":null},"client/src/pages/Login.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useState } from \"react\";\n\nconst loginSchema = z.object({\n  email: z.string().email(\"Invalid email address\"),\n  password: z.string().min(1, \"Password is required\"),\n});\n\ntype LoginForm = z.infer<typeof loginSchema>;\n\nexport default function Login() {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const form = useForm<LoginForm>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const onSubmit = async (data: LoginForm) => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Login failed\");\n      }\n\n      // Store JWT token\n      localStorage.setItem(\"auth_token\", result.token);\n      localStorage.setItem(\"user\", JSON.stringify(result.user));\n\n      toast({\n        title: \"Welcome back!\",\n        description: `Logged in as ${result.user.name}`,\n      });\n\n      navigate(\"/templates\");\n    } catch (error) {\n      toast({\n        title: \"Login failed\",\n        description: error instanceof Error ? error.message : \"Please try again\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n      <Card className=\"w-full max-w-md p-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"font-playfair text-3xl font-bold text-foreground mb-2\">\n            Welcome Back\n          </h1>\n          <p className=\"text-muted-foreground\">\n            Login to continue creating your wedding invitation\n          </p>\n        </div>\n\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              data-testid=\"input-email\"\n              placeholder=\"aarti@example.com\"\n              {...form.register(\"email\")}\n            />\n            {form.formState.errors.email && (\n              <p className=\"text-sm text-destructive mt-1\">\n                {form.formState.errors.email.message}\n              </p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"password\">Password</Label>\n            <Input\n              id=\"password\"\n              type=\"password\"\n              data-testid=\"input-password\"\n              placeholder=\"Enter your password\"\n              {...form.register(\"password\")}\n            />\n            {form.formState.errors.password && (\n              <p className=\"text-sm text-destructive mt-1\">\n                {form.formState.errors.password.message}\n              </p>\n            )}\n          </div>\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            disabled={isLoading}\n            data-testid=\"button-login\"\n          >\n            {isLoading ? \"Logging in...\" : \"Login\"}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-sm text-muted-foreground\">\n            Don't have an account?{\" \"}\n            <button\n              onClick={() => navigate(\"/signup\")}\n              className=\"text-primary hover:underline font-medium\"\n              data-testid=\"link-signup\"\n            >\n              Sign Up\n            </button>\n          </p>\n        </div>\n\n        <div className=\"mt-4 p-4 bg-muted rounded-md\">\n          <p className=\"text-xs text-muted-foreground text-center\">\n            <strong>Test Account:</strong> aarti@example.com / Test@1234\n          </p>\n        </div>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":4310,"size_tokens":null},"server/run-seed.ts":{"content":"import { seed } from \"./seed\";\n\nseed()\n  .then(() => {\n    console.log(\"✅ Seed completed\");\n    process.exit(0);\n  })\n  .catch((error) => {\n    console.error(\"❌ Seed failed:\", error);\n    process.exit(1);\n  });\n","path":null,"size_bytes":215,"size_tokens":null},"client/src/pages/Signup.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useState } from \"react\";\n\nconst signupSchema = z.object({\n  name: z.string().min(1, \"Name is required\"),\n  email: z.string().email(\"Invalid email address\"),\n  phone: z.string().optional(),\n  password: z\n    .string()\n    .min(8, \"Password must be at least 8 characters\")\n    .regex(/[A-Z]/, \"Password must contain at least one uppercase letter\")\n    .regex(/[0-9]/, \"Password must contain at least one number\")\n    .regex(/[!@#$%^&*(),.?\":{}|<>]/, \"Password must contain at least one special character\"),\n  confirmPassword: z.string(),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n});\n\ntype SignupForm = z.infer<typeof signupSchema>;\n\nexport default function Signup() {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const form = useForm<SignupForm>({\n    resolver: zodResolver(signupSchema),\n    defaultValues: {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n    },\n  });\n\n  const onSubmit = async (data: SignupForm) => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"/api/auth/signup\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: data.name,\n          email: data.email,\n          phone: data.phone || undefined,\n          password: data.password,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || \"Signup failed\");\n      }\n\n      toast({\n        title: \"Account created successfully!\",\n        description: \"Please login with your credentials\",\n      });\n\n      navigate(\"/login\");\n    } catch (error) {\n      toast({\n        title: \"Signup failed\",\n        description: error instanceof Error ? error.message : \"Please try again\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n      <Card className=\"w-full max-w-md p-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"font-playfair text-3xl font-bold text-foreground mb-2\">\n            Create Account\n          </h1>\n          <p className=\"text-muted-foreground\">\n            Join WeddingInvite.ai to create beautiful video invitations\n          </p>\n        </div>\n\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"name\">Full Name</Label>\n            <Input\n              id=\"name\"\n              data-testid=\"input-name\"\n              placeholder=\"Aarti Sharma\"\n              {...form.register(\"name\")}\n            />\n            {form.formState.errors.name && (\n              <p className=\"text-sm text-destructive mt-1\">\n                {form.formState.errors.name.message}\n              </p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              data-testid=\"input-email\"\n              placeholder=\"aarti@example.com\"\n              {...form.register(\"email\")}\n            />\n            {form.formState.errors.email && (\n              <p className=\"text-sm text-destructive mt-1\">\n                {form.formState.errors.email.message}\n              </p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"phone\">Phone (Optional)</Label>\n            <Input\n              id=\"phone\"\n              type=\"tel\"\n              data-testid=\"input-phone\"\n              placeholder=\"+919999999999\"\n              {...form.register(\"phone\")}\n            />\n            {form.formState.errors.phone && (\n              <p className=\"text-sm text-destructive mt-1\">\n                {form.formState.errors.phone.message}\n              </p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"password\">Password</Label>\n            <Input\n              id=\"password\"\n              type=\"password\"\n              data-testid=\"input-password\"\n              placeholder=\"Min 8 chars, uppercase, number, special char\"\n              {...form.register(\"password\")}\n            />\n            {form.formState.errors.password && (\n              <p className=\"text-sm text-destructive mt-1\">\n                {form.formState.errors.password.message}\n              </p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\n            <Input\n              id=\"confirmPassword\"\n              type=\"password\"\n              data-testid=\"input-confirm-password\"\n              placeholder=\"Re-enter password\"\n              {...form.register(\"confirmPassword\")}\n            />\n            {form.formState.errors.confirmPassword && (\n              <p className=\"text-sm text-destructive mt-1\">\n                {form.formState.errors.confirmPassword.message}\n              </p>\n            )}\n          </div>\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            disabled={isLoading}\n            data-testid=\"button-signup\"\n          >\n            {isLoading ? \"Creating account...\" : \"Sign Up\"}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-sm text-muted-foreground\">\n            Already have an account?{\" \"}\n            <button\n              onClick={() => navigate(\"/login\")}\n              className=\"text-primary hover:underline font-medium\"\n              data-testid=\"link-login\"\n            >\n              Login\n            </button>\n          </p>\n        </div>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":6220,"size_tokens":null},"client/src/components/VideoPlayer.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Play, Pause, Volume2, VolumeX, Maximize, SkipForward, SkipBack } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Slider } from \"@/components/ui/slider\";\n\ninterface VideoPlayerProps {\n  videoUrl: string;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport function VideoPlayer({ videoUrl, className = \"\", style }: VideoPlayerProps) {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [isSliderDragging, setIsSliderDragging] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  console.log('VideoPlayer loaded with URL:', videoUrl);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const updateTime = () => {\n      if (!isSliderDragging) {\n        setCurrentTime(video.currentTime);\n      }\n    };\n\n    const updateDuration = () => {\n      console.log('Video duration loaded:', video.duration);\n      if (!isNaN(video.duration)) {\n        setDuration(video.duration);\n        setError(null);\n      }\n    };\n\n    const handleEnded = () => {\n      setIsPlaying(false);\n    };\n\n    const handleError = (e: Event) => {\n      console.error('Video error event:', e);\n      const videoError = video.error;\n      if (videoError) {\n        const errorMessage = `Video error: Code ${videoError.code} - ${videoError.message}`;\n        console.error(errorMessage);\n        setError(errorMessage);\n      }\n    };\n\n    const handleLoadStart = () => {\n      console.log('Video load started');\n    };\n\n    const handleCanPlay = () => {\n      console.log('Video can play');\n    };\n\n    video.addEventListener('timeupdate', updateTime);\n    video.addEventListener('loadedmetadata', updateDuration);\n    video.addEventListener('durationchange', updateDuration);\n    video.addEventListener('ended', handleEnded);\n    video.addEventListener('error', handleError);\n    video.addEventListener('loadstart', handleLoadStart);\n    video.addEventListener('canplay', handleCanPlay);\n\n    return () => {\n      video.removeEventListener('timeupdate', updateTime);\n      video.removeEventListener('loadedmetadata', updateDuration);\n      video.removeEventListener('durationchange', updateDuration);\n      video.removeEventListener('ended', handleEnded);\n      video.removeEventListener('error', handleError);\n      video.removeEventListener('loadstart', handleLoadStart);\n      video.removeEventListener('canplay', handleCanPlay);\n    };\n  }, [isSliderDragging]);\n\n  const togglePlay = () => {\n    if (!videoRef.current) return;\n\n    if (isPlaying) {\n      videoRef.current.pause();\n    } else {\n      videoRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n\n  const toggleMute = () => {\n    if (!videoRef.current) return;\n    videoRef.current.muted = !isMuted;\n    setIsMuted(!isMuted);\n  };\n\n  const toggleFullscreen = () => {\n    if (!videoRef.current) return;\n\n    if (document.fullscreenElement) {\n      document.exitFullscreen();\n    } else {\n      videoRef.current.requestFullscreen();\n    }\n  };\n\n  const skipForward = () => {\n    if (!videoRef.current || isNaN(videoRef.current.duration)) return;\n    const newTime = Math.min(videoRef.current.currentTime + 10, videoRef.current.duration);\n    videoRef.current.currentTime = newTime;\n    setCurrentTime(newTime);\n  };\n\n  const skipBackward = () => {\n    if (!videoRef.current) return;\n    const newTime = Math.max(videoRef.current.currentTime - 10, 0);\n    videoRef.current.currentTime = newTime;\n    setCurrentTime(newTime);\n  };\n\n  const handleSliderChange = (value: number[]) => {\n    if (!videoRef.current) return;\n    const newTime = value[0];\n    videoRef.current.currentTime = newTime;\n    setCurrentTime(newTime);\n  };\n\n  const handleSliderCommit = () => {\n    setIsSliderDragging(false);\n  };\n\n  const formatTime = (seconds: number): string => {\n    if (isNaN(seconds)) return \"0:00\";\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <div className={`relative ${className}`} style={style}>\n      {/* Video Element */}\n      <div className=\"relative aspect-[9/16] bg-black rounded-xl overflow-hidden shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3)] dark:shadow-[0_20px_60px_-15px_rgba(0,0,0,0.6)] ring-1 ring-black/5 dark:ring-white/10\">\n        <video\n          ref={videoRef}\n          src={videoUrl}\n          className=\"w-full h-full object-cover\"\n          preload=\"metadata\"\n          playsInline\n          onClick={togglePlay}\n          data-testid=\"video-player\"\n        />\n\n        {/* Error Overlay */}\n        {error && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-black/80 p-4\">\n            <div className=\"text-center max-w-md\">\n              <p className=\"text-white text-sm mb-2\">Video Loading Error</p>\n              <p className=\"text-white/70 text-xs\">{error}</p>\n              <p className=\"text-white/50 text-xs mt-2\">Video file may need codec conversion (H.264/AAC)</p>\n            </div>\n          </div>\n        )}\n\n        {/* Play/Pause Overlay (shows when paused and no error) */}\n        {!isPlaying && !error && (\n          <div \n            className=\"absolute inset-0 flex items-center justify-center bg-black/20 cursor-pointer\"\n            onClick={togglePlay}\n          >\n            <div className=\"w-20 h-20 rounded-full bg-primary/90 backdrop-blur-sm flex items-center justify-center hover-elevate transition-all\">\n              <Play className=\"w-10 h-10 text-primary-foreground fill-current ml-1\" />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Custom Video Controls */}\n      <div className=\"mt-4 space-y-3 bg-card p-4 rounded-lg border border-border\">\n        {/* Timeline Slider */}\n        <div className=\"space-y-2\">\n          <Slider\n            value={[currentTime]}\n            min={0}\n            max={duration || 100}\n            step={0.1}\n            onValueChange={handleSliderChange}\n            onPointerDown={() => setIsSliderDragging(true)}\n            onPointerUp={handleSliderCommit}\n            className=\"cursor-pointer\"\n            data-testid=\"video-timeline-slider\"\n          />\n          <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n            <span data-testid=\"current-time\">{formatTime(currentTime)}</span>\n            <span data-testid=\"total-duration\">{formatTime(duration)}</span>\n          </div>\n        </div>\n\n        {/* Control Buttons */}\n        <div className=\"flex items-center justify-center gap-2\">\n          {/* Skip Backward */}\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={skipBackward}\n            disabled={currentTime <= 0}\n            aria-label=\"Skip backward 10 seconds\"\n            data-testid=\"button-skip-back\"\n          >\n            <SkipBack className=\"w-4 h-4\" />\n          </Button>\n\n          {/* Play/Pause */}\n          <Button\n            variant=\"default\"\n            size=\"icon\"\n            onClick={togglePlay}\n            aria-label={isPlaying ? \"Pause\" : \"Play\"}\n            data-testid=\"button-play-pause\"\n          >\n            {isPlaying ? (\n              <Pause className=\"w-5 h-5\" />\n            ) : (\n              <Play className=\"w-5 h-5 ml-0.5\" />\n            )}\n          </Button>\n\n          {/* Skip Forward */}\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={skipForward}\n            disabled={isNaN(duration) || currentTime >= duration}\n            aria-label=\"Skip forward 10 seconds\"\n            data-testid=\"button-skip-forward\"\n          >\n            <SkipForward className=\"w-4 h-4\" />\n          </Button>\n\n          {/* Mute/Unmute */}\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={toggleMute}\n            aria-label={isMuted ? \"Unmute\" : \"Mute\"}\n            data-testid=\"button-mute\"\n          >\n            {isMuted ? (\n              <VolumeX className=\"w-4 h-4\" />\n            ) : (\n              <Volume2 className=\"w-4 h-4\" />\n            )}\n          </Button>\n\n          {/* Fullscreen */}\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={toggleFullscreen}\n            aria-label=\"Toggle fullscreen\"\n            data-testid=\"button-fullscreen\"\n          >\n            <Maximize className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Decorative corner accents */}\n      <div className=\"absolute -top-2 -left-2 w-6 h-6 border-t-2 border-l-2 border-primary/20 rounded-tl-lg pointer-events-none\" />\n      <div className=\"absolute -bottom-2 -right-2 w-6 h-6 border-b-2 border-r-2 border-primary/20 rounded-br-lg pointer-events-none\" />\n    </div>\n  );\n}\n","path":null,"size_bytes":9028,"size_tokens":null},"client/src/components/PageViewer.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { ZoomIn, ZoomOut, RotateCcw } from \"lucide-react\";\n\ninterface PageMedia {\n  media_id?: string;\n  type: string;\n  url: string;\n  position?: string;\n  ae_layer?: string;\n}\n\ninterface Page {\n  id: string;\n  pageNumber: number;\n  pageName?: string;\n  thumbnailUrl?: string;\n  editableFields?: any[];\n  media: PageMedia[];\n}\n\ninterface PageViewerProps {\n  page: Page;\n  className?: string;\n}\n\nexport function PageViewer({ page, className = \"\" }: PageViewerProps) {\n  const [zoom, setZoom] = useState(100);\n  const [isPanning, setIsPanning] = useState(false);\n  const [panOffset, setPanOffset] = useState({ x: 0, y: 0 });\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Get background image URL from page media (prefer 'background' position, fallback to first image)\n  const backgroundImage = \n    page.media.find(m => m.position === 'background')?.url || \n    page.media.find(m => m.type === 'image')?.url || \n    page.thumbnailUrl || \n    '';\n\n  // Reset pan when zoom changes to 100%\n  useEffect(() => {\n    if (zoom === 100) {\n      setPanOffset({ x: 0, y: 0 });\n    }\n  }, [zoom]);\n\n  const handleZoomIn = () => {\n    setZoom(prev => Math.min(prev + 25, 200));\n  };\n\n  const handleZoomOut = () => {\n    setZoom(prev => Math.max(prev - 25, 100));\n  };\n\n  const handleResetZoom = () => {\n    setZoom(100);\n    setPanOffset({ x: 0, y: 0 });\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    if (zoom > 100) {\n      setIsPanning(true);\n      setDragStart({ x: e.clientX - panOffset.x, y: e.clientY - panOffset.y });\n    }\n  };\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    if (isPanning && zoom > 100) {\n      setPanOffset({\n        x: e.clientX - dragStart.x,\n        y: e.clientY - dragStart.y,\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsPanning(false);\n  };\n\n  const handleMouseLeave = () => {\n    setIsPanning(false);\n  };\n\n  return (\n    <div className={`flex flex-col h-full ${className}`}>\n      {/* Zoom Controls */}\n      <div className=\"flex items-center justify-center gap-2 mb-4\">\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={handleZoomOut}\n          disabled={zoom <= 100}\n          aria-label=\"Zoom out\"\n          data-testid=\"button-zoom-out\"\n        >\n          <ZoomOut className=\"w-4 h-4\" />\n        </Button>\n        \n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={handleResetZoom}\n          disabled={zoom === 100}\n          aria-label=\"Reset zoom\"\n          data-testid=\"button-reset-zoom\"\n        >\n          <RotateCcw className=\"w-3 h-3 mr-1\" />\n          {zoom}%\n        </Button>\n        \n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={handleZoomIn}\n          disabled={zoom >= 200}\n          aria-label=\"Zoom in\"\n          data-testid=\"button-zoom-in\"\n        >\n          <ZoomIn className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n      {/* Page Preview Container */}\n      <div\n        ref={containerRef}\n        className=\"flex-1 flex items-center justify-center overflow-hidden rounded-lg bg-muted/30\"\n        data-testid=\"page-viewer-container\"\n      >\n        <div\n          className={`relative ${zoom > 100 ? 'cursor-move' : 'cursor-default'}`}\n          style={{\n            transform: `scale(${zoom / 100}) translate(${panOffset.x / (zoom / 100)}px, ${panOffset.y / (zoom / 100)}px)`,\n            transformOrigin: 'center center',\n            transition: isPanning ? 'none' : 'transform 0.2s ease-out',\n          }}\n          onMouseDown={handleMouseDown}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseLeave}\n        >\n          {/* Page Content with 9:16 aspect ratio */}\n          <div\n            className=\"relative aspect-[9/16] shadow-2xl rounded-lg overflow-hidden ring-1 ring-black/10 dark:ring-white/10\"\n            style={{\n              width: 'min(calc(90vh * 9 / 16), 600px)', // Fits viewport height, max 600px wide\n              maxHeight: '85vh',\n            }}\n            data-testid=\"page-content\"\n          >\n            {/* Background Image */}\n            {backgroundImage ? (\n              <img\n                src={backgroundImage}\n                alt={`Page ${page.pageNumber}`}\n                className=\"absolute inset-0 w-full h-full object-cover\"\n                data-testid=\"page-background-image\"\n              />\n            ) : (\n              <div className=\"absolute inset-0 bg-gradient-to-br from-muted to-muted-foreground/20 flex items-center justify-center\">\n                <p className=\"text-muted-foreground text-sm\">No background image</p>\n              </div>\n            )}\n\n            {/* Text Overlays (Optional - can be enabled later) */}\n            {/* Future: Render fields as text overlays positioned based on AE layers */}\n          </div>\n        </div>\n      </div>\n\n      {/* Page Info */}\n      <div className=\"mt-4 text-center\">\n        <p className=\"text-sm text-muted-foreground\" data-testid=\"page-info\">\n          {page.pageName || `Page ${page.pageNumber}`}\n          {zoom > 100 && (\n            <span className=\"ml-2 text-xs\">\n              • Click and drag to pan\n            </span>\n          )}\n        </p>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":5450,"size_tokens":null},"client/src/pages/MyTemplates.tsx":{"content":"import { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Download, Edit, Eye, FileImage, Film, Music, Trash2 } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { MediaPreviewModal } from \"@/components/MediaPreviewModal\";\nimport { PaymentModal } from \"@/components/PaymentModal\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\n\ninterface MusicInfo {\n  id: string;\n  name: string;\n  url: string;\n  duration: number;\n  category: string;\n}\n\ninterface Project {\n  id: string;\n  templateId: string;\n  templateName: string;\n  templateType: \"card\" | \"video\";\n  thumbnailUrl: string;\n  previewImageUrl: string;\n  previewVideoUrl: string;\n  orientation: \"portrait\" | \"landscape\";\n  price: string;\n  currency: string;\n  status: string;\n  isPaid: boolean;\n  paymentStatus: string;\n  previewUrl: string | null;\n  finalUrl: string | null;\n  createdAt: Date;\n  updatedAt: Date;\n  paidAt: Date | null;\n  selectedMusicId: string | null;\n  customMusicUrl: string | null;\n  selectedMusic: MusicInfo | null;\n}\n\nexport default function MyTemplates() {\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [selectedProject, setSelectedProject] = useState<Project | null>(null);\n  const [showMediaModal, setShowMediaModal] = useState(false);\n  const [mediaModalData, setMediaModalData] = useState<{\n    url: string | null;\n    type: \"image\" | \"video\";\n    name: string;\n    orientation: \"portrait\" | \"landscape\";\n  } | null>(null);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [projectToDelete, setProjectToDelete] = useState<Project | null>(null);\n  \n  const { data: projects, isLoading, isFetching } = useQuery<Project[]>({\n    queryKey: [\"/api/projects/mine\"],\n    queryFn: async () => {\n      const token = localStorage.getItem(\"auth_token\");\n      \n      if (!token) {\n        navigate(\"/login\");\n        throw new Error(\"Not authenticated\");\n      }\n      \n      const response = await fetch(\"/api/projects/mine\", {\n        headers: {\n          \"Authorization\": `Bearer ${token}`,\n        },\n      });\n      \n      if (!response.ok) {\n        if (response.status === 401) {\n          localStorage.removeItem(\"auth_token\");\n          localStorage.removeItem(\"user\");\n          navigate(\"/login\");\n          throw new Error(\"Session expired\");\n        }\n        throw new Error(\"Failed to fetch projects\");\n      }\n      \n      return response.json();\n    },\n    staleTime: 0,\n    refetchOnMount: true,\n    refetchOnWindowFocus: false,\n  });\n\n  // Delete mutation\n  const deleteMutation = useMutation({\n    mutationFn: async (projectId: string) => {\n      const token = localStorage.getItem(\"auth_token\");\n      if (!token) {\n        navigate(\"/login\");\n        throw new Error(\"Not authenticated\");\n      }\n      const response = await apiRequest(\"DELETE\", `/api/projects/${projectId}`);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/projects/mine\"] });\n      toast({\n        title: \"Template Deleted\",\n        description: `\"${projectToDelete?.templateName}\" has been removed.`,\n      });\n      setShowDeleteDialog(false);\n      setProjectToDelete(null);\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Delete Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleEdit = (project: Project) => {\n    navigate(`/editor/${project.id}?from=my-templates`);\n  };\n\n  // Download for paid templates - uses finalUrl\n  const triggerPaidDownload = (project: Project) => {\n    const urlToDownload = project.finalUrl;\n    if (urlToDownload) {\n      const link = document.createElement(\"a\");\n      link.href = urlToDownload;\n      const extension = project.templateType === \"card\" ? \"png\" : \"mp4\";\n      link.download = `${project.templateName}.${extension}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      toast({\n        title: \"Download Started\",\n        description: `Your ${project.templateType === \"card\" ? \"card\" : \"video\"} is downloading...`,\n      });\n    } else {\n      toast({\n        title: \"File not ready\",\n        description: \"Your file is still being processed\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  // For generated (unpaid) templates - triggers payment first\n  const handleGeneratedDownload = (project: Project) => {\n    setSelectedProject(project);\n    setShowPaymentModal(true);\n  };\n\n  const handlePaymentSuccess = async () => {\n    // Invalidate cache so next render gets fresh data\n    await queryClient.invalidateQueries({ queryKey: [\"/api/projects/mine\"] });\n    \n    // After payment success, trigger download using the selected project's finalUrl\n    if (selectedProject) {\n      // Short delay to allow backend to update finalUrl after payment\n      setTimeout(async () => {\n        try {\n          // Refetch the data to get the updated project with finalUrl\n          const freshProjects = await queryClient.fetchQuery<Project[]>({ \n            queryKey: [\"/api/projects/mine\"] \n          });\n          if (freshProjects) {\n            const updatedProject = freshProjects.find(p => p.id === selectedProject.id);\n            if (updatedProject && updatedProject.isPaid && updatedProject.finalUrl) {\n              triggerPaidDownload(updatedProject);\n            }\n          }\n        } catch {\n          // Silently fail - user can manually download from My Templates\n        }\n      }, 500);\n    }\n  };\n\n  // View for Paid templates - uses finalUrl with fallbacks\n  const handleViewPaid = (project: Project) => {\n    const mediaType = project.templateType === \"card\" ? \"image\" : \"video\";\n    // Fallback chain: finalUrl -> previewUrl -> template assets\n    const url = project.finalUrl || project.previewUrl || \n      (mediaType === \"image\" ? project.previewImageUrl : project.previewVideoUrl) ||\n      project.thumbnailUrl;\n    \n    if (!url) {\n      toast({\n        title: \"Preview unavailable\",\n        description: \"The file is not ready yet. Please try again later.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    setMediaModalData({\n      url,\n      type: mediaType,\n      name: project.templateName,\n      orientation: project.orientation,\n    });\n    setShowMediaModal(true);\n  };\n\n  // View for Generated templates - uses previewUrl with fallbacks\n  const handleViewGenerated = (project: Project) => {\n    const mediaType = project.templateType === \"card\" ? \"image\" : \"video\";\n    // Fallback chain: previewUrl -> template assets\n    const url = project.previewUrl || \n      (mediaType === \"image\" ? project.previewImageUrl : project.previewVideoUrl) ||\n      project.thumbnailUrl;\n    \n    if (!url) {\n      toast({\n        title: \"Preview unavailable\",\n        description: \"The preview is not ready yet. Please try again later.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    setMediaModalData({\n      url,\n      type: mediaType,\n      name: project.templateName,\n      orientation: project.orientation,\n    });\n    setShowMediaModal(true);\n  };\n\n  // Delete handler\n  const handleDeleteClick = (project: Project) => {\n    setProjectToDelete(project);\n    setShowDeleteDialog(true);\n  };\n\n  const confirmDelete = () => {\n    if (projectToDelete) {\n      deleteMutation.mutate(projectToDelete.id);\n    }\n  };\n\n  const formatPrice = (price: string, currency: string) => {\n    if (currency === \"INR\") {\n      return `₹${parseFloat(price).toFixed(0)}`;\n    }\n    return `${currency} ${parseFloat(price).toFixed(2)}`;\n  };\n\n  // Only show full loading state on initial load (no cached data)\n  if (isLoading && !projects) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8\">\n        <h1 className=\"font-playfair text-2xl sm:text-3xl font-bold mb-6 lg:mb-8\">My Templates</h1>\n        <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n          {[1, 2, 3, 4].map((i) => (\n            <Card key={i} className=\"overflow-hidden animate-pulse\">\n              <div className=\"aspect-[9/16] bg-muted\" />\n              <div className=\"p-3 lg:p-4 space-y-2\">\n                <div className=\"h-4 bg-muted rounded w-3/4\" />\n                <div className=\"h-3 bg-muted rounded w-1/2\" />\n                <div className=\"h-8 bg-muted rounded\" />\n              </div>\n            </Card>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  const paidProjects = projects\n    ?.filter((p) => p.isPaid)\n    .sort((a, b) => {\n      const dateA = a.paidAt ? new Date(a.paidAt).getTime() : 0;\n      const dateB = b.paidAt ? new Date(b.paidAt).getTime() : 0;\n      return dateB - dateA;\n    }) || [];\n\n  const generatedProjects = projects\n    ?.filter((p) => !p.isPaid)\n    .sort((a, b) => {\n      const dateA = a.updatedAt ? new Date(a.updatedAt).getTime() : 0;\n      const dateB = b.updatedAt ? new Date(b.updatedAt).getTime() : 0;\n      return dateB - dateA;\n    }) || [];\n\n  if (!projects || projects.length === 0) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8\">\n        <h1 className=\"font-playfair text-2xl sm:text-3xl font-bold mb-6 lg:mb-8\">My Templates</h1>\n        <div className=\"text-center py-12\">\n          <p className=\"text-muted-foreground mb-4\">You haven't created any video invitations yet</p>\n          <Button onClick={() => navigate(\"/templates\")} data-testid=\"button-browse-templates\">\n            Browse Templates\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  // Render card for PAID templates\n  const renderPaidProjectCard = (project: Project) => (\n    <Card \n      key={project.id} \n      className=\"group overflow-hidden transition-all duration-300\"\n      data-testid={`card-project-${project.id}`}\n    >\n      <div className=\"relative aspect-[9/16] overflow-hidden bg-muted\">\n        <img\n          src={project.thumbnailUrl || project.previewImageUrl}\n          alt={project.templateName}\n          className=\"w-full h-full object-cover transition-all duration-300 group-hover:scale-105\"\n          data-testid={`img-thumbnail-${project.id}`}\n        />\n        \n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n        \n        <div className=\"absolute top-3 right-3\">\n          <Badge className=\"bg-green-600 text-white font-semibold\" data-testid={`badge-paid-${project.id}`}>\n            Paid\n          </Badge>\n        </div>\n        \n        <div className=\"absolute bottom-3 left-3 flex flex-col gap-1\">\n          <Badge \n            variant=\"secondary\" \n            className=\"bg-black/60 backdrop-blur-sm text-white border-none\"\n            data-testid={`badge-type-${project.id}`}\n          >\n            {project.templateType === \"card\" ? (\n              <><FileImage className=\"h-3 w-3 mr-1\" /> Card</>\n            ) : (\n              <><Film className=\"h-3 w-3 mr-1\" /> Video</>\n            )}\n          </Badge>\n          {project.templateType === \"video\" && (project.selectedMusic || project.customMusicUrl) && (\n            <Badge \n              variant=\"secondary\" \n              className=\"bg-black/60 backdrop-blur-sm text-white border-none text-[10px]\"\n              data-testid={`badge-music-${project.id}`}\n            >\n              <Music className=\"h-2.5 w-2.5 mr-1\" />\n              {project.selectedMusic ? (\n                <span className=\"truncate max-w-[80px]\">{project.selectedMusic.name}</span>\n              ) : (\n                <span>Custom Music</span>\n              )}\n            </Badge>\n          )}\n        </div>\n      </div>\n      \n      <div className=\"p-3 lg:p-4\">\n        <h3 className=\"font-playfair text-sm lg:text-base font-semibold text-foreground mb-1 line-clamp-2 group-hover:text-primary transition-colors\" data-testid={`text-name-${project.id}`}>\n          {project.templateName}\n        </h3>\n        <div className=\"flex items-center justify-between mb-3\">\n          {project.paidAt && (\n            <p className=\"text-xs text-green-600\">\n              {new Date(project.paidAt).toLocaleDateString()}\n            </p>\n          )}\n          <p className=\"text-base lg:text-lg font-semibold text-primary ml-auto\" data-testid={`text-price-${project.id}`}>\n            {formatPrice(project.price, project.currency)}\n          </p>\n        </div>\n        \n        {/* Paid Templates: View (finalUrl), Download (finalUrl) */}\n        <div className=\"flex items-center gap-2\">\n          <Button\n            size=\"sm\"\n            variant=\"default\"\n            className=\"flex-1\"\n            onClick={() => handleViewPaid(project)}\n            data-testid={`button-view-${project.id}`}\n          >\n            <Eye className=\"h-4 w-4 mr-1\" /> View\n          </Button>\n          <Button\n            size=\"icon\"\n            variant=\"outline\"\n            onClick={() => triggerPaidDownload(project)}\n            data-testid={`button-download-${project.id}`}\n          >\n            <Download className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n\n  // Render card for GENERATED (unpaid) templates\n  const renderGeneratedProjectCard = (project: Project) => (\n    <Card \n      key={project.id} \n      className=\"group overflow-hidden transition-all duration-300\"\n      data-testid={`card-project-${project.id}`}\n    >\n      <div className=\"relative aspect-[9/16] overflow-hidden bg-muted\">\n        <img\n          src={project.thumbnailUrl || project.previewImageUrl}\n          alt={project.templateName}\n          className=\"w-full h-full object-cover transition-all duration-300 group-hover:scale-105\"\n          data-testid={`img-thumbnail-${project.id}`}\n        />\n        \n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n        \n        <div className=\"absolute top-3 right-3\">\n          <Badge variant=\"secondary\" className=\"bg-black/60 backdrop-blur-sm text-white border-none\" data-testid={`badge-preview-${project.id}`}>\n            Preview\n          </Badge>\n        </div>\n        \n        <div className=\"absolute bottom-3 left-3 flex flex-col gap-1\">\n          <Badge \n            variant=\"secondary\" \n            className=\"bg-black/60 backdrop-blur-sm text-white border-none\"\n            data-testid={`badge-type-${project.id}`}\n          >\n            {project.templateType === \"card\" ? (\n              <><FileImage className=\"h-3 w-3 mr-1\" /> Card</>\n            ) : (\n              <><Film className=\"h-3 w-3 mr-1\" /> Video</>\n            )}\n          </Badge>\n          {project.templateType === \"video\" && (project.selectedMusic || project.customMusicUrl) && (\n            <Badge \n              variant=\"secondary\" \n              className=\"bg-black/60 backdrop-blur-sm text-white border-none text-[10px]\"\n              data-testid={`badge-music-${project.id}`}\n            >\n              <Music className=\"h-2.5 w-2.5 mr-1\" />\n              {project.selectedMusic ? (\n                <span className=\"truncate max-w-[80px]\">{project.selectedMusic.name}</span>\n              ) : (\n                <span>Custom Music</span>\n              )}\n            </Badge>\n          )}\n        </div>\n      </div>\n      \n      <div className=\"p-3 lg:p-4\">\n        <h3 className=\"font-playfair text-sm lg:text-base font-semibold text-foreground mb-1 line-clamp-2 group-hover:text-primary transition-colors\" data-testid={`text-name-${project.id}`}>\n          {project.templateName}\n        </h3>\n        <div className=\"flex items-center justify-end mb-3\">\n          <p className=\"text-base lg:text-lg font-semibold text-primary\" data-testid={`text-price-${project.id}`}>\n            {formatPrice(project.price, project.currency)}\n          </p>\n        </div>\n        \n        {/* Generated Templates: Edit, View (previewUrl), Download (payment), Delete */}\n        <div className=\"flex items-center gap-2\">\n          <Button\n            size=\"sm\"\n            variant=\"default\"\n            className=\"flex-1\"\n            onClick={() => handleEdit(project)}\n            data-testid={`button-edit-${project.id}`}\n          >\n            <Edit className=\"h-4 w-4 mr-1\" /> Edit\n          </Button>\n          <Button\n            size=\"icon\"\n            variant=\"outline\"\n            onClick={() => handleViewGenerated(project)}\n            data-testid={`button-view-${project.id}`}\n          >\n            <Eye className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            size=\"icon\"\n            variant=\"outline\"\n            onClick={() => handleGeneratedDownload(project)}\n            data-testid={`button-download-${project.id}`}\n          >\n            <Download className=\"h-4 w-4\" />\n          </Button>\n          <Button\n            size=\"icon\"\n            variant=\"outline\"\n            className=\"text-destructive hover:text-destructive hover:bg-destructive/10\"\n            onClick={() => handleDeleteClick(project)}\n            disabled={deleteMutation.isPending}\n            data-testid={`button-delete-${project.id}`}\n          >\n            <Trash2 className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8\">\n      <div className=\"flex items-center gap-3 mb-6 lg:mb-8\">\n        <h1 className=\"font-playfair text-2xl sm:text-3xl font-bold\" data-testid=\"heading-my-videos\">My Templates</h1>\n        {isFetching && !isLoading && (\n          <div className=\"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin\" />\n        )}\n      </div>\n      \n      {/* Paid Templates Section */}\n      {paidProjects.length > 0 && (\n        <section className=\"mb-10\" data-testid=\"section-paid-templates\">\n          <h2 className=\"text-xl font-semibold mb-4 flex items-center gap-2\" data-testid=\"heading-paid-templates\">\n            <span className=\"text-green-600\">Paid Templates</span>\n            <Badge variant=\"secondary\" className=\"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300\">\n              {paidProjects.length}\n            </Badge>\n          </h2>\n          <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n            {paidProjects.map(renderPaidProjectCard)}\n          </div>\n        </section>\n      )}\n      \n      {/* Separator */}\n      {paidProjects.length > 0 && generatedProjects.length > 0 && (\n        <hr className=\"border-t border-border mb-10\" />\n      )}\n      \n      {/* Generated Templates Section */}\n      {generatedProjects.length > 0 && (\n        <section data-testid=\"section-generated-templates\">\n          <h2 className=\"text-xl font-semibold mb-4 flex items-center gap-2\" data-testid=\"heading-generated-templates\">\n            <span className=\"text-[#16a34a]\">Generated Templates</span>\n            <Badge variant=\"secondary\" className=\"text-[#15803d] bg-[#dcfce7]\">\n              {generatedProjects.length}\n            </Badge>\n          </h2>\n          <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n            {generatedProjects.map(renderGeneratedProjectCard)}\n          </div>\n        </section>\n      )}\n\n      {/* Media Preview Modal */}\n      <MediaPreviewModal\n        open={showMediaModal}\n        onOpenChange={setShowMediaModal}\n        mediaUrl={mediaModalData?.url || null}\n        mediaType={mediaModalData?.type || \"video\"}\n        templateName={mediaModalData?.name || \"\"}\n        orientation={mediaModalData?.orientation || \"portrait\"}\n      />\n\n      {/* Payment Modal */}\n      {selectedProject && (\n        <PaymentModal\n          isOpen={showPaymentModal}\n          onClose={() => {\n            setShowPaymentModal(false);\n            setSelectedProject(null);\n          }}\n          projectId={selectedProject.id}\n          templateName={selectedProject.templateName}\n          amount={selectedProject.price}\n          currency={selectedProject.currency}\n          onSuccess={handlePaymentSuccess}\n        />\n      )}\n\n      {/* Delete Confirmation Dialog */}\n      <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Template?</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete \"{projectToDelete?.templateName}\"? This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setProjectToDelete(null)}>Cancel</AlertDialogCancel>\n            <AlertDialogAction \n              onClick={confirmDelete}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n              disabled={deleteMutation.isPending}\n            >\n              {deleteMutation.isPending ? \"Deleting...\" : \"Delete\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","path":null,"size_bytes":21730,"size_tokens":null},"client/src/lib/firebase.ts":{"content":"import { initializeApp } from \"firebase/app\";\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\n  authDomain: \"weddinginvite-18669.firebaseapp.com\",\n  projectId: \"weddinginvite-18669\",\n  storageBucket: \"weddinginvite-18669.firebasestorage.app\",\n  messagingSenderId: \"411118688172\",\n  appId: \"1:411118688172:web:ee8a29bdd7fe1c8ee4cc09\",\n  measurementId: \"G-28EVPZ0L29\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Firebase Authentication and get a reference to the service\nexport const auth = getAuth(app);\n\n// Initialize Google Auth Provider\nexport const googleProvider = new GoogleAuthProvider();\n\n// Configure Google provider to always show account selection\ngoogleProvider.setCustomParameters({\n  prompt: 'select_account'\n});\n","path":null,"size_bytes":855,"size_tokens":null},"server/firebase-admin.ts":{"content":"import admin from \"firebase-admin\";\n\n// Initialize Firebase Admin SDK with service account credentials\nif (!admin.apps.length) {\n  const serviceAccount = process.env.FIREBASE_SERVICE_ACCOUNT;\n  \n  if (!serviceAccount) {\n    throw new Error(\"FIREBASE_SERVICE_ACCOUNT environment variable is not set\");\n  }\n  \n  try {\n    const serviceAccountJson = JSON.parse(serviceAccount);\n    \n    admin.initializeApp({\n      credential: admin.credential.cert(serviceAccountJson),\n      projectId: serviceAccountJson.project_id, // Use project ID from service account JSON\n    });\n  } catch (error) {\n    console.error(\"Failed to initialize Firebase Admin:\", error);\n    throw error;\n  }\n}\n\nexport const adminAuth = admin.auth();\n","path":null,"size_bytes":716,"size_tokens":null},"server/razorpay.ts":{"content":"import Razorpay from \"razorpay\";\nimport crypto from \"crypto\";\n\n// Initialize Razorpay instance\nconst keyId = process.env.RAZORPAY_KEY_ID;\nconst keySecret = process.env.RAZORPAY_KEY_SECRET;\n\nconsole.log(\"Razorpay Key ID exists:\", !!keyId);\nconsole.log(\"Razorpay Key ID starts with:\", keyId?.substring(0, 8));\nconsole.log(\"Razorpay Key Secret exists:\", !!keySecret);\n\nif (!keyId || !keySecret) {\n  throw new Error(\"Razorpay credentials not configured. Please set RAZORPAY_KEY_ID and RAZORPAY_KEY_SECRET in Replit Secrets.\");\n}\n\nconst razorpay = new Razorpay({\n  key_id: keyId,\n  key_secret: keySecret,\n});\n\n/**\n * Create a Razorpay order\n * @param amount Amount in INR (will be converted to paise)\n * @param currency Currency code (default: INR)\n * @param receipt Receipt/Order number for reference\n * @returns Razorpay order object\n */\nexport async function createRazorpayOrder(\n  amount: number,\n  currency: string = \"INR\",\n  receipt: string\n) {\n  try {\n    // Razorpay expects amount in smallest currency unit (paise for INR)\n    const amountInPaise = Math.round(amount * 100);\n\n    const order = await razorpay.orders.create({\n      amount: amountInPaise,\n      currency: currency,\n      receipt: receipt,\n    });\n\n    return order;\n  } catch (error) {\n    console.error(\"Error creating Razorpay order:\", error);\n    throw error;\n  }\n}\n\n/**\n * Verify Razorpay payment signature\n * This ensures the payment callback is authentic and not tampered with\n * @param razorpayOrderId Order ID from Razorpay\n * @param razorpayPaymentId Payment ID from Razorpay\n * @param razorpaySignature Signature from Razorpay\n * @returns true if signature is valid, false otherwise\n */\nexport function verifyRazorpaySignature(\n  razorpayOrderId: string,\n  razorpayPaymentId: string,\n  razorpaySignature: string\n): boolean {\n  try {\n    // Create expected signature\n    const text = `${razorpayOrderId}|${razorpayPaymentId}`;\n    const expectedSignature = crypto\n      .createHmac(\"sha256\", process.env.RAZORPAY_KEY_SECRET!)\n      .update(text)\n      .digest(\"hex\");\n\n    // Compare signatures\n    return expectedSignature === razorpaySignature;\n  } catch (error) {\n    console.error(\"Error verifying Razorpay signature:\", error);\n    return false;\n  }\n}\n\n/**\n * Fetch payment details from Razorpay\n * @param paymentId Razorpay payment ID\n * @returns Payment details\n */\nexport async function fetchPaymentDetails(paymentId: string) {\n  try {\n    const payment = await razorpay.payments.fetch(paymentId);\n    return payment;\n  } catch (error) {\n    console.error(\"Error fetching payment details:\", error);\n    throw error;\n  }\n}\n\nexport default razorpay;\n","path":null,"size_bytes":2633,"size_tokens":null},"client/src/components/PaymentModal.tsx":{"content":"import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { CreditCard, Loader2, Download } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface PaymentModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  projectId: string;\n  templateName: string;\n  amount: string;\n  currency: string;\n  onSuccess: () => void;\n  onDownloadReady?: (downloadUrl: string, templateName: string) => void;\n}\n\ndeclare global {\n  interface Window {\n    Razorpay: any;\n  }\n}\n\nexport function PaymentModal({\n  isOpen,\n  onClose,\n  projectId,\n  templateName,\n  amount,\n  currency,\n  onSuccess,\n  onDownloadReady,\n}: PaymentModalProps) {\n  const [isProcessing, setIsProcessing] = useState(false);\n  const { toast } = useToast();\n  \n  const triggerDownload = (url: string, filename: string) => {\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `${filename.replace(/[^a-zA-Z0-9]/g, '_')}_WeddingInvite.mp4`;\n    link.target = '_blank';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const handlePayment = async () => {\n    try {\n      setIsProcessing(true);\n\n      const orderResponse = await apiRequest(\"POST\", `/api/payment/create-order`, {\n        projectId,\n      });\n\n      const orderData = await orderResponse.json();\n      const { razorpayOrderId, amount: orderAmount, currency: orderCurrency, keyId } = orderData;\n\n      const options = {\n        key: keyId,\n        amount: parseFloat(orderAmount) * 100,\n        currency: orderCurrency,\n        name: \"WeddingInvite.ai\",\n        description: `Purchase ${templateName}`,\n        order_id: razorpayOrderId,\n        handler: async function (response: any) {\n          try {\n            const verifyResponse = await apiRequest(\"POST\", `/api/payment/verify`, {\n              orderId: orderData.orderId,\n              razorpayOrderId: response.razorpay_order_id,\n              razorpayPaymentId: response.razorpay_payment_id,\n              razorpaySignature: response.razorpay_signature,\n            });\n            \n            const verifyData = await verifyResponse.json();\n\n            await queryClient.invalidateQueries({ queryKey: [\"/api/projects/mine\"] });\n            await queryClient.invalidateQueries({ queryKey: [\"/api/projects\", projectId] });\n\n            toast({\n              title: \"Payment Successful!\",\n              description: \"Your video download will start automatically.\",\n            });\n\n            // Trigger automatic download if URL is available\n            if (verifyData.downloadUrl) {\n              triggerDownload(verifyData.downloadUrl, verifyData.templateName || templateName);\n              \n              // Also notify parent component so Download button gets enabled\n              if (onDownloadReady) {\n                onDownloadReady(verifyData.downloadUrl, verifyData.templateName || templateName);\n              }\n            }\n\n            onSuccess();\n            onClose();\n          } catch (error) {\n            console.error(\"Payment verification error:\", error);\n            toast({\n              title: \"Payment Verification Failed\",\n              description: \"Please contact support if amount was deducted.\",\n              variant: \"destructive\",\n            });\n          } finally {\n            setIsProcessing(false);\n          }\n        },\n        modal: {\n          ondismiss: function () {\n            setIsProcessing(false);\n          },\n        },\n        prefill: {\n          name: \"\",\n          email: \"\",\n          contact: \"\",\n        },\n        theme: {\n          color: \"#C9A962\",\n        },\n      };\n\n      const razorpay = new window.Razorpay(options);\n      razorpay.open();\n    } catch (error: any) {\n      console.error(\"Payment error:\", error);\n      toast({\n        title: \"Payment Failed\",\n        description: error.message || \"Something went wrong\",\n        variant: \"destructive\",\n      });\n      setIsProcessing(false);\n    }\n  };\n\n  const formatCurrency = (amount: string, currency: string) => {\n    const numAmount = parseFloat(amount);\n    if (currency === \"INR\") {\n      return `₹${numAmount.toLocaleString(\"en-IN\")}`;\n    }\n    return `${currency} ${numAmount.toLocaleString()}`;\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-md\" data-testid=\"modal-payment\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl\">Complete Your Purchase</DialogTitle>\n          <DialogDescription>\n            You're about to unlock the full-quality video for {templateName}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6 py-4\">\n          <div className=\"rounded-lg border bg-card p-6 space-y-3\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm text-muted-foreground\">Template</span>\n              <span className=\"font-medium\" data-testid=\"text-template-name\">{templateName}</span>\n            </div>\n            <div className=\"flex justify-between items-center pt-3 border-t\">\n              <span className=\"text-lg font-semibold\">Total Amount</span>\n              <span className=\"text-2xl font-bold text-primary\" data-testid=\"text-amount\">\n                {formatCurrency(amount, currency)}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"space-y-3\">\n            <Button\n              onClick={handlePayment}\n              disabled={isProcessing}\n              className=\"w-full h-12 text-base\"\n              size=\"lg\"\n              data-testid=\"button-proceed-payment\"\n            >\n              {isProcessing ? (\n                <>\n                  <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                  Processing...\n                </>\n              ) : (\n                <>\n                  <CreditCard className=\"mr-2 h-5 w-5\" />\n                  Proceed to Payment\n                </>\n              )}\n            </Button>\n\n            <Button\n              variant=\"outline\"\n              onClick={onClose}\n              disabled={isProcessing}\n              className=\"w-full\"\n              data-testid=\"button-cancel-payment\"\n            >\n              Cancel\n            </Button>\n          </div>\n\n          <div className=\"text-xs text-muted-foreground text-center\">\n            Secure payment powered by Razorpay. Your payment information is encrypted and secure.\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":6708,"size_tokens":null},"client/src/components/VideoPreviewModal.tsx":{"content":"import {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\n\ninterface VideoPreviewModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  videoUrl: string | null;\n  templateName: string;\n  orientation: \"portrait\" | \"landscape\";\n}\n\nexport function VideoPreviewModal({\n  open,\n  onOpenChange,\n  videoUrl,\n  templateName,\n  orientation,\n}: VideoPreviewModalProps) {\n  const isPortrait = orientation === \"portrait\";\n  const videoContainerClass = isPortrait\n    ? \"aspect-[9/16] max-w-sm mx-auto\"\n    : \"aspect-video max-w-2xl mx-auto\";\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-4xl bg-black border-0\" data-testid=\"modal-video-preview\">\n        <DialogHeader>\n          <DialogTitle className=\"text-white\">{templateName}</DialogTitle>\n          <DialogDescription className=\"sr-only\">Video preview for {templateName}</DialogDescription>\n        </DialogHeader>\n        <div className={`${videoContainerClass} bg-black rounded-lg overflow-hidden`}>\n          {videoUrl ? (\n            <video\n              src={videoUrl}\n              controls\n              autoPlay\n              className=\"w-full h-full object-contain\"\n              data-testid=\"video-preview\"\n            />\n          ) : (\n            <div className=\"w-full h-full flex items-center justify-center text-white/60\" data-testid=\"video-unavailable\">\n              <p className=\"text-center\">Video preview not available yet</p>\n            </div>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":1620,"size_tokens":null},"client/src/pages/SEOLandingPage.tsx":{"content":"import { useLocation, Link } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { HeroSection } from \"@/components/HeroSection\";\nimport { TemplateCard } from \"@/components/TemplateCard\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\nimport { Loader2, Play, FileImage, MapPin, Star, Users, CheckCircle2, ArrowRight } from \"lucide-react\";\nimport type { Template } from \"@shared/schema\";\nimport indianPunjabiHero from \"@assets/generated_images/Indian_Punjabi_wedding_culture_b8245c44.png\";\nimport arabicHero from \"@assets/generated_images/Arabic_UAE_wedding_culture_5fdde5ea.png\";\nimport saudiHero from \"@assets/stock_images/saudi_arabian_weddin_519f891c.jpg\";\nimport homepageHero from \"@assets/generated_images/Homepage_cinematic_wedding_hero_efb94fa0.png\";\nimport engagementHero from \"@assets/generated_images/Engagement_category_hero_image_e98e3800.png\";\n\ninterface RegionData {\n  name: string;\n  slug: string;\n  code: string;\n  currency: string;\n  currencySymbol: string;\n  locale: string;\n  heroImage: string;\n  weddingsPerYear: string;\n  digitalAdoption: string;\n  avgSpend: string;\n  popularStyles: string[];\n  ceremonies: string[];\n  arabicTitle?: string;\n  arabicDescription?: string;\n  hindiTitle?: string;\n  hindiDescription?: string;\n}\n\ninterface CategoryData {\n  name: string;\n  slug: string;\n  type: \"video\" | \"card\";\n  eventType: \"wedding\" | \"birthday\";\n  heroImage: string;\n  description: string;\n  features: string[];\n}\n\nconst regionData: Record<string, RegionData> = {\n  india: {\n    name: \"India\",\n    slug: \"india\",\n    code: \"IN\",\n    currency: \"INR\",\n    currencySymbol: \"₹\",\n    locale: \"en_IN\",\n    heroImage: indianPunjabiHero,\n    weddingsPerYear: \"10 Million+\",\n    digitalAdoption: \"70%\",\n    avgSpend: \"₹1,500\",\n    popularStyles: [\"Traditional Hindu\", \"Punjabi Bhangra\", \"South Indian Temple\", \"Rajasthani Royal\", \"Marathi\", \"Bengali\", \"Gujarati\", \"Muslim Nikah\"],\n    ceremonies: [\"Mehendi\", \"Sangeet\", \"Haldi\", \"Wedding\", \"Reception\", \"Engagement\", \"Roka\"],\n    hindiTitle: \"भारतीय शादी वीडियो निमंत्रण\",\n    hindiDescription: \"व्हाट्सएप के लिए सुंदर भारतीय शादी वीडियो निमंत्रण बनाएं। पंजाबी, दक्षिण भारतीय, हिंदी, मराठी शादियों के लिए 100+ टेम्पलेट।\",\n  },\n  uae: {\n    name: \"United Arab Emirates\",\n    slug: \"uae\",\n    code: \"AE\",\n    currency: \"AED\",\n    currencySymbol: \"د.إ\",\n    locale: \"ar_AE\",\n    heroImage: arabicHero,\n    weddingsPerYear: \"50,000+\",\n    digitalAdoption: \"85%\",\n    avgSpend: \"AED 500\",\n    popularStyles: [\"Luxury Arabic\", \"Modern Emirati\", \"Traditional Khaleeji\", \"Gold & Crystal\", \"Desert Romance\", \"Dubai Glamour\"],\n    ceremonies: [\"Kateb Katb\", \"Henna Night\", \"Wedding Ceremony\", \"Walima Reception\", \"Zaffa\"],\n    arabicTitle: \"دعوة زفاف فيديو الإمارات\",\n    arabicDescription: \"إنشاء دعوات زفاف فيديو عربية فاخرة للإمارات. قوالب إماراتية وإسلامية راقية لحفلات الزفاف في دبي وأبو ظبي\",\n  },\n  \"saudi-arabia\": {\n    name: \"Saudi Arabia\",\n    slug: \"saudi-arabia\",\n    code: \"SA\",\n    currency: \"SAR\",\n    currencySymbol: \"ر.س\",\n    locale: \"ar_SA\",\n    heroImage: saudiHero,\n    weddingsPerYear: \"150,000+\",\n    digitalAdoption: \"80%\",\n    avgSpend: \"SAR 400\",\n    popularStyles: [\"Saudi Royal\", \"Traditional Islamic\", \"Luxury Gold\", \"Cultural Heritage\", \"Modern Saudi\", \"Najdi Traditional\"],\n    ceremonies: [\"Nikah\", \"Milka\", \"Walima\", \"Shabka\", \"Reception\"],\n    arabicTitle: \"كروت زفاف فيديو السعودية\",\n    arabicDescription: \"إنشاء دعوات زفاف فيديو سعودية ملكية. قوالب إسلامية فاخرة للأفراح في الرياض وجدة ومكة\",\n  },\n};\n\nconst categoryData: Record<string, CategoryData> = {\n  \"wedding-invitation-video\": {\n    name: \"Wedding Invitation Videos\",\n    slug: \"wedding-invitation-video\",\n    type: \"video\",\n    eventType: \"wedding\",\n    heroImage: homepageHero,\n    description: \"Create stunning cinematic wedding video invitations with beautiful animations, romantic music, and professional 4K quality. Perfect for sharing on WhatsApp, Instagram, and social media.\",\n    features: [\"4K Ultra HD Quality\", \"Custom Music & Voiceover\", \"30-60 Second Duration\", \"WhatsApp Optimized\", \"Instant Download\"],\n  },\n  \"wedding-invitation-card\": {\n    name: \"Digital Wedding Cards\",\n    slug: \"wedding-invitation-card\",\n    type: \"card\",\n    eventType: \"wedding\",\n    heroImage: engagementHero,\n    description: \"Beautiful digital wedding invitation cards with elegant designs. Easy to customize and share instantly with your guests via WhatsApp, email, or social media.\",\n    features: [\"High Resolution PNG/JPG\", \"Elegant Designs\", \"Easy Customization\", \"Instant Sharing\", \"Print Ready\"],\n  },\n  \"birthday-invitation-video\": {\n    name: \"Birthday Invitation Videos\",\n    slug: \"birthday-invitation-video\",\n    type: \"video\",\n    eventType: \"birthday\",\n    heroImage: engagementHero,\n    description: \"Fun and colorful birthday video invitations for all ages. From kids' parties to milestone celebrations, create memorable video invites your guests will love.\",\n    features: [\"Animated Graphics\", \"Fun Music Options\", \"Age-Appropriate Themes\", \"Social Media Ready\", \"Quick Customization\"],\n  },\n  \"birthday-invitation-card\": {\n    name: \"Digital Birthday Cards\",\n    slug: \"birthday-invitation-card\",\n    type: \"card\",\n    eventType: \"birthday\",\n    heroImage: homepageHero,\n    description: \"Colorful and creative digital birthday invitation cards. Choose from themes for kids, teens, adults, and milestone birthdays.\",\n    features: [\"Vibrant Designs\", \"Multiple Age Groups\", \"Theme Options\", \"Easy Personalization\", \"Instant Download\"],\n  },\n};\n\nconst getSEOContent = (region?: RegionData, category?: CategoryData) => {\n  if (region && category) {\n    const isArabic = region.slug === \"uae\" || region.slug === \"saudi-arabia\";\n    const isWedding = category.eventType === \"wedding\";\n    const isVideo = category.type === \"video\";\n    \n    return {\n      title: `${region.name} ${category.name} | ${isWedding ? \"शादी\" : \"जन्मदिन\"} ${isVideo ? \"Video\" : \"Card\"} Maker`,\n      description: `Create ${isArabic ? \"luxury Arabic\" : \"beautiful Indian\"} ${category.eventType} ${category.type} invitations for ${region.name}. ${isWedding ? `Perfect for ${region.ceremonies.slice(0, 3).join(\", \")} ceremonies.` : \"For all ages and milestone celebrations.\"} ${region.currencySymbol}800-${region.currencySymbol}2,900.`,\n      keywords: `${region.name.toLowerCase()} ${category.eventType} ${category.type} invitation, ${region.slug} ${category.eventType} invite, ${isArabic ? \"arabic\" : \"indian\"} ${category.eventType} ${category.type}, whatsapp ${category.eventType} invitation ${region.name.toLowerCase()}, digital ${category.eventType} invite ${region.slug}`,\n      h1: `${region.name} ${category.name}`,\n      h2: `Create Beautiful ${category.eventType.charAt(0).toUpperCase() + category.eventType.slice(1)} ${category.type === \"video\" ? \"Videos\" : \"Cards\"} for ${region.name}`,\n    };\n  }\n  \n  if (region) {\n    const isArabic = region.slug === \"uae\" || region.slug === \"saudi-arabia\";\n    return {\n      title: `${region.name} Wedding Invitation Video | ${isArabic ? region.arabicTitle : region.hindiTitle}`,\n      description: `Create stunning wedding video invitations for ${region.name}. ${region.weddingsPerYear} weddings annually. Templates for ${region.popularStyles.slice(0, 4).join(\", \")}. Prices from ${region.currencySymbol}800.`,\n      keywords: `${region.name.toLowerCase()} wedding invitation video, ${region.slug} wedding video, whatsapp wedding invitation ${region.name.toLowerCase()}, digital wedding invite ${region.slug}, ${isArabic ? \"arabic wedding video, دعوة زفاف فيديو\" : \"indian wedding video, शादी वीडियो निमंत्रण\"}`,\n      h1: `${region.name} Wedding Video Invitations`,\n      h2: `Premium Wedding Templates for ${region.name}`,\n    };\n  }\n  \n  if (category) {\n    return {\n      title: `${category.name} | Online ${category.eventType.charAt(0).toUpperCase() + category.eventType.slice(1)} Invitation Maker`,\n      description: category.description,\n      keywords: `${category.eventType} invitation ${category.type}, ${category.eventType} ${category.type} maker online, digital ${category.eventType} invite, whatsapp ${category.eventType} invitation, ${category.eventType} ${category.type} template`,\n      h1: category.name,\n      h2: `Create Stunning ${category.eventType.charAt(0).toUpperCase() + category.eventType.slice(1)} ${category.type === \"video\" ? \"Videos\" : \"Cards\"}`,\n    };\n  }\n  \n  return {\n    title: \"Wedding Invitation Video Maker\",\n    description: \"Create stunning wedding and birthday video invitations online. Templates for India, UAE, Saudi Arabia. Share on WhatsApp instantly.\",\n    keywords: \"wedding invitation video, birthday invitation video, digital invitation maker, whatsapp wedding invite\",\n    h1: \"Video Invitation Maker\",\n    h2: \"Create Beautiful Invitations\",\n  };\n};\n\nconst getPopularSearches = (region?: RegionData, category?: CategoryData) => {\n  const baseSearches = [\n    { text: \"Wedding Invitation Video Maker\", href: \"/wedding-invitation-video\" },\n    { text: \"Birthday Invitation Video\", href: \"/birthday-invitation-video\" },\n    { text: \"Digital Wedding Card\", href: \"/wedding-invitation-card\" },\n    { text: \"Digital Birthday Card\", href: \"/birthday-invitation-card\" },\n  ];\n  \n  // Create style-specific search links with subcategory filters\n  const styleToSubcategory = (style: string) => {\n    return style.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-]/g, '');\n  };\n  \n  const regionSearches = region ? [\n    { text: `${region.name} Wedding Video`, href: `/${region.slug}/wedding-invitation-video` },\n    { text: `${region.name} Birthday Video`, href: `/${region.slug}/birthday-invitation-video` },\n    { text: `${region.name} Wedding Card`, href: `/${region.slug}/wedding-invitation-card` },\n    // Popular styles with subcategory filter for unique URLs\n    ...region.popularStyles.slice(0, 4).map(style => ({\n      text: `${style} Wedding Video`,\n      href: `/templates/wedding?region=${region.slug}&subcategory=${styleToSubcategory(style)}`,\n    })),\n  ] : [];\n  \n  const categorySearches = category ? [\n    { text: `India ${category.name}`, href: `/india/${category.slug}` },\n    { text: `UAE ${category.name}`, href: `/uae/${category.slug}` },\n    { text: `Saudi Arabia ${category.name}`, href: `/saudi-arabia/${category.slug}` },\n  ] : [];\n  \n  // Cross-link to other regions for better SEO\n  const crossRegionSearches = !region ? [\n    { text: \"India Wedding Invitations\", href: \"/india\" },\n    { text: \"UAE Wedding Invitations\", href: \"/uae\" },\n    { text: \"Saudi Arabia Invitations\", href: \"/saudi-arabia\" },\n  ] : [];\n  \n  const allSearches = [...regionSearches, ...categorySearches, ...crossRegionSearches, ...baseSearches];\n  \n  // Ensure unique URLs by deduplicating\n  const seenHrefs = new Set<string>();\n  return allSearches.filter(search => {\n    if (seenHrefs.has(search.href)) return false;\n    seenHrefs.add(search.href);\n    return true;\n  }).slice(0, 12);\n};\n\nconst getFAQs = (region?: RegionData, category?: CategoryData) => {\n  const regionName = region?.name || \"your region\";\n  const categoryType = category?.type || \"video\";\n  const eventType = category?.eventType || \"wedding\";\n  \n  return [\n    {\n      question: `How do I create a ${eventType} invitation ${categoryType} for ${regionName}?`,\n      answer: `Creating a ${eventType} ${categoryType} invitation is simple: 1) Choose a template from our collection designed for ${regionName}. 2) Customize with your details, photos, and preferences. 3) Preview and download instantly. Share via WhatsApp or any platform!`,\n    },\n    {\n      question: `What is the price of ${eventType} invitation ${categoryType}s?`,\n      answer: `Our ${eventType} ${categoryType} invitations range from ${region?.currencySymbol || \"₹\"}800 to ${region?.currencySymbol || \"₹\"}2,900 depending on the template complexity and features. Premium templates include additional animations and customization options.`,\n    },\n    {\n      question: `Can I customize the ${eventType} invitation with my photos?`,\n      answer: `Yes! All our templates support photo customization. You can add your photos, change text, select music, and personalize every aspect of your ${categoryType} invitation.`,\n    },\n    {\n      question: `How long does it take to receive my ${categoryType}?`,\n      answer: `${categoryType === \"video\" ? \"Video invitations are generated within 5-10 minutes after payment. You can preview instantly before purchase.\" : \"Digital cards are ready for download immediately after customization and payment.\"}`,\n    },\n    {\n      question: `Can I share the invitation on WhatsApp?`,\n      answer: `Absolutely! All our ${categoryType}s are optimized for WhatsApp sharing. ${categoryType === \"video\" ? \"Videos are compressed for quick sending while maintaining HD quality.\" : \"Cards are sized perfectly for mobile viewing.\"} You also get a shareable link.`,\n    },\n    {\n      question: `Do you offer ${region?.ceremonies?.[0] || \"ceremony\"} specific invitations?`,\n      answer: `Yes, we have specialized templates for ${region?.ceremonies?.slice(0, 4).join(\", \") || \"various ceremonies\"}. Each template is designed with cultural authenticity and traditional elements.`,\n    },\n  ];\n};\n\nexport default function SEOLandingPage() {\n  const [location] = useLocation();\n  \n  // Parse the URL path to extract region and category\n  const pathSegments = location.split('/').filter(Boolean);\n  \n  let regionSlug: string | undefined;\n  let categorySlug: string | undefined;\n  let isValidRoute = false;\n  \n  if (pathSegments.length === 2) {\n    // Combined route like /india/wedding-invitation-video\n    const potentialRegion = pathSegments[0];\n    const potentialCategory = pathSegments[1];\n    \n    if (regionData[potentialRegion] && categoryData[potentialCategory]) {\n      regionSlug = potentialRegion;\n      categorySlug = potentialCategory;\n      isValidRoute = true;\n    }\n    // If 2 segments but not a valid combined route, this is invalid - don't fallback\n  } else if (pathSegments.length === 1) {\n    // Single segment - check if it's a region or category\n    const segment = pathSegments[0];\n    \n    if (regionData[segment]) {\n      regionSlug = segment;\n      isValidRoute = true;\n    } else if (categoryData[segment]) {\n      categorySlug = segment;\n      isValidRoute = true;\n    }\n  }\n  \n  const isRegionPage = Boolean(regionSlug && regionData[regionSlug] && !categorySlug);\n  const isCategoryPage = Boolean(categorySlug && categoryData[categorySlug] && !regionSlug);\n  const isCombinedPage = Boolean(regionSlug && categorySlug && regionData[regionSlug] && categoryData[categorySlug]);\n  \n  // If route is not valid, return null (let wouter handle 404)\n  if (!isValidRoute) {\n    return null;\n  }\n  \n  const region = regionSlug ? regionData[regionSlug] : undefined;\n  const category = categorySlug ? categoryData[categorySlug] : undefined;\n  \n  const seoContent = getSEOContent(region, category);\n  const popularSearches = getPopularSearches(region, category);\n  const faqs = getFAQs(region, category);\n  \n  const queryParams = new URLSearchParams();\n  if (region) queryParams.set(\"region\", region.slug);\n  if (category) {\n    queryParams.set(\"type\", category.type);\n    queryParams.set(\"category\", category.eventType);\n  }\n  queryParams.set(\"limit\", \"25\");\n  \n  interface TemplateResponse {\n    templates: Template[];\n    pagination: { total: number; offset: number; limit: number; hasMore: boolean };\n  }\n  \n  const { data, isLoading } = useQuery<TemplateResponse>({\n    queryKey: [\"/api/templates\", queryParams.toString()],\n    queryFn: async () => {\n      const response = await fetch(`/api/templates?${queryParams.toString()}`);\n      if (!response.ok) throw new Error(\"Failed to fetch templates\");\n      return response.json();\n    },\n  });\n  \n  const templates = data?.templates || [];\n\n  const baseUrl = \"https://weddinginvite.ai\";\n  const currentPath = isCombinedPage \n    ? `/${regionSlug}/${categorySlug}`\n    : isRegionPage \n      ? `/${regionSlug}`\n      : `/${categorySlug}`;\n\n  const collectionSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"CollectionPage\",\n    name: seoContent.h1,\n    description: seoContent.description,\n    url: `${baseUrl}${currentPath}`,\n    mainEntity: {\n      \"@type\": \"ItemList\",\n      numberOfItems: templates.length,\n      itemListElement: templates.slice(0, 10).map((template, index) => ({\n        \"@type\": \"ListItem\",\n        position: index + 1,\n        item: {\n          \"@type\": category?.type === \"video\" ? \"VideoObject\" : \"ImageObject\",\n          name: template.templateName,\n          description: `${template.templateName} - ${template.category} invitation template`,\n          url: `${baseUrl}/template/${template.slug}`,\n          thumbnailUrl: template.thumbnailUrl,\n        },\n      })),\n    },\n  };\n\n  const breadcrumbSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"BreadcrumbList\",\n    itemListElement: [\n      { \"@type\": \"ListItem\", position: 1, name: \"Home\", item: baseUrl },\n      ...(region ? [{ \"@type\": \"ListItem\", position: 2, name: region.name, item: `${baseUrl}/${region.slug}` }] : []),\n      ...(category ? [{ \"@type\": \"ListItem\", position: region ? 3 : 2, name: category.name, item: `${baseUrl}${currentPath}` }] : []),\n    ],\n  };\n\n  const faqSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"FAQPage\",\n    mainEntity: faqs.map(faq => ({\n      \"@type\": \"Question\",\n      name: faq.question,\n      acceptedAnswer: {\n        \"@type\": \"Answer\",\n        text: faq.answer,\n      },\n    })),\n  };\n\n  const organizationSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"Organization\",\n    name: \"WeddingInvite.ai\",\n    url: baseUrl,\n    logo: `${baseUrl}/logo.png`,\n    sameAs: [\n      \"https://www.instagram.com/weddinginvite.ai\",\n      \"https://www.facebook.com/weddinginvite.ai\",\n    ],\n    contactPoint: {\n      \"@type\": \"ContactPoint\",\n      telephone: \"+91-9876543210\",\n      contactType: \"customer service\",\n      areaServed: region ? [region.code] : [\"IN\", \"AE\", \"SA\"],\n      availableLanguage: region?.locale.startsWith(\"ar\") ? [\"English\", \"Arabic\"] : [\"English\", \"Hindi\"],\n    },\n  };\n\n  const alternateLang = region?.slug === \"uae\" || region?.slug === \"saudi-arabia\"\n    ? [\n        { lang: \"en\", url: `${baseUrl}${currentPath}` },\n        { lang: \"ar\", url: `${baseUrl}/ar${currentPath}` },\n        { lang: \"x-default\", url: `${baseUrl}${currentPath}` },\n      ]\n    : region?.slug === \"india\"\n    ? [\n        { lang: \"en-IN\", url: `${baseUrl}${currentPath}` },\n        { lang: \"hi\", url: `${baseUrl}/hi${currentPath}` },\n        { lang: \"x-default\", url: `${baseUrl}${currentPath}` },\n      ]\n    : [\n        { lang: \"en\", url: `${baseUrl}${currentPath}` },\n        { lang: \"x-default\", url: `${baseUrl}${currentPath}` },\n      ];\n\n  const heroImage = region?.heroImage || category?.heroImage || homepageHero;\n\n  return (\n    <>\n      <SEOHead\n        title={seoContent.title}\n        description={seoContent.description}\n        keywords={seoContent.keywords}\n        schema={[collectionSchema, breadcrumbSchema, faqSchema, organizationSchema]}\n        locale={region?.locale || \"en_US\"}\n        ogImage={heroImage}\n        canonical={`${baseUrl}${currentPath}`}\n        alternateLang={alternateLang}\n      />\n\n      <HeroSection\n        title={seoContent.h1}\n        description={seoContent.description}\n        backgroundImage={heroImage}\n        height=\"large\"\n        primaryCTA={{\n          text: \"Browse Templates\",\n          href: \"#templates\",\n        }}\n        secondaryCTA={{\n          text: \"How It Works\",\n          href: \"/how-it-works\",\n        }}\n      />\n\n      {region && (\n        <section className=\"py-12 lg:py-16 bg-muted/30\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <h2 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-8 text-center\">\n              {region.name} Wedding Market\n            </h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\n              <Card className=\"p-6 text-center\">\n                <Users className=\"w-10 h-10 text-primary mx-auto mb-3\" />\n                <div className=\"text-3xl font-bold text-foreground mb-1\">{region.weddingsPerYear}</div>\n                <div className=\"text-muted-foreground\">Weddings Per Year</div>\n              </Card>\n              <Card className=\"p-6 text-center\">\n                <Star className=\"w-10 h-10 text-primary mx-auto mb-3\" />\n                <div className=\"text-3xl font-bold text-foreground mb-1\">{region.digitalAdoption}</div>\n                <div className=\"text-muted-foreground\">Digital Adoption</div>\n              </Card>\n              <Card className=\"p-6 text-center\">\n                <MapPin className=\"w-10 h-10 text-primary mx-auto mb-3\" />\n                <div className=\"text-3xl font-bold text-foreground mb-1\">{region.avgSpend}</div>\n                <div className=\"text-muted-foreground\">Average Spend</div>\n              </Card>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <Card className=\"p-6\">\n                <h3 className=\"font-semibold text-lg mb-4 text-foreground\">Popular Wedding Styles</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {region.popularStyles.map((style, index) => (\n                    <Badge key={index} variant=\"secondary\" className=\"text-sm\" data-testid={`badge-style-${index}`}>\n                      {style}\n                    </Badge>\n                  ))}\n                </div>\n              </Card>\n              <Card className=\"p-6\">\n                <h3 className=\"font-semibold text-lg mb-4 text-foreground\">Wedding Ceremonies</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {region.ceremonies.map((ceremony, index) => (\n                    <Badge key={index} variant=\"outline\" className=\"text-sm\" data-testid={`badge-ceremony-${index}`}>\n                      {ceremony}\n                    </Badge>\n                  ))}\n                </div>\n              </Card>\n            </div>\n\n            {(region.arabicTitle || region.hindiTitle) && (\n              <Card className=\"p-6 mt-8 bg-primary/5 border-primary/20\">\n                <p className=\"text-xl text-center font-medium text-foreground\" dir={region.arabicTitle ? \"rtl\" : \"ltr\"}>\n                  {region.arabicTitle || region.hindiTitle}\n                </p>\n                <p className=\"text-center text-muted-foreground mt-2\" dir={region.arabicTitle ? \"rtl\" : \"ltr\"}>\n                  {region.arabicDescription || region.hindiDescription}\n                </p>\n              </Card>\n            )}\n          </div>\n        </section>\n      )}\n\n      {category && (\n        <section className=\"py-12 lg:py-16 bg-muted/30\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center\">\n              <div>\n                <div className=\"flex items-center gap-2 mb-4\">\n                  {category.type === \"video\" ? (\n                    <Badge className=\"bg-primary/10 text-primary border-primary/20\">\n                      <Play className=\"w-3 h-3 mr-1\" /> Video\n                    </Badge>\n                  ) : (\n                    <Badge className=\"bg-accent/10 text-accent-foreground border-accent/20\">\n                      <FileImage className=\"w-3 h-3 mr-1\" /> Card\n                    </Badge>\n                  )}\n                  <Badge variant=\"outline\">{category.eventType}</Badge>\n                </div>\n                <h2 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-4\">\n                  {seoContent.h2}\n                </h2>\n                <p className=\"text-muted-foreground text-lg mb-6\">\n                  {category.description}\n                </p>\n                <ul className=\"space-y-3\">\n                  {category.features.map((feature, index) => (\n                    <li key={index} className=\"flex items-center gap-3 text-foreground\">\n                      <CheckCircle2 className=\"w-5 h-5 text-green-500 flex-shrink-0\" />\n                      {feature}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n              <Card className=\"p-8 text-center bg-gradient-to-br from-primary/5 to-accent/5\">\n                <div className=\"text-4xl font-bold text-primary mb-2\">\n                  {region?.currencySymbol || \"₹\"}800 - {region?.currencySymbol || \"₹\"}2,900\n                </div>\n                <p className=\"text-muted-foreground mb-6\">Per template, one-time payment</p>\n                <Button size=\"lg\" asChild>\n                  <Link href=\"#templates\">\n                    Browse {category.eventType.charAt(0).toUpperCase() + category.eventType.slice(1)} Templates\n                    <ArrowRight className=\"w-4 h-4 ml-2\" />\n                  </Link>\n                </Button>\n              </Card>\n            </div>\n          </div>\n        </section>\n      )}\n\n      <section className=\"py-12 lg:py-16 bg-background\" id=\"templates\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"mb-8\">\n            <h2 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-2\">\n              {region ? `${region.name} ` : \"\"}{category ? category.name : \"Templates\"}\n            </h2>\n            <p className=\"text-muted-foreground\">\n              {isLoading ? \"Loading...\" : `${templates.length} template${templates.length !== 1 ? \"s\" : \"\"} available`}\n            </p>\n          </div>\n\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-16\">\n              <Loader2 className=\"w-12 h-12 text-primary animate-spin\" />\n            </div>\n          ) : templates.length === 0 ? (\n            <Card className=\"p-12 text-center\">\n              <p className=\"text-muted-foreground text-lg mb-6\">\n                No templates match your criteria. Explore our full collection instead.\n              </p>\n              <Button asChild>\n                <Link href=\"/templates\">Browse All Templates</Link>\n              </Button>\n            </Card>\n          ) : (\n            <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-5\">\n              {templates.map((template) => (\n                <TemplateCard\n                  key={template.id}\n                  id={template.id}\n                  title={template.templateName}\n                  slug={template.slug}\n                  category={template.category}\n                  duration={template.durationSec}\n                  thumbnailUrl={template.thumbnailUrl}\n                  demoVideoUrl={template.previewVideoUrl}\n                  templateType={template.templateType as \"video\" | \"card\"}\n                  isPremium={Number(template.price) > 150000}\n                  pageCount={(template.templateJson as any)?.pages?.length || 1}\n                  price={Number(template.price)}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      </section>\n\n      <section className=\"py-12 lg:py-16 bg-muted/30\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <h2 className=\"font-playfair text-2xl lg:text-3xl font-bold text-foreground mb-8 text-center\">\n            Frequently Asked Questions\n          </h2>\n          <Card className=\"p-6\">\n            <Accordion type=\"single\" collapsible className=\"w-full\">\n              {faqs.map((faq, index) => (\n                <AccordionItem key={index} value={`faq-${index}`}>\n                  <AccordionTrigger className=\"text-left text-foreground\" data-testid={`accordion-faq-${index}`}>\n                    {faq.question}\n                  </AccordionTrigger>\n                  <AccordionContent className=\"text-muted-foreground\">\n                    {faq.answer}\n                  </AccordionContent>\n                </AccordionItem>\n              ))}\n            </Accordion>\n          </Card>\n        </div>\n      </section>\n\n      <section className=\"py-12 lg:py-16 bg-background border-t\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <h2 className=\"font-semibold text-lg text-foreground mb-6\">Popular Searches</h2>\n          <div className=\"flex flex-wrap gap-2\">\n            {popularSearches.map((search, index) => (\n              <Link key={index} href={search.href}>\n                <Badge \n                  variant=\"outline\" \n                  className=\"hover-elevate cursor-pointer py-2 px-3\"\n                  data-testid={`link-search-${index}`}\n                >\n                  {search.text}\n                </Badge>\n              </Link>\n            ))}\n          </div>\n          \n          <div className=\"mt-8 pt-8 border-t\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-muted-foreground\">\n              <div>\n                <h3 className=\"font-semibold text-foreground mb-3\">Wedding Invitations</h3>\n                <ul className=\"space-y-2\">\n                  <li><Link href=\"/india/wedding-invitation-video\" className=\"hover:text-primary transition-colors\">Indian Wedding Video</Link></li>\n                  <li><Link href=\"/uae/wedding-invitation-video\" className=\"hover:text-primary transition-colors\">UAE Arabic Wedding Video</Link></li>\n                  <li><Link href=\"/saudi-arabia/wedding-invitation-video\" className=\"hover:text-primary transition-colors\">Saudi Wedding Video</Link></li>\n                  <li><Link href=\"/wedding-invitation-card\" className=\"hover:text-primary transition-colors\">Digital Wedding Cards</Link></li>\n                </ul>\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-foreground mb-3\">Birthday Invitations</h3>\n                <ul className=\"space-y-2\">\n                  <li><Link href=\"/india/birthday-invitation-video\" className=\"hover:text-primary transition-colors\">Indian Birthday Video</Link></li>\n                  <li><Link href=\"/uae/birthday-invitation-video\" className=\"hover:text-primary transition-colors\">UAE Birthday Video</Link></li>\n                  <li><Link href=\"/birthday-invitation-video\" className=\"hover:text-primary transition-colors\">Birthday Video Maker</Link></li>\n                  <li><Link href=\"/birthday-invitation-card\" className=\"hover:text-primary transition-colors\">Digital Birthday Cards</Link></li>\n                </ul>\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-foreground mb-3\">By Region</h3>\n                <ul className=\"space-y-2\">\n                  <li><Link href=\"/india\" className=\"hover:text-primary transition-colors\">India Templates</Link></li>\n                  <li><Link href=\"/uae\" className=\"hover:text-primary transition-colors\">UAE Templates</Link></li>\n                  <li><Link href=\"/saudi-arabia\" className=\"hover:text-primary transition-colors\">Saudi Arabia Templates</Link></li>\n                  <li><Link href=\"/templates\" className=\"hover:text-primary transition-colors\">All Templates</Link></li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n","path":null,"size_bytes":32080,"size_tokens":null},"server/render-service.ts":{"content":"/**\n * Dummy Render Service\n * \n * This simulates the After Effects rendering pipeline by mapping\n * placeholder files to project previewUrl and finalUrl based on template type.\n * \n * Storage files (in Ind/generated/):\n * - card_preview.png - for card template previews\n * - card_final.png - for card template final files\n * - video_preview.mp4 - for video template previews\n * - video_final.mp4 - for video template final files\n * \n * Editor Page Preview files (in Ind/preview/):\n * - ed_p1.png, ed_p2.png, ed_p3.png, ed_p4.png - cycling preview images for editor\n */\n\n// Base URL for the generated files in object storage\nconst GENERATED_BASE_PATH = \"/api/media/Ind/generated\";\nconst PREVIEW_BASE_PATH = \"/api/media/Ind/preview\";\n\n// Number of preview images available for cycling\nconst PREVIEW_IMAGE_COUNT = 4;\n\nexport interface RenderResult {\n  previewUrl: string;\n  finalUrl: string;\n}\n\n/**\n * Get the placeholder URLs for a project based on template type\n * @param templateType - 'card' or 'video'\n * @returns Object with previewUrl and finalUrl\n */\nexport function getPlaceholderUrls(templateType: string): RenderResult {\n  if (templateType === 'card') {\n    return {\n      previewUrl: `${GENERATED_BASE_PATH}/card_preview.png`,\n      finalUrl: `${GENERATED_BASE_PATH}/card_final.png`,\n    };\n  } else {\n    // Default to video for any non-card type\n    return {\n      previewUrl: `${GENERATED_BASE_PATH}/video_preview.mp4`,\n      finalUrl: `${GENERATED_BASE_PATH}/video_final.mp4`,\n    };\n  }\n}\n\n/**\n * Simulate rendering a project\n * In a real implementation, this would trigger the AE rendering pipeline\n * For now, it just returns the placeholder URLs\n * \n * @param projectId - The project ID\n * @param templateType - 'card' or 'video'\n * @returns Promise<RenderResult>\n */\nexport async function renderProject(projectId: string, templateType: string): Promise<RenderResult> {\n  // Simulate some processing time (optional, can remove for instant response)\n  // await new Promise(resolve => setTimeout(resolve, 100));\n  \n  console.log(`[Render Service] Generating placeholder URLs for project ${projectId} (type: ${templateType})`);\n  \n  const urls = getPlaceholderUrls(templateType);\n  \n  console.log(`[Render Service] Generated URLs:`, urls);\n  \n  return urls;\n}\n\nexport interface PagePreviewResult {\n  previewUrl: string;\n  nextIndex: number;\n}\n\n/**\n * Get the next preview image URL for a page in the editor\n * Cycles through ed_p1.png → ed_p2.png → ed_p3.png → ed_p4.png → ed_p1.png\n * \n * @param currentIndex - Current preview index (0-3, will cycle)\n * @returns Object with previewUrl and nextIndex\n */\nexport function getPagePreviewUrl(currentIndex: number): PagePreviewResult {\n  // Ensure index is within bounds (0-3)\n  const normalizedIndex = currentIndex % PREVIEW_IMAGE_COUNT;\n  // Preview images are 1-indexed (ed_p1.png, ed_p2.png, etc.)\n  const imageNumber = normalizedIndex + 1;\n  \n  const previewUrl = `${PREVIEW_BASE_PATH}/ed_p${imageNumber}.png`;\n  // Calculate next index (wraps around after 4)\n  const nextIndex = (normalizedIndex + 1) % PREVIEW_IMAGE_COUNT;\n  \n  console.log(`[Render Service] Page preview: index ${currentIndex} → image p${imageNumber} → next index ${nextIndex}`);\n  \n  return {\n    previewUrl,\n    nextIndex,\n  };\n}\n\n/**\n * Simulate rendering a single page preview\n * In a real implementation, this would render the page with customizations\n * For now, it cycles through dummy preview images\n * \n * @param projectId - The project ID\n * @param pageId - The page ID being previewed\n * @param currentIndex - Current preview index for this page\n * @returns Promise<PagePreviewResult>\n */\nexport async function renderPagePreview(\n  projectId: string, \n  pageId: string, \n  currentIndex: number\n): Promise<PagePreviewResult> {\n  // Simulate some processing time to show loading state\n  await new Promise(resolve => setTimeout(resolve, 500));\n  \n  console.log(`[Render Service] Rendering page preview for project ${projectId}, page ${pageId}`);\n  \n  return getPagePreviewUrl(currentIndex);\n}\n","path":null,"size_bytes":4048,"size_tokens":null},"client/src/components/MediaPreviewModal.tsx":{"content":"import { useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Loader2, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface MediaPreviewModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  mediaUrl: string | null;\n  mediaType: \"image\" | \"video\";\n  templateName: string;\n  orientation: \"portrait\" | \"landscape\";\n}\n\nexport function MediaPreviewModal({\n  open,\n  onOpenChange,\n  mediaUrl,\n  mediaType,\n  templateName,\n  orientation,\n}: MediaPreviewModalProps) {\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  \n  const isPortrait = orientation === \"portrait\";\n\n  const handleMediaLoad = () => {\n    setIsLoading(false);\n    setHasError(false);\n  };\n\n  const handleMediaError = () => {\n    setIsLoading(false);\n    setHasError(true);\n  };\n\n  const handleOpenChange = (newOpen: boolean) => {\n    if (!newOpen) {\n      setIsLoading(true);\n      setHasError(false);\n    }\n    onOpenChange(newOpen);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={handleOpenChange}>\n      <DialogContent \n        className=\"max-w-[95vw] sm:max-w-4xl p-0 bg-gradient-to-b from-zinc-900 to-black border border-zinc-800 overflow-hidden\"\n        data-testid=\"modal-media-preview\"\n      >\n        <DialogHeader className=\"px-4 sm:px-6 pt-4 sm:pt-5 pb-3 border-b border-zinc-800/50\">\n          <div className=\"flex items-center justify-between\">\n            <DialogTitle className=\"text-white font-playfair text-lg sm:text-xl pr-8 truncate\">\n              {templateName}\n            </DialogTitle>\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"absolute right-3 top-3 text-zinc-400\"\n              onClick={() => handleOpenChange(false)}\n              data-testid=\"button-close-modal\"\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <DialogDescription className=\"sr-only\">\n            {mediaType === \"video\" ? \"Video\" : \"Image\"} preview for {templateName}\n          </DialogDescription>\n        </DialogHeader>\n        \n        <div className=\"relative flex items-center justify-center p-4 sm:p-6 min-h-[300px] sm:min-h-[400px]\">\n          {isLoading && !hasError && mediaUrl && (\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-zinc-900/80 z-10\" data-testid=\"loading-indicator\">\n              <Loader2 className=\"h-10 w-10 animate-spin text-primary mb-3\" />\n              <p className=\"text-zinc-400 text-sm\">Loading {mediaType}...</p>\n            </div>\n          )}\n          \n          {hasError ? (\n            <div className=\"flex flex-col items-center justify-center text-zinc-400 py-12\" data-testid=\"media-error\">\n              <div className=\"w-16 h-16 rounded-full bg-zinc-800 flex items-center justify-center mb-4\">\n                <X className=\"h-8 w-8 text-zinc-500\" />\n              </div>\n              <p className=\"text-center text-lg font-medium mb-2\">Failed to load {mediaType}</p>\n              <p className=\"text-sm text-zinc-500\">Please try again later</p>\n            </div>\n          ) : mediaUrl ? (\n            <div \n              className={`relative w-full flex items-center justify-center ${\n                isPortrait \n                  ? \"max-h-[70vh]\" \n                  : \"max-h-[60vh]\"\n              }`}\n            >\n              {mediaType === \"video\" ? (\n                <video\n                  src={mediaUrl}\n                  controls\n                  autoPlay\n                  playsInline\n                  onLoadedData={handleMediaLoad}\n                  onError={handleMediaError}\n                  className={`rounded-lg shadow-2xl ${\n                    isPortrait \n                      ? \"max-h-[70vh] w-auto max-w-full\" \n                      : \"max-h-[60vh] w-auto max-w-full\"\n                  } ${isLoading ? \"invisible\" : \"visible\"}`}\n                  style={{\n                    aspectRatio: isPortrait ? \"9/16\" : \"16/9\",\n                  }}\n                  data-testid=\"video-preview\"\n                />\n              ) : (\n                <img\n                  src={mediaUrl}\n                  alt={templateName}\n                  onLoad={handleMediaLoad}\n                  onError={handleMediaError}\n                  className={`rounded-lg shadow-2xl object-contain ${\n                    isPortrait \n                      ? \"max-h-[70vh] w-auto max-w-full\" \n                      : \"max-h-[60vh] w-auto max-w-full\"\n                  } ${isLoading ? \"invisible\" : \"visible\"}`}\n                  data-testid=\"image-preview\"\n                />\n              )}\n            </div>\n          ) : (\n            <div className=\"flex flex-col items-center justify-center text-zinc-400 py-12\" data-testid=\"media-unavailable\">\n              <div className=\"w-16 h-16 rounded-full bg-zinc-800 flex items-center justify-center mb-4\">\n                <X className=\"h-8 w-8 text-zinc-500\" />\n              </div>\n              <p className=\"text-center text-lg font-medium mb-2\">\n                {mediaType === \"video\" ? \"Video\" : \"Image\"} not available\n              </p>\n              <p className=\"text-sm text-zinc-500\">The file is still being processed</p>\n            </div>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","path":null,"size_bytes":5444,"size_tokens":null},"client/src/components/MusicTrimmer.tsx":{"content":"import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Button } from \"@/components/ui/button\";\nimport { Play, Pause, RotateCcw } from \"lucide-react\";\n\ninterface MusicTrimmerProps {\n  audioUrl: string | null;\n  audioDuration: number;\n  templateDuration: number;\n  startTime: number;\n  onStartTimeChange: (startTime: number) => void;\n  onPreviewPlay?: () => void;\n  onPreviewPause?: () => void;\n  isPlaying?: boolean;\n}\n\nexport function MusicTrimmer({\n  audioUrl,\n  audioDuration,\n  templateDuration,\n  startTime,\n  onStartTimeChange,\n  onPreviewPlay,\n  onPreviewPause,\n  isPlaying = false,\n}: MusicTrimmerProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [waveformBars, setWaveformBars] = useState<number[]>([]);\n\n  const formatTime = (seconds: number) => {\n    if (!Number.isFinite(seconds) || seconds < 0) return '0:00';\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const maxStartTime = Math.max(0, audioDuration - templateDuration);\n  const selectionWidthPercent = audioDuration > 0 \n    ? Math.min(100, (templateDuration / audioDuration) * 100) \n    : 100;\n  const selectionLeftPercent = audioDuration > 0 \n    ? (startTime / audioDuration) * 100 \n    : 0;\n\n  useEffect(() => {\n    const barCount = 60;\n    const bars = Array.from({ length: barCount }, () => \n      0.2 + Math.random() * 0.8\n    );\n    \n    for (let i = 1; i < bars.length - 1; i++) {\n      bars[i] = (bars[i - 1] + bars[i] + bars[i + 1]) / 3;\n    }\n    \n    setWaveformBars(bars);\n  }, [audioUrl]);\n\n  const handleSliderChange = useCallback((value: number[]) => {\n    const newStartTime = Math.min(value[0], maxStartTime);\n    onStartTimeChange(newStartTime);\n  }, [maxStartTime, onStartTimeChange]);\n\n  const handleWaveformClick = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\n    if (!containerRef.current || audioDuration <= 0) return;\n    \n    const rect = containerRef.current.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const clickPercent = clickX / rect.width;\n    \n    let newStartTime = clickPercent * audioDuration - (templateDuration / 2);\n    newStartTime = Math.max(0, Math.min(newStartTime, maxStartTime));\n    \n    onStartTimeChange(newStartTime);\n  }, [audioDuration, templateDuration, maxStartTime, onStartTimeChange]);\n\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  }, []);\n\n  const handleMouseMove = useCallback((e: MouseEvent) => {\n    if (!isDragging || !containerRef.current || audioDuration <= 0) return;\n    \n    const rect = containerRef.current.getBoundingClientRect();\n    const mouseX = e.clientX - rect.left;\n    const mousePercent = mouseX / rect.width;\n    \n    let newStartTime = mousePercent * audioDuration - (templateDuration / 2);\n    newStartTime = Math.max(0, Math.min(newStartTime, maxStartTime));\n    \n    onStartTimeChange(newStartTime);\n  }, [isDragging, audioDuration, templateDuration, maxStartTime, onStartTimeChange]);\n\n  const handleMouseUp = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, handleMouseMove, handleMouseUp]);\n\n  const handleTouchStart = useCallback((e: React.TouchEvent) => {\n    setIsDragging(true);\n  }, []);\n\n  const handleTouchMove = useCallback((e: React.TouchEvent) => {\n    if (!containerRef.current || audioDuration <= 0) return;\n    \n    const touch = e.touches[0];\n    const rect = containerRef.current.getBoundingClientRect();\n    const touchX = touch.clientX - rect.left;\n    const touchPercent = touchX / rect.width;\n    \n    let newStartTime = touchPercent * audioDuration - (templateDuration / 2);\n    newStartTime = Math.max(0, Math.min(newStartTime, maxStartTime));\n    \n    onStartTimeChange(newStartTime);\n  }, [audioDuration, templateDuration, maxStartTime, onStartTimeChange]);\n\n  const handleTouchEnd = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  const handleReset = useCallback(() => {\n    onStartTimeChange(0);\n  }, [onStartTimeChange]);\n\n  const endTime = Math.min(startTime + templateDuration, audioDuration);\n\n  if (!audioUrl || audioDuration <= 0) {\n    return (\n      <div className=\"bg-muted/30 rounded-lg p-4 text-center text-muted-foreground text-sm\">\n        Select or upload music to trim\n      </div>\n    );\n  }\n\n  const showTrimmer = audioDuration > templateDuration;\n\n  return (\n    <div className=\"space-y-4\">\n      {showTrimmer ? (\n        <>\n          <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n            <span>Drag to select which part of your music to use</span>\n            <span className=\"font-medium text-foreground\">\n              Video duration: {formatTime(templateDuration)}\n            </span>\n          </div>\n\n          <div \n            ref={containerRef}\n            className=\"relative h-20 bg-muted/30 rounded-lg overflow-hidden cursor-pointer select-none\"\n            onClick={handleWaveformClick}\n            data-testid=\"music-trimmer-waveform\"\n          >\n            <div className=\"absolute inset-0 flex items-center justify-center gap-[2px] px-2\">\n              {waveformBars.map((height, index) => {\n                const barPosition = (index / waveformBars.length) * 100;\n                const isInSelection = barPosition >= selectionLeftPercent && \n                                      barPosition <= selectionLeftPercent + selectionWidthPercent;\n                \n                return (\n                  <div\n                    key={index}\n                    className={`flex-1 rounded-full transition-colors ${\n                      isInSelection ? 'bg-primary' : 'bg-muted-foreground/30'\n                    }`}\n                    style={{ \n                      height: `${height * 60}%`,\n                      minWidth: '2px',\n                      maxWidth: '6px'\n                    }}\n                  />\n                );\n              })}\n            </div>\n\n            <div\n              className=\"absolute top-0 bottom-0 border-2 border-primary bg-primary/10 rounded cursor-grab active:cursor-grabbing transition-[left] duration-75\"\n              style={{\n                left: `${selectionLeftPercent}%`,\n                width: `${selectionWidthPercent}%`,\n              }}\n              onMouseDown={handleMouseDown}\n              onTouchStart={handleTouchStart}\n              onTouchMove={handleTouchMove}\n              onTouchEnd={handleTouchEnd}\n              data-testid=\"music-trimmer-selection\"\n            >\n              <div className=\"absolute left-1 top-1 bottom-1 w-1 bg-primary rounded-full\" />\n              <div className=\"absolute right-1 top-1 bottom-1 w-1 bg-primary rounded-full\" />\n              \n              <div className=\"absolute inset-0 flex items-center justify-center\">\n                <div className=\"bg-primary text-primary-foreground text-[10px] font-medium px-2 py-0.5 rounded-full whitespace-nowrap\">\n                  {formatTime(templateDuration)}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"absolute bottom-1 left-2 text-[10px] text-muted-foreground font-medium\">\n              0:00\n            </div>\n            <div className=\"absolute bottom-1 right-2 text-[10px] text-muted-foreground font-medium\">\n              {formatTime(audioDuration)}\n            </div>\n          </div>\n\n          <div className=\"px-1\">\n            <Slider\n              value={[startTime]}\n              onValueChange={handleSliderChange}\n              max={maxStartTime}\n              step={0.1}\n              className=\"cursor-pointer\"\n              data-testid=\"music-trimmer-slider\"\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={isPlaying ? onPreviewPause : onPreviewPlay}\n                disabled={!audioUrl}\n                data-testid=\"button-trimmer-preview\"\n              >\n                {isPlaying ? (\n                  <Pause className=\"w-3 h-3 mr-1\" />\n                ) : (\n                  <Play className=\"w-3 h-3 mr-1\" />\n                )}\n                Preview Selection\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleReset}\n                disabled={startTime === 0}\n                data-testid=\"button-trimmer-reset\"\n              >\n                <RotateCcw className=\"w-3 h-3 mr-1\" />\n                Reset\n              </Button>\n            </div>\n            \n            <div className=\"text-sm text-muted-foreground\">\n              <span className=\"font-medium text-foreground\">{formatTime(startTime)}</span>\n              <span className=\"mx-1\">-</span>\n              <span className=\"font-medium text-foreground\">{formatTime(endTime)}</span>\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"bg-muted/30 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center justify-center gap-[2px] flex-1 h-12\">\n              {waveformBars.slice(0, 30).map((height, index) => (\n                <div\n                  key={index}\n                  className=\"flex-1 bg-primary rounded-full\"\n                  style={{ \n                    height: `${height * 40}%`,\n                    minWidth: '2px',\n                    maxWidth: '4px'\n                  }}\n                />\n              ))}\n            </div>\n          </div>\n          <p className=\"text-xs text-muted-foreground text-center mt-2\">\n            Music fits within video duration ({formatTime(audioDuration)} / {formatTime(templateDuration)})\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":10345,"size_tokens":null},"client/src/components/FAQSection.tsx":{"content":"import {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\n\ninterface FAQItem {\n  question: string;\n  answer: string;\n}\n\ninterface FAQSectionProps {\n  title?: string;\n  subtitle?: string;\n  faqs: FAQItem[];\n  showSchema?: boolean;\n}\n\nexport function FAQSection({ \n  title = \"Frequently Asked Questions\", \n  subtitle,\n  faqs,\n  showSchema = true \n}: FAQSectionProps) {\n  const faqSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"FAQPage\",\n    \"mainEntity\": faqs.map(faq => ({\n      \"@type\": \"Question\",\n      \"name\": faq.question,\n      \"acceptedAnswer\": {\n        \"@type\": \"Answer\",\n        \"text\": faq.answer\n      }\n    }))\n  };\n\n  return (\n    <section className=\"py-16 md:py-24\" id=\"faq\">\n      {showSchema && (\n        <script \n          type=\"application/ld+json\"\n          dangerouslySetInnerHTML={{ __html: JSON.stringify(faqSchema) }}\n        />\n      )}\n      \n      <div className=\"container mx-auto px-4\">\n        <div className=\"text-center mb-12\">\n          <h2 className=\"font-playfair text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            {title}\n          </h2>\n          {subtitle && (\n            <p className=\"text-muted-foreground text-lg max-w-2xl mx-auto\">\n              {subtitle}\n            </p>\n          )}\n        </div>\n\n        <div className=\"max-w-3xl mx-auto\">\n          <Accordion type=\"single\" collapsible className=\"w-full space-y-4\">\n            {faqs.map((faq, index) => (\n              <AccordionItem \n                key={index} \n                value={`item-${index}`}\n                className=\"border rounded-lg px-6 bg-card\"\n                data-testid={`faq-item-${index}`}\n              >\n                <AccordionTrigger className=\"text-left font-semibold text-foreground hover:no-underline py-4\">\n                  {faq.question}\n                </AccordionTrigger>\n                <AccordionContent className=\"text-muted-foreground pb-4\">\n                  {faq.answer}\n                </AccordionContent>\n              </AccordionItem>\n            ))}\n          </Accordion>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport const homeFAQs: FAQItem[] = [\n  {\n    question: \"How do I create a wedding video invitation?\",\n    answer: \"Simply browse our template collection, choose a design that matches your wedding style, customize it with your details, photos, and music, then download and share via WhatsApp or any messaging platform. The entire process takes just minutes!\"\n  },\n  {\n    question: \"Can I share my invitation on WhatsApp?\",\n    answer: \"Yes! All our wedding video invitations are optimized for WhatsApp sharing. The video files are compressed for quick sharing while maintaining excellent quality. You can also share via Instagram, Facebook, email, or any other platform.\"\n  },\n  {\n    question: \"Do you have templates for Indian weddings?\",\n    answer: \"Yes, we offer a wide variety of templates specifically designed for Indian weddings including Punjabi, South Indian (Tamil, Telugu, Kannada), Marathi, Bengali, Gujarati, and North Indian styles. We also have ceremony-specific templates for Mehendi, Sangeet, Haldi, Engagement, and Reception.\"\n  },\n  {\n    question: \"Are templates available for Arabic and Gulf weddings?\",\n    answer: \"Absolutely! We have elegant templates designed for UAE, Saudi Arabian, and Gulf region weddings with traditional Arabic calligraphy, Islamic patterns, and bilingual English-Arabic support. Our designs respect cultural traditions while offering modern aesthetics.\"\n  },\n  {\n    question: \"What is included in the template price?\",\n    answer: \"Each template includes full customization rights, high-quality video download, WhatsApp-optimized format, background music options, and the ability to add your photos and text. You get unlimited edits before final download.\"\n  },\n  {\n    question: \"Can I add my own music to the invitation?\",\n    answer: \"Yes! You can choose from our curated library of royalty-free wedding music or upload your own custom music track. This allows you to personalize your invitation with songs that are meaningful to you.\"\n  },\n  {\n    question: \"How long does it take to create an invitation?\",\n    answer: \"Most couples complete their invitation in 10-15 minutes. Our easy-to-use editor lets you customize text, add photos, choose music, and preview your video in real-time. Once you're satisfied, you can download immediately.\"\n  },\n  {\n    question: \"Do you offer refunds?\",\n    answer: \"We offer free previews so you can see exactly what your invitation will look like before purchasing. Due to the digital nature of our products, we process refunds on a case-by-case basis. Please contact our support team if you have any concerns.\"\n  }\n];\n\nexport const howItWorksFAQs: FAQItem[] = [\n  {\n    question: \"How does the customization process work?\",\n    answer: \"After selecting a template, you'll enter our easy-to-use editor where you can modify text fields, add your photos, choose background music, and adjust colors. Changes are shown in real-time so you can preview exactly how your invitation will look.\"\n  },\n  {\n    question: \"Can I edit my invitation after creating it?\",\n    answer: \"Yes! Your project is saved automatically. You can return anytime to make changes before downloading the final version. This is perfect if you need to update dates, add more events, or make any corrections.\"\n  },\n  {\n    question: \"What file format will I receive?\",\n    answer: \"You'll receive a high-quality MP4 video file optimized for sharing. The file is compressed for quick WhatsApp sharing while maintaining excellent video quality that looks great on all devices.\"\n  },\n  {\n    question: \"How do I share my invitation with guests?\",\n    answer: \"After downloading, you can share your video invitation directly through WhatsApp, Instagram, Facebook, email, or any messaging platform. Simply attach the video file and send to your guests individually or in groups.\"\n  },\n  {\n    question: \"Can I create invitations for multiple events?\",\n    answer: \"Yes! Many of our templates support multiple pages for different wedding events like Mehendi, Sangeet, Wedding Ceremony, and Reception. You can create one comprehensive invitation that covers all your celebrations.\"\n  }\n];\n\nexport const templatesFAQs: FAQItem[] = [\n  {\n    question: \"What types of templates do you offer?\",\n    answer: \"We offer video invitation templates and digital card templates for weddings, engagements, birthdays, and other celebrations. Our collection includes designs for Indian, Arabic, Western, and fusion weddings with various cultural and ceremonial themes.\"\n  },\n  {\n    question: \"How do I choose the right template?\",\n    answer: \"Browse our collection by category (Wedding, Birthday), culture (Indian, Arabic), or style (Traditional, Modern). Use our filter options to narrow down by template type, photo options, and orientation. You can preview any template before customizing.\"\n  },\n  {\n    question: \"Are the templates customizable?\",\n    answer: \"Every template is fully customizable. You can change text, add your photos, select different music, and adjust the design to match your preferences. Our editor makes it easy to personalize every element.\"\n  },\n  {\n    question: \"Can I preview a template before purchasing?\",\n    answer: \"Yes! You can fully customize any template and preview your personalized video with a watermark before making a purchase. This ensures you're completely satisfied with your design before paying.\"\n  },\n  {\n    question: \"What makes your templates different?\",\n    answer: \"Our templates are designed specifically for cultural weddings with authentic traditional elements. We focus on Indian and Middle Eastern markets with proper cultural details, bilingual support, and designs that respect traditions while embracing modern aesthetics.\"\n  }\n];\n","path":null,"size_bytes":7899,"size_tokens":null},"client/src/components/CustomerReviews.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Star, Quote } from \"lucide-react\";\n\ninterface Review {\n  id: string;\n  name: string;\n  location: string;\n  rating: number;\n  date: string;\n  review: string;\n  weddingType: string;\n  avatar?: string;\n}\n\nconst reviews: Review[] = [\n  {\n    id: \"1\",\n    name: \"Priya & Rahul Sharma\",\n    location: \"Mumbai, India\",\n    rating: 5,\n    date: \"2024-11-15\",\n    review: \"We used WeddingInvite.ai for our Hindu wedding invitation and it was absolutely stunning! The Punjabi template captured our traditions perfectly. Our guests loved receiving the video on WhatsApp - so convenient!\",\n    weddingType: \"Hindu Wedding\",\n  },\n  {\n    id: \"2\",\n    name: \"Fatima Al-Hassan\",\n    location: \"Dubai, UAE\",\n    rating: 5,\n    date: \"2024-11-20\",\n    review: \"The Arabic wedding invitation template was elegant and perfectly captured our Gulf wedding traditions. The bilingual support for English and Arabic made it easy for all our guests to understand. Highly recommended!\",\n    weddingType: \"Arabic Wedding\",\n  },\n  {\n    id: \"3\",\n    name: \"Ananya & Karthik Reddy\",\n    location: \"Hyderabad, India\",\n    rating: 5,\n    date: \"2024-10-28\",\n    review: \"Created beautiful invitations for our South Indian wedding. The temple wedding design was authentic and the customization options were incredible. The music selection added such a nice touch!\",\n    weddingType: \"South Indian Wedding\",\n  },\n  {\n    id: \"4\",\n    name: \"Ahmed & Noura\",\n    location: \"Riyadh, Saudi Arabia\",\n    rating: 5,\n    date: \"2024-11-05\",\n    review: \"Perfect for our Saudi wedding celebration! The design was luxurious and elegant. We loved how easy it was to share with our guests. The video quality was excellent.\",\n    weddingType: \"Saudi Wedding\",\n  },\n  {\n    id: \"5\",\n    name: \"Simran & Gurpreet Singh\",\n    location: \"Delhi, India\",\n    rating: 5,\n    date: \"2024-09-18\",\n    review: \"Our Punjabi wedding invitation was a hit with all our relatives! The Bhangra-themed video with the marigold decorations was so vibrant and colorful. Everyone asked us where we made it!\",\n    weddingType: \"Punjabi Wedding\",\n  },\n  {\n    id: \"6\",\n    name: \"Deepika & Arjun Nair\",\n    location: \"Chennai, India\",\n    rating: 5,\n    date: \"2024-10-10\",\n    review: \"Used it for our engagement ceremony invitation. The customization was so easy - we added our photos and it looked professional. Great value for money compared to traditional print invitations.\",\n    weddingType: \"Engagement Ceremony\",\n  },\n];\n\nfunction formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString('en-US', { \n    year: 'numeric', \n    month: 'long', \n    day: 'numeric' \n  });\n}\n\nexport function CustomerReviews() {\n  const aggregateRating = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"Product\",\n    \"name\": \"WeddingInvite.ai Video Invitations\",\n    \"description\": \"Premium wedding video invitation maker for Indian, Arabic, and international weddings\",\n    \"aggregateRating\": {\n      \"@type\": \"AggregateRating\",\n      \"ratingValue\": \"4.9\",\n      \"reviewCount\": reviews.length.toString(),\n      \"bestRating\": \"5\",\n      \"worstRating\": \"1\"\n    },\n    \"review\": reviews.map(r => ({\n      \"@type\": \"Review\",\n      \"author\": {\n        \"@type\": \"Person\",\n        \"name\": r.name\n      },\n      \"datePublished\": r.date,\n      \"reviewBody\": r.review,\n      \"reviewRating\": {\n        \"@type\": \"Rating\",\n        \"ratingValue\": r.rating.toString(),\n        \"bestRating\": \"5\",\n        \"worstRating\": \"1\"\n      }\n    }))\n  };\n\n  return (\n    <section className=\"py-16 md:py-24 bg-muted/30\" id=\"reviews\">\n      <script \n        type=\"application/ld+json\"\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(aggregateRating) }}\n      />\n      \n      <div className=\"container mx-auto px-4\">\n        <div className=\"text-center mb-12\">\n          <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-sm font-medium text-primary mb-4\">\n            <Star className=\"w-4 h-4 fill-current\" />\n            4.9 out of 5 based on {reviews.length}+ reviews\n          </div>\n          <h2 className=\"font-playfair text-3xl md:text-4xl font-bold text-foreground mb-4\">\n            Loved by Couples Worldwide\n          </h2>\n          <p className=\"text-muted-foreground text-lg max-w-2xl mx-auto\">\n            See what couples from India, UAE, and Saudi Arabia say about their wedding invitation experience\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto\">\n          {reviews.map((review) => (\n            <Card \n              key={review.id} \n              className=\"p-6 relative overflow-hidden\"\n              data-testid={`card-review-${review.id}`}\n            >\n              <Quote className=\"absolute top-4 right-4 w-8 h-8 text-primary/10\" />\n              \n              <div className=\"flex items-center gap-1 mb-3\">\n                {[...Array(5)].map((_, i) => (\n                  <Star \n                    key={i} \n                    className={`w-4 h-4 ${i < review.rating ? 'text-yellow-500 fill-current' : 'text-muted'}`}\n                  />\n                ))}\n              </div>\n              \n              <p className=\"text-muted-foreground mb-4 leading-relaxed\">\n                \"{review.review}\"\n              </p>\n              \n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold text-sm\">\n                  {review.name.split(' ').map(n => n[0]).slice(0, 2).join('')}\n                </div>\n                <div>\n                  <p className=\"font-semibold text-foreground text-sm\">{review.name}</p>\n                  <p className=\"text-xs text-muted-foreground\">{review.location}</p>\n                </div>\n              </div>\n              \n              <div className=\"mt-4 pt-4 border-t flex items-center justify-between text-xs text-muted-foreground\">\n                <span className=\"bg-primary/10 text-primary px-2 py-0.5 rounded\">{review.weddingType}</span>\n                <span>{formatDate(review.date)}</span>\n              </div>\n            </Card>\n          ))}\n        </div>\n\n        <div className=\"text-center mt-10\">\n          <p className=\"text-muted-foreground\">\n            Join <span className=\"font-semibold text-foreground\">10,000+</span> happy couples who created their perfect invitation\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":6590,"size_tokens":null},"client/src/pages/ArticlePage.tsx":{"content":"import { useRoute, Link } from \"wouter\";\nimport { SEOHead } from \"@/components/SEOHead\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card } from \"@/components/ui/card\";\nimport { \n  ArrowLeft, \n  Calendar, \n  User, \n  Clock, \n  Share2, \n  Facebook, \n  Twitter, \n  Linkedin,\n  ChevronRight\n} from \"lucide-react\";\nimport { SiWhatsapp } from \"react-icons/si\";\n\nimport homepageHero from \"@assets/generated_images/Homepage_cinematic_wedding_hero_efb94fa0.png\";\nimport indianPunjabiHero from \"@assets/generated_images/Indian_Punjabi_wedding_culture_b8245c44.png\";\nimport arabicHero from \"@assets/generated_images/Arabic_UAE_wedding_culture_5fdde5ea.png\";\n\ninterface Article {\n  id: string;\n  title: string;\n  slug: string;\n  excerpt: string;\n  content: string;\n  author: string;\n  authorBio: string;\n  category: string;\n  publishedAt: string;\n  readTime: string;\n  thumbnailUrl: string;\n  tags: string[];\n}\n\nconst articles: Article[] = [\n  {\n    id: \"1\",\n    title: \"10 Wedding Video Invitation Trends for 2024\",\n    slug: \"wedding-video-invitation-trends-2024\",\n    excerpt: \"Discover the hottest trends in wedding video invitations, from AI-generated content to culturally authentic designs.\",\n    content: `\n## The Evolution of Wedding Video Invitations\n\nWedding video invitations have transformed from simple digital cards to cinematic experiences that capture the essence of your love story. In 2024, couples are embracing innovative technologies and cultural authenticity like never before.\n\n### 1. AI-Powered Personalization\n\nArtificial intelligence is revolutionizing how couples create their wedding invitations. From automated photo enhancement to intelligent text suggestions, AI helps create professional-looking invitations in minutes.\n\n### 2. Cinematic Quality on Mobile\n\nWith smartphone cameras improving dramatically, couples can now create cinema-quality invitation videos using just their phones. The trend is moving towards authentic, heartfelt content over overly produced videos.\n\n### 3. Cultural Fusion Designs\n\nModern couples are blending traditional elements from multiple cultures. Indian-Western fusion, Arabic-Modern combinations, and multicultural celebrations are reflected in invitation designs.\n\n### 4. Interactive Elements\n\nQR codes, clickable RSVPs, and embedded maps are becoming standard features. Guests can respond to invitations, add events to their calendars, and get directions—all from the invitation itself.\n\n### 5. Sustainable Digital Alternatives\n\nEnvironmental consciousness is driving more couples to choose digital invitations over paper. Video invitations offer a zero-waste alternative that's both beautiful and eco-friendly.\n\n### 6. Music Integration\n\nCustom soundtracks and meaningful songs are being integrated into video invitations. Platforms like WeddingInvite.ai offer curated music libraries specifically designed for wedding celebrations.\n\n### 7. WhatsApp-First Design\n\nIn regions like India and the Middle East, WhatsApp is the primary sharing platform. Video invitations are now optimized for WhatsApp sharing with perfect compression and preview thumbnails.\n\n### 8. Multiple Event Coverage\n\nVideo invitations now cover entire wedding celebrations—from engagement to reception. Multi-page video invitations let couples showcase all their events in one beautiful package.\n\n### 9. Real-Time Editing\n\nCloud-based editors allow couples to make last-minute changes easily. Whether it's updating venue details or adding a new event, modern platforms support real-time collaboration.\n\n### 10. Premium Templates for Every Culture\n\nFrom South Indian temple weddings to Arabic Zaffa celebrations, premium templates now cater to specific cultural traditions with authentic designs and appropriate color palettes.\n\n## Conclusion\n\nThe wedding invitation industry is evolving rapidly. Whether you choose a traditional approach or embrace the latest technology, the goal remains the same: to share your joy with loved ones in a memorable way.\n\nReady to create your perfect wedding video invitation? [Browse our templates](/templates/wedding) to find the design that speaks to your love story.\n    `,\n    author: \"Sophia Martinez\",\n    authorBio: \"Wedding industry expert with 10+ years of experience in digital invitation design.\",\n    category: \"Trends\",\n    publishedAt: \"Dec 15, 2024\",\n    readTime: \"8 min read\",\n    thumbnailUrl: homepageHero,\n    tags: [\"wedding trends\", \"video invitations\", \"2024 weddings\", \"digital invitations\"],\n  },\n  {\n    id: \"2\",\n    title: \"Guide to Planning a Traditional Indian Wedding\",\n    slug: \"traditional-indian-wedding-planning-guide\",\n    excerpt: \"Everything you need to know about planning an authentic Indian wedding celebration with traditional ceremonies and modern touches.\",\n    content: `\n## Planning Your Traditional Indian Wedding\n\nAn Indian wedding is a vibrant celebration that spans multiple days, filled with rich traditions, colorful ceremonies, and joyous festivities. This comprehensive guide will help you plan an authentic Indian wedding while incorporating modern conveniences.\n\n### Understanding Indian Wedding Ceremonies\n\n#### Pre-Wedding Ceremonies\n\n**Roka/Engagement**: The formal announcement of the couple's intention to marry, often involving ring exchange and family blessings.\n\n**Mehndi**: A beautiful ceremony where intricate henna designs are applied to the bride's hands and feet.\n\n**Sangeet**: A musical night filled with dancing, singing, and family performances.\n\n**Haldi**: A cleansing ceremony where turmeric paste is applied to the bride and groom.\n\n#### The Wedding Day\n\n**Baraat**: The groom's procession, traditionally on a horse or elephant, accompanied by music and dancing.\n\n**Jaimala**: Exchange of flower garlands between bride and groom.\n\n**Pheras**: The seven sacred vows taken around the holy fire.\n\n**Vidaai**: The emotional farewell as the bride leaves her parental home.\n\n### Regional Variations\n\n#### North Indian Weddings\n- Elaborate Baraat processions\n- Chunni ceremony\n- Joota chupai (shoe hiding game)\n\n#### South Indian Weddings\n- Temple ceremonies\n- Muhurtham timing\n- Thali (Mangalsutra) ceremony\n- Saree draping traditions\n\n#### Punjabi Weddings\n- Chooda ceremony\n- Kalire tradition\n- Energetic Bhangra performances\n\n### Modern Touches\n\nToday's Indian couples are blending tradition with modernity:\n\n1. **Digital Invitations**: Video invitations that showcase cultural elements\n2. **Destination Weddings**: Traditional ceremonies in exotic locations\n3. **Fusion Attire**: Western elements mixed with traditional wear\n4. **Technology Integration**: Live streaming for distant relatives\n\n### Budgeting Tips\n\nIndian weddings can be elaborate affairs. Here's how to manage costs:\n\n- Prioritize must-have ceremonies\n- Consider off-season dates\n- Negotiate package deals with vendors\n- Use digital solutions for invitations and RSVPs\n\n### Creating Your Wedding Invitation\n\nYour invitation sets the tone for your celebration. Include:\n\n- All ceremony dates and timings\n- Venue addresses with maps\n- Dress code for each event\n- RSVP information\n\n[Create your Indian wedding video invitation](/culture/indian-wedding-video-invitation) with our authentic templates.\n\n## Conclusion\n\nAn Indian wedding is a once-in-a-lifetime celebration of love, family, and tradition. With careful planning and the right resources, you can create a memorable event that honors your heritage while reflecting your unique love story.\n    `,\n    author: \"Priya Sharma\",\n    authorBio: \"Cultural wedding consultant specializing in traditional Indian ceremonies.\",\n    category: \"Cultural Guides\",\n    publishedAt: \"Dec 10, 2024\",\n    readTime: \"12 min read\",\n    thumbnailUrl: indianPunjabiHero,\n    tags: [\"indian wedding\", \"traditional wedding\", \"wedding planning\", \"hindu wedding\"],\n  },\n  {\n    id: \"3\",\n    title: \"How to Create Cinematic Wedding Videos on Budget\",\n    slug: \"create-cinematic-wedding-videos-budget\",\n    excerpt: \"Professional tips for creating stunning cinematic wedding video invitations without breaking the bank.\",\n    content: `\n## Creating Cinematic Wedding Videos on a Budget\n\nYou don't need a Hollywood budget to create stunning wedding video invitations. With the right techniques and tools, you can achieve cinematic quality that impresses your guests.\n\n### Equipment Essentials\n\n#### Smartphone Filming\nModern smartphones can capture incredible footage:\n- Use the highest resolution available (4K if possible)\n- Stabilize with a gimbal or tripod\n- Film during golden hour for beautiful lighting\n- Clean your lens before filming\n\n#### Lighting Tips\n- Natural light is your best friend\n- Film outdoors during sunrise or sunset\n- Use reflectors to fill shadows\n- Avoid harsh midday sun\n\n### Composition Techniques\n\n#### Rule of Thirds\nPlace your subjects at intersection points for visually pleasing compositions.\n\n#### Leading Lines\nUse paths, fences, or architectural elements to draw attention to your subjects.\n\n#### Depth of Field\nCreate cinematic blur by:\n- Standing back and zooming in\n- Using portrait mode on newer phones\n- Filming at wider apertures if using a camera\n\n### Free and Affordable Tools\n\n#### Editing Software\n- **DaVinci Resolve**: Professional-grade, completely free\n- **CapCut**: Mobile-friendly with great effects\n- **Canva Video**: Easy drag-and-drop editing\n\n#### Music Resources\n- Royalty-free music libraries\n- Platform-provided soundtracks (like WeddingInvite.ai's music library)\n- Creative Commons licensed tracks\n\n### Budget-Saving Tips\n\n1. **DIY Pre-Wedding Shoots**: Film your own engagement sessions\n2. **Use Templates**: Start with professionally designed templates\n3. **Batch Your Filming**: Capture all footage in one session\n4. **Leverage Natural Settings**: Parks, beaches, and gardens are free\n5. **Ask Talented Friends**: Many people have hidden creative skills\n\n### The Power of Templates\n\nWedding video invitation platforms like WeddingInvite.ai offer:\n- Professionally designed templates\n- Built-in music libraries\n- Easy customization tools\n- Multiple page support\n- WhatsApp-optimized output\n\n### Post-Production Magic\n\n#### Color Grading\nApply cinematic color presets to give your footage that professional look.\n\n#### Sound Design\n- Layer subtle ambient sounds\n- Use music that matches your wedding mood\n- Ensure audio levels are balanced\n\n#### Text and Graphics\n- Use elegant, readable fonts\n- Keep text minimal and impactful\n- Match graphics to your wedding theme\n\n## Conclusion\n\nCreating a cinematic wedding video invitation doesn't require expensive equipment or professional skills. With smartphone cameras, free editing tools, and platform templates, you can create something truly beautiful.\n\n[Start creating your cinematic invitation](/templates/wedding) today with our easy-to-use platform.\n    `,\n    author: \"Michael Chen\",\n    authorBio: \"Videographer and content creator helping couples tell their love stories.\",\n    category: \"Tips & Tricks\",\n    publishedAt: \"Dec 5, 2024\",\n    readTime: \"10 min read\",\n    thumbnailUrl: homepageHero,\n    tags: [\"video tips\", \"budget wedding\", \"DIY wedding\", \"cinematic video\"],\n  },\n  {\n    id: \"4\",\n    title: \"Arabic Wedding Traditions: A Complete Guide\",\n    slug: \"arabic-wedding-traditions-complete-guide\",\n    excerpt: \"Explore the rich traditions of Arabic weddings from engagement to Zaffa procession and everything in between.\",\n    content: `\n## Arabic Wedding Traditions: A Complete Guide\n\nArabic weddings are magnificent celebrations that blend ancient traditions with modern elegance. From the UAE to Saudi Arabia, these weddings are known for their grandeur, hospitality, and deep-rooted customs.\n\n### The Engagement (Khetbeh)\n\nThe journey begins with the **Khetbeh**, where the groom's family formally asks for the bride's hand. This involves:\n\n- Formal meeting of both families\n- Discussion of mahr (bride's gift)\n- Exchange of rings\n- Reading of Al-Fatiha (opening chapter of Quran)\n\n### Pre-Wedding Celebrations\n\n#### Henna Night (Laylat Al-Henna)\nA joyous women-only celebration featuring:\n- Intricate henna designs for the bride\n- Traditional songs and dances\n- Sweets and refreshments\n- Quality time with female relatives\n\n#### Bridal Preparation\nThe bride undergoes beauty rituals including:\n- Hammam (traditional bath)\n- Professional makeup and styling\n- Trying on her wedding attire\n- Final dress fittings\n\n### The Wedding Day\n\n#### The Zaffa Procession\nThe iconic Arabic wedding procession features:\n- Professional dancers and musicians\n- Drummers and traditional instruments\n- The couple's grand entrance\n- Family and friends joining the celebration\n\n#### The Ceremony\nArabic wedding ceremonies include:\n- Reading of the marriage contract (Aqd)\n- Exchange of vows and rings\n- Blessings from religious leaders\n- First dance as married couple\n\n### Regional Variations\n\n#### UAE Weddings\n- Lavish hotel venues\n- Separate celebrations for men and women\n- Elaborate bridal entrances\n- Traditional Emirati dances\n\n#### Saudi Arabian Weddings\n- Grand ballroom celebrations\n- Traditional Ardha dance\n- Generous hospitality\n- Multiple-day festivities\n\n#### Gulf Region Customs\n- Pearl and gold decorations\n- Traditional incense burning\n- Arabic coffee ceremonies\n- Date palm motifs\n\n### Modern Arabic Weddings\n\nToday's couples blend tradition with contemporary elements:\n\n1. **Digital Invitations**: Video invitations with Arabic calligraphy\n2. **International Venues**: Destination weddings worldwide\n3. **Designer Attire**: International designers with Arabic flair\n4. **Technology**: Live streaming for international guests\n\n### Creating Your Arabic Wedding Invitation\n\nYour invitation should reflect:\n- Elegant Arabic typography\n- Gold and rich color palettes\n- Both Arabic and English text\n- All event details and dress codes\n\n[Create your Arabic wedding video invitation](/culture/arabic-wedding-video-uae-saudi) with our authentic templates.\n\n## Conclusion\n\nArabic weddings are a beautiful blend of tradition, family, and celebration. Whether you're planning a traditional ceremony or a modern fusion event, these customs create memories that last a lifetime.\n    `,\n    author: \"Fatima Al-Hassan\",\n    authorBio: \"Wedding planner specializing in traditional Arabic celebrations across the Gulf region.\",\n    category: \"Cultural Guides\",\n    publishedAt: \"Nov 28, 2024\",\n    readTime: \"11 min read\",\n    thumbnailUrl: arabicHero,\n    tags: [\"arabic wedding\", \"UAE wedding\", \"Saudi wedding\", \"gulf wedding\", \"zaffa\"],\n  },\n  {\n    id: \"5\",\n    title: \"5 Ways AI is Revolutionizing Wedding Invitations\",\n    slug: \"ai-revolutionizing-wedding-invitations\",\n    excerpt: \"How artificial intelligence is transforming the way couples create and share their wedding invitations.\",\n    content: `\n## 5 Ways AI is Revolutionizing Wedding Invitations\n\nArtificial intelligence is no longer just a futuristic concept—it's actively transforming how couples create, personalize, and share their wedding invitations. Here's how AI is making wedding planning easier and more creative than ever.\n\n### 1. Smart Photo Enhancement\n\nAI-powered tools can automatically:\n- Enhance photo quality and resolution\n- Remove unwanted background elements\n- Adjust lighting and color balance\n- Apply professional-grade filters\n\nGone are the days of needing a professional photographer for every invitation photo. AI can transform casual snapshots into stunning visuals.\n\n### 2. Intelligent Text Suggestions\n\nModern AI can help craft the perfect wedding invitation text:\n- Suggest elegant wording for different ceremony types\n- Translate content into multiple languages\n- Ensure cultural appropriateness\n- Check grammar and spelling automatically\n\n### 3. Personalized Design Recommendations\n\nAI algorithms analyze your preferences to:\n- Suggest color palettes that match your theme\n- Recommend fonts that complement your style\n- Propose layouts based on your content\n- Adapt designs for different cultures\n\n### 4. Automated Video Creation\n\nAI-powered video platforms can:\n- Generate smooth transitions between scenes\n- Sync photos and videos to music automatically\n- Add professional motion graphics\n- Optimize output for different platforms (WhatsApp, Instagram, etc.)\n\n### 5. Smart Guest Management\n\nAI enhances the invitation process by:\n- Tracking RSVPs automatically\n- Sending personalized reminders\n- Managing dietary preferences\n- Organizing seating suggestions\n\n### The Future of AI in Wedding Invitations\n\nWe're just scratching the surface. Future developments may include:\n- Real-time 3D venue previews\n- Voice-activated customization\n- Augmented reality invitation experiences\n- Predictive guest behavior analysis\n\n### Finding the Right Balance\n\nWhile AI offers incredible capabilities, the best wedding invitations still need a human touch:\n- Personal stories and memories\n- Family traditions and customs\n- Authentic emotional content\n- Unique couple personalities\n\n### Platforms Leading the Way\n\nModern invitation platforms like WeddingInvite.ai combine AI capabilities with:\n- Culturally authentic templates\n- Easy-to-use editors\n- Multiple language support\n- WhatsApp optimization\n\n## Conclusion\n\nAI is democratizing wedding invitation design, making professional-quality results accessible to everyone. The technology handles the technical complexity, freeing couples to focus on what matters most: celebrating their love.\n\n[Experience AI-powered invitation creation](/templates/wedding) with our platform.\n    `,\n    author: \"David Park\",\n    authorBio: \"Technology journalist covering AI applications in lifestyle and events.\",\n    category: \"Technology\",\n    publishedAt: \"Nov 20, 2024\",\n    readTime: \"7 min read\",\n    thumbnailUrl: homepageHero,\n    tags: [\"AI\", \"technology\", \"wedding tech\", \"innovation\", \"digital invitations\"],\n  },\n  {\n    id: \"6\",\n    title: \"Nigerian Wedding Customs: Colors, Dances, and Joy\",\n    slug: \"nigerian-wedding-customs-guide\",\n    excerpt: \"A vibrant journey through Nigerian wedding traditions, from Ankara fabrics to traditional dances.\",\n    content: `\n## Nigerian Wedding Customs: Colors, Dances, and Joy\n\nNigerian weddings are legendary celebrations known for their vibrant colors, energetic music, and deep cultural significance. This guide explores the rich traditions that make Nigerian weddings unforgettable.\n\n### Pre-Wedding Ceremonies\n\n#### Introduction Ceremony\nThe first formal meeting between families:\n- Groom's family visits bride's family\n- Exchange of gifts and kola nuts\n- Discussion of bride price\n- Formal blessing requests\n\n#### Traditional Engagement\nA colorful celebration featuring:\n- Matching Aso Ebi (family uniform) outfits\n- Traditional dances and performances\n- Exchange of engagement items\n- Prayers and blessings\n\n### The Wedding Attire\n\n#### Bride's Attire\nNigerian brides often change outfits multiple times:\n- Traditional wrapper and blouse (Iro and Buba)\n- Elaborate Gele (head wrap)\n- Coral beads and gold jewelry\n- White wedding gown for ceremony\n\n#### Groom's Attire\nGrooms dress equally magnificently in:\n- Agbada (flowing robe)\n- Fila (traditional cap)\n- Aso Oke fabric\n- Beaded accessories\n\n### Traditional Ceremonies\n\n#### Yoruba Weddings\n- Engagement letter reading\n- Wine carrying ceremony\n- Prostration of the groom\n- Blessing from elders\n\n#### Igbo Weddings\n- Wine carrying by the bride\n- Breaking of kola nut\n- Igba Nkwu ceremony\n- Traditional dances\n\n#### Hausa Weddings\n- Kayan Zance gifts\n- Walima celebration\n- Traditional music\n- Islamic prayers\n\n### Music and Dance\n\nNigerian weddings feature incredible entertainment:\n- Live band performances\n- Traditional drummers\n- Juju music\n- Afrobeats DJs\n- Professional dancers\n\n### The Aso Ebi Tradition\n\nAso Ebi means \"family cloth\":\n- Families wear matching fabrics\n- Shows unity and support\n- Creates stunning visual impact\n- Often custom-made for the event\n\n### Modern Nigerian Weddings\n\nContemporary couples blend traditions with:\n- Destination wedding locations\n- Professional photography/videography\n- Social media documentation\n- Luxury venue choices\n- Celebrity performances\n\n### Creating Your Nigerian Wedding Invitation\n\nYour invitation should capture:\n- Vibrant African patterns\n- Rich color combinations\n- All ceremony details\n- Traditional and modern elements\n\n[Explore our African wedding templates](/culture/nigerian-traditional-wedding-video) for authentic designs.\n\n## Conclusion\n\nNigerian weddings are celebrations of life, love, and community. The fusion of traditional customs with modern elements creates events that are both culturally meaningful and incredibly memorable.\n    `,\n    author: \"Chioma Okonkwo\",\n    authorBio: \"Nigerian event planner and cultural traditions expert based in Lagos.\",\n    category: \"Cultural Guides\",\n    publishedAt: \"Nov 15, 2024\",\n    readTime: \"9 min read\",\n    thumbnailUrl: indianPunjabiHero,\n    tags: [\"nigerian wedding\", \"african wedding\", \"yoruba\", \"igbo\", \"cultural wedding\"],\n  },\n];\n\nexport default function ArticlePage() {\n  const [, params] = useRoute(\"/blog/:slug\");\n  const slug = params?.slug;\n  \n  const article = articles.find(a => a.slug === slug);\n  \n  if (!article) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-4xl font-bold text-foreground mb-4\">Article Not Found</h1>\n          <p className=\"text-muted-foreground mb-6\">The article you're looking for doesn't exist.</p>\n          <Link href=\"/blog\">\n            <Button>Back to Blog</Button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  const relatedArticles = articles\n    .filter(a => a.id !== article.id && a.category === article.category)\n    .slice(0, 3);\n\n  const shareUrl = typeof window !== 'undefined' ? window.location.href : '';\n  const shareText = `${article.title} - WeddingInvite.ai Blog`;\n\n  const handleShare = async (platform: string) => {\n    const urls: Record<string, string> = {\n      facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`,\n      twitter: `https://twitter.com/intent/tweet?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareText)}`,\n      linkedin: `https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(shareUrl)}&title=${encodeURIComponent(article.title)}`,\n      whatsapp: `https://wa.me/?text=${encodeURIComponent(`${shareText} ${shareUrl}`)}`,\n    };\n    \n    if (urls[platform]) {\n      window.open(urls[platform], '_blank', 'width=600,height=400');\n    }\n  };\n\n  const articleSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"Article\",\n    \"headline\": article.title,\n    \"description\": article.excerpt,\n    \"image\": article.thumbnailUrl,\n    \"author\": {\n      \"@type\": \"Person\",\n      \"name\": article.author\n    },\n    \"publisher\": {\n      \"@type\": \"Organization\",\n      \"name\": \"WeddingInvite.ai\",\n      \"logo\": {\n        \"@type\": \"ImageObject\",\n        \"url\": \"https://weddinginvite.ai/logo.png\"\n      }\n    },\n    \"datePublished\": article.publishedAt,\n    \"dateModified\": article.publishedAt,\n    \"mainEntityOfPage\": {\n      \"@type\": \"WebPage\",\n      \"@id\": shareUrl\n    }\n  };\n\n  const breadcrumbSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"BreadcrumbList\",\n    \"itemListElement\": [\n      {\n        \"@type\": \"ListItem\",\n        \"position\": 1,\n        \"name\": \"Home\",\n        \"item\": \"https://weddinginvite.ai\"\n      },\n      {\n        \"@type\": \"ListItem\",\n        \"position\": 2,\n        \"name\": \"Blog\",\n        \"item\": \"https://weddinginvite.ai/blog\"\n      },\n      {\n        \"@type\": \"ListItem\",\n        \"position\": 3,\n        \"name\": article.title,\n        \"item\": shareUrl\n      }\n    ]\n  };\n\n  return (\n    <>\n      <SEOHead\n        title={`${article.title} | WeddingInvite.ai Blog`}\n        description={article.excerpt}\n        keywords={article.tags.join(\", \")}\n        ogImage={article.thumbnailUrl}\n        ogType=\"article\"\n        canonical={`/blog/${article.slug}`}\n        schema={[articleSchema, breadcrumbSchema]}\n      />\n\n      <article className=\"py-8 md:py-12 lg:py-16\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          {/* Breadcrumbs */}\n          <nav className=\"flex items-center gap-2 text-sm text-muted-foreground mb-6\" aria-label=\"Breadcrumb\">\n            <Link href=\"/\" className=\"hover:text-primary transition-colors\">Home</Link>\n            <ChevronRight className=\"w-4 h-4\" />\n            <Link href=\"/blog\" className=\"hover:text-primary transition-colors\">Blog</Link>\n            <ChevronRight className=\"w-4 h-4\" />\n            <span className=\"text-foreground line-clamp-1\">{article.title}</span>\n          </nav>\n\n          {/* Back Button */}\n          <Link href=\"/blog\" className=\"inline-flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors mb-8\">\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back to Blog\n          </Link>\n\n          {/* Article Header */}\n          <header className=\"mb-8\">\n            <Badge className=\"mb-4\" data-testid=\"badge-category\">{article.category}</Badge>\n            <h1 className=\"font-playfair text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-4 leading-tight\" data-testid=\"text-article-title\">\n              {article.title}\n            </h1>\n            <p className=\"text-lg text-muted-foreground mb-6\">\n              {article.excerpt}\n            </p>\n            \n            {/* Meta Info */}\n            <div className=\"flex flex-wrap items-center gap-4 text-sm text-muted-foreground\">\n              <span className=\"flex items-center gap-1.5\">\n                <User className=\"w-4 h-4\" />\n                {article.author}\n              </span>\n              <span className=\"flex items-center gap-1.5\">\n                <Calendar className=\"w-4 h-4\" />\n                {article.publishedAt}\n              </span>\n              <span className=\"flex items-center gap-1.5\">\n                <Clock className=\"w-4 h-4\" />\n                {article.readTime}\n              </span>\n            </div>\n          </header>\n\n          {/* Featured Image */}\n          <div className=\"relative aspect-[16/9] rounded-xl overflow-hidden mb-8 bg-muted\">\n            <img\n              src={article.thumbnailUrl}\n              alt={article.title}\n              className=\"w-full h-full object-cover\"\n              data-testid=\"img-article-hero\"\n            />\n          </div>\n\n          {/* Share Buttons */}\n          <div className=\"flex items-center gap-3 mb-8 pb-8 border-b\">\n            <span className=\"text-sm text-muted-foreground flex items-center gap-1.5\">\n              <Share2 className=\"w-4 h-4\" />\n              Share:\n            </span>\n            <Button \n              variant=\"outline\" \n              size=\"icon\" \n              onClick={() => handleShare('facebook')}\n              aria-label=\"Share on Facebook\"\n              data-testid=\"button-share-facebook\"\n            >\n              <Facebook className=\"w-4 h-4\" />\n            </Button>\n            <Button \n              variant=\"outline\" \n              size=\"icon\" \n              onClick={() => handleShare('twitter')}\n              aria-label=\"Share on Twitter\"\n              data-testid=\"button-share-twitter\"\n            >\n              <Twitter className=\"w-4 h-4\" />\n            </Button>\n            <Button \n              variant=\"outline\" \n              size=\"icon\" \n              onClick={() => handleShare('linkedin')}\n              aria-label=\"Share on LinkedIn\"\n              data-testid=\"button-share-linkedin\"\n            >\n              <Linkedin className=\"w-4 h-4\" />\n            </Button>\n            <Button \n              variant=\"outline\" \n              size=\"icon\" \n              onClick={() => handleShare('whatsapp')}\n              aria-label=\"Share on WhatsApp\"\n              data-testid=\"button-share-whatsapp\"\n            >\n              <SiWhatsapp className=\"w-4 h-4\" />\n            </Button>\n          </div>\n\n          {/* Article Content */}\n          <div \n            className=\"prose prose-lg dark:prose-invert max-w-none mb-12\"\n            data-testid=\"article-content\"\n          >\n            {article.content.split('\\n').map((paragraph, index) => {\n              const trimmed = paragraph.trim();\n              if (!trimmed) return null;\n              \n              if (trimmed.startsWith('## ')) {\n                return <h2 key={index} className=\"font-playfair text-2xl md:text-3xl font-bold mt-8 mb-4\">{trimmed.replace('## ', '')}</h2>;\n              }\n              if (trimmed.startsWith('### ')) {\n                return <h3 key={index} className=\"font-playfair text-xl md:text-2xl font-semibold mt-6 mb-3\">{trimmed.replace('### ', '')}</h3>;\n              }\n              if (trimmed.startsWith('#### ')) {\n                return <h4 key={index} className=\"font-semibold text-lg mt-4 mb-2\">{trimmed.replace('#### ', '')}</h4>;\n              }\n              if (trimmed.startsWith('**') && trimmed.endsWith('**')) {\n                return <p key={index} className=\"font-semibold my-2\">{trimmed.replace(/\\*\\*/g, '')}</p>;\n              }\n              if (trimmed.startsWith('- ')) {\n                return <li key={index} className=\"ml-4\">{trimmed.replace('- ', '')}</li>;\n              }\n              if (trimmed.match(/^\\d+\\./)) {\n                return <li key={index} className=\"ml-4\">{trimmed.replace(/^\\d+\\.\\s*/, '')}</li>;\n              }\n              if (trimmed.includes('[') && trimmed.includes('](/')) {\n                const linkMatch = trimmed.match(/\\[([^\\]]+)\\]\\(([^)]+)\\)/);\n                if (linkMatch) {\n                  const [, text, href] = linkMatch;\n                  const before = trimmed.split('[')[0];\n                  const after = trimmed.split(')')[1] || '';\n                  return (\n                    <p key={index} className=\"my-4 text-muted-foreground leading-relaxed\">\n                      {before}\n                      <Link href={href} className=\"text-primary hover:underline\">{text}</Link>\n                      {after}\n                    </p>\n                  );\n                }\n              }\n              return <p key={index} className=\"my-4 text-muted-foreground leading-relaxed\">{trimmed}</p>;\n            })}\n          </div>\n\n          {/* Tags */}\n          <div className=\"flex flex-wrap gap-2 mb-8 pb-8 border-b\">\n            {article.tags.map((tag) => (\n              <Badge key={tag} variant=\"secondary\" className=\"text-xs\">\n                {tag}\n              </Badge>\n            ))}\n          </div>\n\n          {/* Author Box */}\n          <div className=\"bg-card rounded-xl p-6 mb-12 border\">\n            <div className=\"flex items-start gap-4\">\n              <div className=\"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xl\">\n                {article.author.split(' ').map(n => n[0]).join('')}\n              </div>\n              <div>\n                <h4 className=\"font-semibold text-foreground mb-1\">{article.author}</h4>\n                <p className=\"text-sm text-muted-foreground\">{article.authorBio}</p>\n              </div>\n            </div>\n          </div>\n\n          {/* CTA Section */}\n          <div className=\"bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl p-8 text-center mb-12\">\n            <h3 className=\"font-playfair text-2xl font-bold text-foreground mb-3\">\n              Ready to Create Your Wedding Invitation?\n            </h3>\n            <p className=\"text-muted-foreground mb-6 max-w-xl mx-auto\">\n              Browse our collection of culturally authentic video invitation templates designed for weddings around the world.\n            </p>\n            <Link href=\"/templates/wedding\">\n              <Button size=\"lg\" data-testid=\"button-cta-templates\">\n                Browse Templates\n              </Button>\n            </Link>\n          </div>\n\n          {/* Related Articles */}\n          {relatedArticles.length > 0 && (\n            <section>\n              <h3 className=\"font-playfair text-2xl font-bold text-foreground mb-6\">\n                Related Articles\n              </h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                {relatedArticles.map((related) => (\n                  <Card key={related.id} className=\"group overflow-hidden\" data-testid={`card-related-${related.id}`}>\n                    <Link href={`/blog/${related.slug}`} className=\"block\">\n                      <div className=\"relative aspect-[16/10] overflow-hidden bg-muted\">\n                        <img\n                          src={related.thumbnailUrl}\n                          alt={related.title}\n                          className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\"\n                        />\n                      </div>\n                      <div className=\"p-4\">\n                        <h4 className=\"font-semibold text-foreground line-clamp-2 group-hover:text-primary transition-colors\">\n                          {related.title}\n                        </h4>\n                        <p className=\"text-sm text-muted-foreground mt-2 line-clamp-2\">\n                          {related.excerpt}\n                        </p>\n                      </div>\n                    </Link>\n                  </Card>\n                ))}\n              </div>\n            </section>\n          )}\n        </div>\n      </article>\n    </>\n  );\n}\n","path":null,"size_bytes":33491,"size_tokens":null},"client/src/components/OptimizedImage.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\n\ninterface OptimizedImageProps {\n  src: string;\n  alt: string;\n  className?: string;\n  priority?: boolean;\n  aspectRatio?: \"16/9\" | \"4/3\" | \"1/1\" | \"3/4\" | \"auto\";\n  objectFit?: \"cover\" | \"contain\" | \"fill\";\n  onLoad?: () => void;\n}\n\nexport function OptimizedImage({\n  src,\n  alt,\n  className = \"\",\n  priority = false,\n  aspectRatio = \"auto\",\n  objectFit = \"cover\",\n  onLoad,\n}: OptimizedImageProps) {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isInView, setIsInView] = useState(priority);\n  const imgRef = useRef<HTMLImageElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (priority) {\n      setIsInView(true);\n      return;\n    }\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsInView(true);\n            observer.disconnect();\n          }\n        });\n      },\n      {\n        rootMargin: \"200px\",\n        threshold: 0.01,\n      }\n    );\n\n    if (containerRef.current) {\n      observer.observe(containerRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, [priority]);\n\n  const handleLoad = () => {\n    setIsLoaded(true);\n    onLoad?.();\n  };\n\n  const aspectStyles = aspectRatio !== \"auto\" ? { aspectRatio } : {};\n\n  return (\n    <div\n      ref={containerRef}\n      className={`relative overflow-hidden ${className}`}\n      style={aspectStyles}\n    >\n      <div\n        className={`absolute inset-0 bg-gradient-to-br from-muted/50 to-muted transition-opacity duration-500 ${\n          isLoaded ? \"opacity-0\" : \"opacity-100\"\n        }`}\n      />\n      \n      {isInView && (\n        <img\n          ref={imgRef}\n          src={src}\n          alt={alt}\n          loading={priority ? \"eager\" : \"lazy\"}\n          decoding=\"async\"\n          onLoad={handleLoad}\n          className={`w-full h-full transition-opacity duration-500 ${\n            isLoaded ? \"opacity-100\" : \"opacity-0\"\n          }`}\n          style={{ objectFit }}\n        />\n      )}\n    </div>\n  );\n}\n\ninterface HeroImageProps {\n  src: string;\n  alt: string;\n  children?: React.ReactNode;\n  overlayClassName?: string;\n  minHeight?: string;\n  priority?: boolean;\n}\n\nexport function HeroImage({\n  src,\n  alt,\n  children,\n  overlayClassName = \"bg-gradient-to-b from-black/70 via-black/50 to-black/80\",\n  minHeight = \"60vh\",\n  priority = true,\n}: HeroImageProps) {\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  return (\n    <div\n      className=\"relative flex items-center justify-center overflow-hidden\"\n      style={{ minHeight }}\n    >\n      <div className=\"absolute inset-0 z-0\">\n        <div\n          className={`absolute inset-0 bg-muted transition-opacity duration-700 ${\n            isLoaded ? \"opacity-0\" : \"opacity-100\"\n          }`}\n        />\n        \n        <img\n          src={src}\n          alt={alt}\n          loading={priority ? \"eager\" : \"lazy\"}\n          decoding=\"async\"\n          onLoad={() => setIsLoaded(true)}\n          className={`w-full h-full object-cover transition-opacity duration-700 ${\n            isLoaded ? \"opacity-100\" : \"opacity-0\"\n          }`}\n        />\n        \n        <div className={`absolute inset-0 ${overlayClassName}`} />\n      </div>\n      \n      {children}\n    </div>\n  );\n}\n\ninterface LazyImageProps {\n  src: string;\n  alt: string;\n  className?: string;\n  wrapperClassName?: string;\n}\n\nexport function LazyImage({\n  src,\n  alt,\n  className = \"\",\n  wrapperClassName = \"\",\n}: LazyImageProps) {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsInView(true);\n            observer.disconnect();\n          }\n        });\n      },\n      {\n        rootMargin: \"100px\",\n        threshold: 0.01,\n      }\n    );\n\n    if (containerRef.current) {\n      observer.observe(containerRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, []);\n\n  return (\n    <div ref={containerRef} className={`relative ${wrapperClassName}`}>\n      <div\n        className={`absolute inset-0 bg-muted animate-pulse transition-opacity duration-300 ${\n          isLoaded ? \"opacity-0\" : \"opacity-100\"\n        }`}\n      />\n      \n      {isInView && (\n        <img\n          src={src}\n          alt={alt}\n          loading=\"lazy\"\n          decoding=\"async\"\n          onLoad={() => setIsLoaded(true)}\n          className={`transition-opacity duration-300 ${\n            isLoaded ? \"opacity-100\" : \"opacity-0\"\n          } ${className}`}\n        />\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":4791,"size_tokens":null}},"version":2}